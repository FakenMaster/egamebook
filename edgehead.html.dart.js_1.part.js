self.$dart_deferred_initializers$=self.$dart_deferred_initializers$||Object.create(null)
$dart_deferred_initializers$.current=function($globals$,$){var A=$globals$.A
var B=$globals$.B
var C=$globals$.C
var D=$globals$.D
var E=$globals$.E
var F=$globals$.F
var G=$globals$.G
var H=$globals$.H
var J=$globals$.J
var K=$globals$.K
var L=$globals$.L
var M=$globals$.M
var N=$globals$.N
var O=$globals$.O
var P=$globals$.P
var Q=$globals$.Q
var R=$globals$.R
var S=$globals$.S
var T=$globals$.T
var U=$globals$.U
var V=$globals$.V
var W=$globals$.W
var X=$globals$.X
var Y=$globals$.Y
var Z=$globals$.Z
var init=$globals$.init
var setupProgram=$globals$.setupProgram
var I=$globals$.I
var dart=[["","",,P,{"^":"",
cV:function(a,b,c){var z,y,x
if(b===0){if(c.gf3())J.k7(c.c)
else J.ef(c.a)
return}else if(b===1){if(c.gf3())c.c.eV(H.I(a),H.T(a))
else{z=H.I(a)
y=H.T(a)
c.a.cO(z,y)
J.ef(c.a)}return}if(a instanceof P.ce){if(c.gf3()){b.$2(2,null)
return}z=a.b
if(z===0){z=a.a
J.fQ(c.a,z)
P.d4(new P.up(b,c))
return}else if(z===1){x=a.a
c.a.hL(x,!1).Z(new P.uq(b,c))
return}}P.jq(a,b)},
uU:function(a){return J.fW(a)},
up:{"^":"a:1;a,b",
$0:function(){var z=this.b
if(z.a.gbt()){z.b=!0
return}this.a.$2(null,0)}},
uq:{"^":"a:0;a,b",
$1:function(a){var z=this.b.c!=null?2:0
this.a.$2(z,null)}},
rS:{"^":"c;a,b,c",
gcA:function(a){return J.fW(this.a)},
gbt:function(){return this.a.gbt()},
gf3:function(){return this.c!=null},
l:function(a,b){return J.fQ(this.a,b)},
cO:function(a,b){return this.a.cO(a,b)},
aZ:function(a){return J.ef(this.a)},
jn:function(a){var z=new P.rV(a)
this.a=P.iE(new P.rX(this,a),new P.rY(z),null,new P.rZ(this,z),!1,null)},
q:{
rT:function(a){var z=new P.rS(null,!1,null)
z.jn(a)
return z}}},
rV:{"^":"a:1;a",
$0:function(){P.d4(new P.rW(this.a))}},
rW:{"^":"a:1;a",
$0:function(){this.a.$2(0,null)}},
rY:{"^":"a:1;a",
$0:function(){this.a.$0()}},
rZ:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(z.b===!0){z.b=!1
this.b.$0()}}},
rX:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(!z.a.gi8()){z.c=new P.aX(new P.y(0,$.i,null,[null]),[null])
if(z.b===!0){z.b=!1
P.d4(new P.rU(this.b))}return z.c.gi2()}}},
rU:{"^":"a:1;a",
$0:function(){this.a.$2(2,null)}},
ce:{"^":"c;aa:a>,b",
j:function(a){return"IterationMarker("+this.b+", "+H.b(this.a)+")"},
q:{
cU:function(a){return new P.ce(a,1)},
bj:function(){return C.bg},
jg:function(a){return new P.ce(a,0)},
bk:function(a){return new P.ce(a,3)}}},
bw:{"^":"c;a,b,c,d",
gA:function(){var z=this.c
return z==null?this.b:z.gA()},
p:function(){var z,y,x,w
for(;!0;){z=this.c
if(z!=null)if(z.p()===!0)return!0
else this.c=null
y=function(a,b,c){var v,u=b
while(true)try{return a(u,v)}catch(t){v=t
u=c}}(this.a,0,1)
if(y instanceof P.ce){x=y.b
if(x===2){z=this.d
if(z==null||z.length===0){this.b=null
return!1}if(0>=z.length)return H.e(z,-1)
this.a=z.pop()
continue}else{z=y.a
if(x===3)throw z
else{w=J.aA(z)
if(w instanceof P.bw){z=this.d
if(z==null){z=[]
this.d=z}z.push(this.a)
this.a=w.a
continue}else{this.c=w
continue}}}}else{this.b=y
return!0}}return!1}},
ug:{"^":"dq;a",
gM:function(a){return new P.bw(this.a(),null,null,null)},
$asdq:I.a4,
$asJ:I.a4,
q:{
bl:function(a){return new P.ug(a)}}}}],["","",,P,{"^":"",ul:{"^":"c;$ti",
k:function(a,b,c){throw H.d(new P.F("Cannot modify unmodifiable map"))},
F:function(a,b){throw H.d(new P.F("Cannot modify unmodifiable map"))},
$isN:1,
$asN:null},od:{"^":"c;$ti",
h:function(a,b){return this.a.h(0,b)},
k:function(a,b,c){this.a.k(0,b,c)},
P:function(a,b){return this.a.P(0,b)},
C:function(a,b){this.a.C(0,b)},
gH:function(a){var z=this.a
return z.gH(z)},
ga4:function(a){var z=this.a
return z.ga4(z)},
gi:function(a){var z=this.a
return z.gi(z)},
F:function(a,b){return this.a.F(0,b)},
j:function(a){return this.a.j(0)},
$isN:1,
$asN:null},j4:{"^":"od+ul;a,$ti",$asN:null,$isN:1}}],["","",,S,{"^":"",es:{"^":"c;hh:a<,b,$ti",
aH:function(a){var z=new S.b2(null,null,this.$ti)
z.aS()
z.D(0,this)
a.$1(z)
return z.E()},
gt:function(a){var z=this.b
if(z==null){z=X.at(this.a)
this.b=z}return z},
w:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.p(b)
if(!z.$ises)return!1
y=b.a
x=this.a
if(y.length!==x.length)return!1
z=z.gt(b)
w=this.gt(this)
if(z==null?w!=null:z!==w)return!1
for(v=0;z=x.length,v!==z;++v){if(v>=y.length)return H.e(y,v)
w=y[v]
if(v>=z)return H.e(x,v)
if(!J.f(w,x[v]))return!1}return!0},
j:function(a){return J.v(this.a)},
h:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.e(z,b)
return z[b]},
gi:function(a){return this.a.length},
bS:function(a,b,c){var z=this.a
return(z&&C.a).bS(z,b,c)},
b1:function(a,b){return this.bS(a,b,0)},
gM:function(a){var z=this.a
return new J.bo(z,z.length,0,null,[H.l(z,0)])},
be:function(a,b){var z=this.a
z.toString
return new H.aq(z,b,[null,null])},
G:function(a,b){var z=this.a
return(z&&C.a).G(z,b)},
C:function(a,b){var z=this.a
return(z&&C.a).C(z,b)},
ai:function(a,b,c){var z=this.a
return(z&&C.a).ai(z,b,c)},
gH:function(a){return this.a.length===0},
ga4:function(a){return this.a.length!==0},
gS:function(a){var z=this.a
return(z&&C.a).gS(z)},
gB:function(a){var z=this.a
return(z&&C.a).gB(z)},
V:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.e(z,b)
return z[b]},
aS:function(){if(new H.aW(H.al(H.l(this,0)),null).w(0,C.p))throw H.d(new P.F('explicit element type required, for example "new BuiltList<int>"'))}},b2:{"^":"c;hh:a<,b,$ti",
E:function(){var z,y
z=this.b
if(z==null){z=this.a
y=new S.es(z,null,this.$ti)
y.aS()
this.a=z
this.b=y
z=y}return z},
D:function(a,b){if(H.d1(b,"$ises",this.$ti,null)){this.a=b.ghh()
this.b=b}else{this.a=P.ac(b,!0,H.l(this,0))
this.b=null}},
k:function(a,b,c){var z
if(c==null)H.k(P.P("null element"))
z=this.geK()
if(b>>>0!==b||b>=z.length)return H.e(z,b)
z[b]=c},
l:function(a,b){var z
if(b==null)H.k(P.P("null element"))
z=this.geK();(z&&C.a).l(z,b)},
F:function(a,b){var z=this.geK();(z&&C.a).F(z,b)},
be:function(a,b){var z=this.a
z.toString
z=new H.aq(z,b,[null,null]).aQ(0,!0)
this.a=z
this.b=null
this.jA(z)},
geK:function(){if(this.b!=null){this.a=P.ac(this.a,!0,H.l(this,0))
this.b=null}return this.a},
aS:function(){if(new H.aW(H.al(H.l(this,0)),null).w(0,C.p))throw H.d(new P.F('explicit element type required, for example "new ListBuilder<int>"'))},
jA:function(a){var z,y,x,w
for(z=a.length,y=H.l(this,0),x=0;x<a.length;a.length===z||(0,H.a6)(a),++x){w=a[x]
if(!H.fy(w,y))throw H.d(P.P("invalid element: "+H.b(w)))}}}}],["","",,A,{"^":"",dg:{"^":"c;k0:a<,b,c,d,$ti",
aH:function(a){var z=new A.eL(null,null,this.$ti)
z.cI()
z.D(0,this)
a.$1(z)
return z.E()},
gt:function(a){var z=this.b
if(z==null){z=this.a
z=z.gY(z)
z=H.br(z,new A.lh(this),H.B(z,"J",0),null)
z=P.ac(z,!1,H.B(z,"J",0))
C.a.iV(z)
z=X.at(z)
this.b=z}return z},
w:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.p(b)
if(!z.$isdg)return!1
y=b.a
x=this.a
if(y.gi(y)!==x.gi(x))return!1
z=z.gt(b)
w=this.gt(this)
if(z==null?w!=null:z!==w)return!1
for(z=this.gY(this),z=z.gM(z);z.p();){v=z.gA()
if(!J.f(y.h(0,v),x.h(0,v)))return!1}return!0},
j:function(a){return J.v(this.a)},
h:function(a,b){return this.a.h(0,b)},
C:function(a,b){this.a.C(0,b)},
gH:function(a){var z=this.a
return z.gH(z)},
ga4:function(a){var z=this.a
return z.ga4(z)},
gY:function(a){var z=this.c
if(z==null){z=this.a
z=z.gY(z)
this.c=z}return z},
gi:function(a){var z=this.a
return z.gi(z)},
cI:function(){if(new H.aW(H.al(H.l(this,0)),null).w(0,C.p))throw H.d(new P.F('explicit key type required, for example "new BuiltMap<int, int>"'))
if(new H.aW(H.al(H.l(this,1)),null).w(0,C.p))throw H.d(new P.F('explicit value type required, for example "new BuiltMap<int, int>"'))}},lh:{"^":"a:0;a",
$1:function(a){var z,y
z=J.x(a)
y=J.x(this.a.a.h(0,a))
return X.cg(X.aN(X.aN(0,J.x(z)),J.x(y)))}},eL:{"^":"c;a,b,$ti",
E:function(){var z=this.b
if(z==null){z=new A.dg(this.a,null,null,null,this.$ti)
z.cI()
this.b=z}return z},
D:function(a,b){var z
if(H.d1(b,"$isdg",this.$ti,null)){this.b=b
this.a=b.gk0()}else if(!!b.$isdg){z=P.eI(b.a,H.l(this,0),H.l(this,1))
this.b=null
this.a=z}else if(!!b.$isN){z=P.eI(b,H.l(this,0),H.l(this,1))
this.b=null
this.a=z}else throw H.d(P.P("expected Map or BuiltMap, got "+H.b(b.ga9(b))))},
k:function(a,b,c){if(b==null)H.k(P.P("null key"))
if(c==null)H.k(P.P("null value"))
this.ghx().k(0,b,c)},
F:function(a,b){this.ghx().F(0,b)},
ghx:function(){if(this.b!=null){this.a=P.eI(this.a,H.l(this,0),H.l(this,1))
this.b=null}return this.a},
cI:function(){if(new H.aW(H.al(H.l(this,0)),null).w(0,C.p))throw H.d(new P.F('explicit key type required, for example "new MapBuilder<int, int>"'))
if(new H.aW(H.al(H.l(this,1)),null).w(0,C.p))throw H.d(new P.F('explicit value type required, for example "new MapBuilder<int, int>"'))}}}],["","",,Y,{"^":"",
z:function(a,b){if(typeof b!=="number")return H.j(b)
a=536870911&a+b
a=536870911&a+((524287&a)<<10)
return a^a>>>6},
aZ:function(a){a=536870911&a+((67108863&a)<<3)
a^=a>>>11
return 536870911&a+((16383&a)<<15)}}],["","",,M,{"^":"",c0:{"^":"c;$ti",
h:function(a,b){var z
if(!this.di(b))return
z=this.c.h(0,this.a.$1(H.d5(b,H.B(this,"c0",1))))
return z==null?null:J.d8(z)},
k:function(a,b,c){if(!this.di(b))return
this.c.k(0,this.a.$1(b),new B.ie(b,c,[null,null]))},
P:function(a,b){if(!this.di(b))return!1
return this.c.P(0,this.a.$1(H.d5(b,H.B(this,"c0",1))))},
C:function(a,b){this.c.C(0,new M.li(b))},
gH:function(a){var z=this.c
return z.gH(z)},
ga4:function(a){var z=this.c
return z.ga4(z)},
gY:function(a){var z=this.c
z=z.gaR(z)
return H.br(z,new M.lj(),H.B(z,"J",0),null)},
gi:function(a){var z=this.c
return z.gi(z)},
F:function(a,b){var z
if(!this.di(b))return
z=this.c.F(0,this.a.$1(H.d5(b,H.B(this,"c0",1))))
return z==null?null:J.d8(z)},
gaR:function(a){var z=this.c
z=z.gaR(z)
return H.br(z,new M.lk(),H.B(z,"J",0),null)},
j:function(a){return P.dt(this)},
di:function(a){var z
if(a==null||H.fy(a,H.B(this,"c0",1)))z=this.b.$1(a)===!0
else z=!1
return z},
$isN:1,
$asN:function(a,b,c){return[b,c]}},li:{"^":"a:3;a",
$2:function(a,b){var z=J.ay(b)
return this.a.$2(z.gS(b),z.gB(b))}},lj:{"^":"a:0;",
$1:function(a){return J.fT(a)}},lk:{"^":"a:0;",
$1:function(a){return J.d8(a)}}}],["","",,B,{"^":"",ie:{"^":"c;S:a>,B:b>,$ti"}}],["","",,N,{"^":"",pC:{"^":"pA;ch,cx,av:cy@,de:db<,b,c,d,e,f,r,x,y,z,Q,a",
io:function(){var z=$.$get$cm()
z.k(0,"game",this.cx)
z.k(0,"hitpoints",this.cy)
z.k(0,"stamina",this.db)},
lc:function(){var z,y
z=$.$get$cm()
this.cx=H.b8(z.h(0,"game"),"$ishq")
y=[P.t]
this.cy=H.b9(z.h(0,"hitpoints"),"$isb3",y,"$asb3")
this.db=H.b9(z.h(0,"stamina"),"$isb3",y,"$asb3")},
ls:function(){var z,y,x
this.cx=null
z=P.t
this.cy=Z.dJ("Health",new N.pF(),"#CCCCCC","Amount of damage your body can still take before collapsing",0,0,!0,z)
z=Z.dJ("Stamina",new N.pG(),"#CCCCCC","Spare physical energy",0,0,!0,z)
this.db=z
y=$.$get$ck()
x=this.cy
y=new O.hq(N.bK("EdgeheadGame"),null,!1,null,null,null,null,null,null,null,null,null,new Y.bg(H.r([],[Y.aL]),0,P.aj()),x,z,O.we(),O.wd(),O.wc(),y,this.giT(),new P.bh(""),!1,null)
y.e6()
this.cx=y
y.x="endGame"
$.$get$e2().l(0,0)},
jh:function(){var z,y
z=new O.dF([[null,P.aT(["goto","gameLoop"])]],0,null,!1,!1)
y=this.b.a
y.k(0,"start",z)
z.a="start"
z=new O.dF([new N.pE(this),[null,P.aT(["goto","gameLoop"])]],0,null,!1,!1)
y.k(0,"gameLoop",z)
z.a="gameLoop"
z=new O.dF(['<p class="meta">\n  Hit <strong>Restart</strong> (top left) to play again. It will be different.\n</p>'],0,null,!1,!1)
y.k(0,"endGame",z)
z.a="endGame"
this.c=y.h(0,"start")},
q:{
pD:function(){var z,y,x,w
z=P.t
y=Z.dJ("Health",new N.vs(),"#CCCCCC","Amount of damage your body can still take before collapsing",0,0,!0,z)
z=Z.dJ("Stamina",new N.v7(),"#CCCCCC","Spare physical energy",0,0,!0,z)
x=P.h
w=new H.a2(0,null,null,null,null,null,0,[x,O.dF])
x=new N.pC("net.filiph.edgehead.0.0.1",null,y,z,new O.pH(w),null,null,null,P.Q(null,null,null,x),!1,null,-9999,null,null,null)
x.jh()
return x}}},vs:{"^":"a:4;",
$1:function(a){return H.b(a)+" HP"}},v7:{"^":"a:4;",
$1:function(a){return H.b(a)+" S"}},pE:{"^":"a:40;a",
$0:function(){var z=0,y=new P.au(),x=1,w,v=this
var $async$$0=P.as(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.w(v.a.cx.bj(),$async$$0,y)
case 2:return P.w(null,0,y)
case 1:return P.w(w,1,y)}})
return P.w(null,$async$$0,y)}},pF:{"^":"a:4;",
$1:function(a){return H.b(a)+" HP"}},pG:{"^":"a:4;",
$1:function(a){return H.b(a)+" S"}}}],["","",,O,{"^":"",
z2:[function(a){var z,y
z=a.gbW()
y=a.gbQ()
if(typeof y!=="number")return H.j(y)
return z-2*y},"$1","jM",2,0,3],
z8:[function(a){var z,y,x
z=a.gbW()
y=a.gct()
if(typeof y!=="number")return H.j(y)
x=a.gbQ()
if(typeof x!=="number")return H.j(x)
return z+y-x},"$1","jN",2,0,3],
hq:{"^":"oc;y,z,Q,ch,cx,cy,db,dx,dy,fr,bV:fx<,fy,fM:go<,av:id<,de:k1<,a,b,c,d,e,f,r,x",
e6:function(){var z,y,x,w,v,u
z=[P.h]
y=H.r([],z)
x=P.Q(null,null,null,null)
w=$.$get$fL()
x=new R.cR(null,!0,y,null,null,C.d,1,0,null,100,!0,!1,x,null,null,!0,C.m,null,w,null)
new O.m5().$1(x)
this.cy=x.E()
y=new R.cR(null,!0,H.r([],z),null,null,C.d,1,0,null,100,!0,!1,P.Q(null,null,null,null),null,null,!0,C.m,null,w,null)
new O.m6().$1(y)
this.db=y.E()
y=new K.cJ(null,"deadEscapee","UNUSED because this is the first choice","",null,null,"ground")
x=[Q.bG]
v=new S.b2(null,null,x)
v.aS()
v.D(0,[new Q.bG("tunnel","Run towards freedom",null)])
y.a=v.E()
this.dx=y
y=$.$get$fB()
v=y.b
u=new K.cJ(null,"tunnel","You and Briana sprint through the giant worm\u2019s tunnel.\n\nSuddenly, an **orc** and a **goblin** jump in front of you from a slimy crevice, swords in hands.\n\n![Orc and Goblin](img/orc_and_goblin_sketch.jpg)","",new O.m7(this),null,"{rock|cavern} floor")
x=new S.b2(null,null,x)
x.aS()
x.D(0,[new Q.bG(v,"End book",null)])
u.a=x.E()
this.dy=u
u=new R.cR(null,!0,H.r([],z),null,null,C.d,1,0,null,100,!0,!1,P.Q(null,null,null,null),null,null,!0,C.m,null,w,null)
new O.m8(this).$1(u)
x=u.E()
this.ch=x
J.h_(this.id,x.r)
this.k1.saa(0,this.ch.x)
w=new R.cR(null,!0,H.r([],z),null,null,C.d,1,0,null,100,!0,!1,P.Q(null,null,null,null),null,null,!0,C.m,null,w,null)
new O.m9(this).$1(w)
this.cx=w.E()
z=F.pm(this.dx)
this.fr=z
x=this.ch
w=this.cx
v=this.dx
u=this.dy
w=P.aJ([x,w],R.a8)
x=P.aV(null,O.cq)
z=new A.bP(w,P.Q(null,null,null,U.dn),x,P.aJ([v,u,y],K.cJ),P.ac([z],!0,S.bf),0)
this.fx=z
y=new Y.bg(H.r([],[Y.aL]),0,P.aj())
x=new B.cE(z,null,y,1,1,!0,!1,!1,0)
x.fQ(z,null,null,y,1,!1,!0,!1)
this.fy=x},
dV:function(){var z=0,y=new P.au(),x,w=2,v,u=this,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e,d,c
var $async$dV=P.as(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:t=u.go
s=u.gl6()
if(t.ik(s)){z=1
break}r=u.fx.ae(u.ch.y)
J.h_(u.id,r.gav())
q=u.k1
p=r.gde()
if(!J.f(q.f,p)){q.f=p
q.y=!0
$.cN=!0}q=u.y
q.lq("update() for world at time "+H.b(u.fx.f))
p=u.fx.e
if(p.length===0){u.r=!0
t.b5(0,"\n\n",!0)
if(u.fx.i5(u.ch.y)){o=u.fx.ae(u.ch.y)
t.eR(0,"<subject> look<s> behind",o)
t.eR(0,"<subject> see<s> the giant worm's hideous head approaching",o)
if(u.fx.i5(u.cx.y))t.b5(0,"You both start sprinting again.",!0)
else{t.eR(0,"<subject> take<s> a last look at Briana",o)
t.ky(0,"<subject> start<s> sprinting again, alone",!0,o)}t.b5(0,"\n\n",!0)
t.b5(0,"TO BE CONTINUED.",!0)}else t.b5(0,"You will soon be the giant worm's food.",!0)
u.f.n+=t.d1()
z=1
break}n=C.a.gB(p)
m=n.e0(u.fx)
p=u.fx
l=N.bK("ActorPlanner")
k=new H.a2(0,null,null,null,null,null,0,[null,null])
j=m==null
i=j?m:J.G(m)
h=new Y.bg(H.r([],[Y.aL]),0,P.aj())
h.b=p.f
g=new G.kL(l,i,new B.cE(p,null,h,1,1,!0,!1,!1,0),0,!1,k)
if(j)H.k(P.P("Called ActorPlanner with actor == null. That may mean that a Situation returns getCurrentActor as null. Some action that you added should make sure it removes the Situation. World: "+J.v(p)+". Situation: "+H.b(p.gkY())))
z=3
return P.w(g.lV(R.uW()),$async$dV,y)
case 3:if(k.gH(k)){l.fA("There are no actions available for actorId="+H.b(i)+".")
j="Actions not available for "+H.b(i)+" and "
i=J.p(p)
p="PlanConsequence<"+i.gt(p)+", "+i.j(p)+", "+C.x.j(null)
l.c6(j+(p+", 1, 0, >")+".")}f=Z.oN(k)
if(f.b.length===0){q.fI("No recommendation for "+H.b(J.C(m)))
u.fx.hX(n.gv(n))
t=u.fx
s=t.f
if(typeof s!=="number"){x=s.K()
z=1
break}t.f=s+1
z=1
break}if(m.gR()){s=f.b
if(s.length===1){u.eg((s&&C.a).gak(s),m,t)
z=1
break}u.f.n+=t.d1()
C.a.si(t.a,0)
q.c6("planner.generateTable for "+H.b(m.gm(m)))
g.fC().C(0,new O.ma(u))
t=f.im(5,O.jN())
t.toString
e=P.ac(t,!1,H.B(t,"J",0))
t=new O.mb(new O.md())
s=e.length-1
if(s-0<=32)H.iz(e,0,s,t)
else H.iy(e,0,s,t)
for(t=e.length,s=u.c,d=0;d<e.length;e.length===t||(0,H.a6)(e),++d){c=e[d]
s.$3$helpMessage$script(J.C(c),c.ga1(),new O.mc(u,m,c))}z=1
break}else{q=m.ghU()
u.eg(f.lU(q==null?O.jN():q),m,t)}t.ik(s)
case 1:return P.w(x,0,y)
case 2:return P.w(v,1,y)}})
return P.w(null,$async$dV,y)},
eg:function(a,b,c){var z,y,x,w,v
z=a.du(b,this.fy,this.fx)
y=P.ac(z,!0,H.B(z,"J",0))
x=S.pb(new H.aq(y,new O.m4(),[null,null]),1)
if(x>=y.length)return H.e(y,x)
this.fy=y[x]
if(b.gR()){w=a.a5(b,this.fx)
if(w<1){z=this.fy.glB()?C.q:C.t
v=a.bD(b,this.fx)
this.ho()
this.e.$3(w,z,v)}}C.a.O(c.a,this.fy.gfM().a)
this.fx=this.fy.gbV()}},
m5:{"^":"a:0;",
$1:function(a){var z
a.gu()
a.x=1000
a.gu()
a.cx="orc"
a.gu()
a.db=!1
a.gu()
a.dx=C.L
z=$.$get$bz()
a.gu()
a.c=new U.dL(!1,10,!0,z,"sword",C.i)
a.gu()
a.f=2
z=$.$get$fA()
a.gu()
a.fr=z
a.gu()
a.fx=O.jM()
return a}},
m6:{"^":"a:0;",
$1:function(a){var z
a.gu()
a.x=1001
a.gu()
a.cx="goblin"
a.gu()
a.db=!1
a.gu()
a.dx=C.L
z=$.$get$bz()
a.gu()
a.c=new U.dL(!1,10,!0,z,"scimitar",C.i)
z=$.$get$fA()
a.gu()
a.fr=z
a.gu()
a.fx=O.jM()
return a}},
m7:{"^":"a:0;a",
$1:function(a){var z=this.a
return[z.cy,z.db]}},
m8:{"^":"a:0;a",
$1:function(a){var z
a.gu()
a.x=1
a.gu()
a.Q=!0
a.gu()
a.dx=C.M
a.gu()
a.cx="Filip"
z=$.$get$bz()
a.gu()
a.c=new U.dL(!1,10,!0,z,"sword",C.i)
a.gu()
a.f=2
a.gu()
a.r=1
a.gu()
a.y=1000
z=this.a.dx.b
a.gu()
a.cy=z
return a}},
m9:{"^":"a:0;a",
$1:function(a){var z,y
a.gu()
a.x=100
a.gu()
a.dx=C.aW
a.gu()
a.cx="Briana"
z=$.$get$bz()
a.gu()
a.c=new U.dL(!1,10,!0,z,"longsword",C.i)
a.gu()
a.f=2
z=this.a
y=z.dx.b
a.gu()
a.cy=y
z=z.ch.y
a.gu()
a.dy=z
return a}},
ma:{"^":"a:0;a",
$1:function(a){return this.a.y.c6(a)}},
md:{"^":"a:41;",
$1:function(a){var z=J.p(a)
if(!!z.$isae)return H.b(J.C(a.b))+" "+z.gm(a)
return"ZZZZZZ "+H.b(z.gm(a))}},
mb:{"^":"a:3;a",
$2:function(a,b){var z=this.a
return J.co(z.$1(a),z.$1(b))}},
mc:{"^":"a:1;a,b,c",
$0:function(){var z=this.a
z.eg(this.c,this.b,z.go)}},
m4:{"^":"a:0;",
$1:function(a){return a.glX()}}}],["","",,Q,{"^":"",
jP:function(a,b,c){return new P.bl(function(){var z=a,y=b,x=c
var w=0,v=1,u,t,s,r,q,p
return function $async$jP(d,e){if(d===1){u=e
w=v}while(true)switch(w){case 0:t=y.e
t=t.length!==0?C.a.gB(t):null
s=J.kD(t.bC(y.a,y),new Q.vB(z))
t=J.aA(s.a),r=new H.f7(t,s.b,[H.l(s,0)])
case 2:if(!r.p()){w=3
break}q=t.gA()
p=x.$1(q)
if(p.ga7()&&!z.f_(q,y)){w=2
break}w=4
return p
case 4:w=2
break
case 3:return P.bj()
case 1:return P.bk(u)}}})},
jQ:function(a,b,c){return new P.bl(function(){var z=a,y=b,x=c
var w=0,v=1,u,t
return function $async$jQ(d,e){if(d===1){u=e
w=v}while(true)switch(w){case 0:t=y.e
t=y.fF((t.length!==0?C.a.gB(t):null).gbd()).gla().a,t=new J.bo(t,t.length,0,null,[H.l(t,0)])
case 2:if(!t.p()){w=3
break}w=4
return x.$1(t.d)
case 4:w=2
break
case 3:return P.bj()
case 1:return P.bk(u)}}})},
vB:{"^":"a:0;a",
$1:function(a){return!J.f(a,this.a)&&a.gbs()}},
aS:{"^":"c;",
du:function(a,b,c){var z=this
return new P.bl(function(){var y=a,x=b,w=c
var v=0,u=1,t,s,r
return function $async$du(d,e){if(d===1){t=e
v=u}while(true)switch(v){case 0:s=z.a5(y,x.gbV())
v=s>0?2:3
break
case 2:r=A.j6(w)
v=4
return B.ig(r,x,z,z.jw(r,y,w,z.gac(),!0),s,!1,!1,!0)
case 4:case 3:v=s<1?5:6
break
case 5:r=A.j6(w)
v=7
return B.ig(r,x,z,z.jv(r,y,w,z.gab(),!0),1-s,!0,!1,!1)
case 7:case 6:return P.bj()
case 1:return P.bk(t)}}})},
fU:function(a,b,c,d,e,f){var z,y,x,w,v,u,t
z=a.a.bF(0,new Q.kG(b))
y=new O.kE(null,null,null,null,null,null,null,null,null,null,C.F,null)
y.e=new H.aW(H.fE(this),null).j(0)
y.d=this.gm(this)
y.ch=b
y.c=P.aJ(!!this.$isae?[this.b]:[],null)
y.f=f
y.r=e
y.x=this.ga7()
y.lK(c)
x=new Y.bg(H.r([],[Y.aL]),0,P.aj())
w=a.e
v=J.G(w.length!==0?C.a.gB(w):null)
u=a.gt(a);(w.length!==0?C.a.gB(w):null).ij(a,x)
if(a.gt(a)!==u)throw H.d(new P.A("Please don't change the world in onBeforeAction"))
this.a=d.$3(z,a,x)
if(a.ew(v)!=null)a.hX(v)
t=a.f
if(typeof t!=="number")return t.K()
a.f=t+1
t=a.iH(v)
if(!(t==null))t.ii(a,x)
while(!0){t=w.length!==0?C.a.gB(w):null
if((t==null?t:t.e0(a))!=null){t=w.length!==0?C.a.gB(w):null
t=!J.f(t==null?t:t.e7(a),!0)}else t=!0
if(!t)break
if((w.length!==0?C.a.gB(w):null)==null)break
C.a.cs(w)}if(this.a==null)H.k(new P.A("No description given when executing "+this.j(0)+". You should return it from your world-modifying function."))
y.b=a
y.z=this.a
y.y=a.f
a.c.hJ(y.E())
return x},
jw:function(a,b,c,d,e){return this.fU(a,b,c,d,!1,e)},
jv:function(a,b,c,d,e){return this.fU(a,b,c,d,e,!1)}},
kG:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),J.G(this.a))}},
ae:{"^":"aS;bQ:b<",
gm:function(a){var z=new Y.bg(H.r([],[Y.aL]),0,P.aj())
z.eQ(0,this.gay(),this.b)
return z.d1()},
bD:function(a,b){var z=new Y.bg(H.r([],[Y.aL]),0,P.aj())
z.kD(0,this.gaI(),this.b,a,!0)
return z.d1()},
j:function(a){var z,y
z=this.b
y=J.o(z)
return"EnemyTargetAction<"+this.gay()+"::enemy="+H.b(y.gv(z))+"/"+H.b(y.gm(z))+">"}},
dm:{"^":"aS;",
gm:function(a){return this.b.gaM()},
j:function(a){return"ExitAction<"+H.b(this.b.gaM())+">"}}}],["","",,O,{"^":"",
yY:[function(a){return J.G(a)},"$1","jD",2,0,7],
cq:{"^":"c;aM:a<,hI:b<,eP:c<,U:d<,dL:e<,f,eb:r<,lG:x<,iC:y<,z,iB:Q<,ch",
gt:function(a){var z=this.e
return X.at([this.d,this.a,X.at(z==null?new P.jj(0,null,null,null,null,null,0,[null]):P.aJ([z],null)),X.at(this.r),X.at(this.x),this.y,this.z])},
w:function(a,b){var z
if(b==null)return!1
z=J.p(b)
return!!z.$iscq&&this.gt(this)===z.gt(b)},
j:function(a){return"ActionRecord<"+H.b(this.c)+", "+H.b(this.b)+", "+H.b(this.a)+">"}},
kE:{"^":"c;a,b,eb:c<,hI:d<,eP:e<,iC:f<,r,iB:x<,U:y<,aM:z<,Q,dL:ch<",
E:function(){var z,y,x,w,v,u,t,s,r,q,p,o,n
z=this.Q
switch(z){case C.F:y=this.b.a
break
case C.ao:z=R.a8
y=P.aJ(H.r([this.ch],[z]),z)
break
default:throw H.d(new P.aQ("Mode "+z.j(0)+" not implemented"))}x=R.en(A.an)
z=this.b.a
for(w=z.gM(z),z=new H.f7(w,new O.kF(this),[H.l(z,0)]);z.p();){v=w.gA()
u=v.ce(this.b)
t=this.a.h(0,v)
x.k(0,v,new A.an(u.a-t.gbW(),J.D(u.b,t.gct()),J.D(u.c,t.gbQ())))}z=this.y
w=this.d
u=this.e
t=this.z
s=J.G(this.ch)
r=this.c
r.toString
r=P.aJ(new H.cs(r,O.jD(),[H.l(r,0),null]),null)
q=P.aJ(new H.cs(y,O.jD(),[H.l(y,0),null]),null)
p=this.f
o=this.r
n=this.x
return new O.cq(t,w,u,z,s,P.Q(null,null,null,P.t),r,q,p,o,n,x)},
lK:function(a){var z,y,x
this.a=R.en(A.dc)
for(z=a.a,y=new P.aF(z,z.r,null,null,[null]),y.c=z.e;y.p();){x=y.d
this.a.k(0,x,x.ce(a))}}},
kF:{"^":"a:0;a",
$1:function(a){var z=this.a.a
return z.gY(z).G(0,a)}},
hT:{"^":"c;a",
j:function(a){return C.aV.h(0,this.a)}}}],["","",,R,{"^":"",
jS:function(a,b){return new P.bl(function(){var z=a,y=b
var x=0,w=1,v,u
return function $async$jS(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:x=2
return z
case 2:u=y.a
x=3
return P.cU(new H.a3(u,new R.vC(z),[H.l(u,0)]))
case 3:return P.bj()
case 1:return P.bk(v)}}})},
vC:{"^":"a:0;a",
$1:function(a){var z,y
z=a.geY()
y=J.G(this.a)
return z==null?y==null:z===y}},
a8:{"^":"oo;",
gbr:function(){return this.r>0},
f_:function(a,b){return this.i7(a,b)>0},
i7:function(a,b){var z,y
if(this.f4(b)){z=a.gbx()
y=this.fx.a
z=z.a
z=y==null?z==null:y===z}else z=!1
if(z)return 10
if(this.jV(a,b,10))return 1
z=a.gbx()
y=this.fx.a
z=z.a
return(y==null?z!=null:y!==z)?1:0},
f4:function(a){var z,y
z=a.dT("Confuse",this,!0)
if(z==null)return!1
y=a.ma("Unconfuse",this,!0)
if(y==null)return!0
return y<z},
ce:function(a){var z,y,x
z=a.ae(this.y)
y=z.gav()
if(typeof y!=="number")return H.j(y)
x=2*y
if(!z.gbr())x-=10
y=a.a
return new A.dc(x,new H.a3(y,new R.l7(this),[H.l(y,0)]).ai(0,0,new R.l8()),y.ai(0,0,new R.l9(this,a)))},
bk:function(a){var z=this.e
return z!=null&&z.a===a},
jV:function(a,b,c){var z=b.mb(a,this,!0)
if(z==null)return!1
return z<=c},
$isc3:1},
oo:{"^":"c+ew;"},
l7:{"^":"a:0;a",
$1:function(a){return J.f(a.gbx(),this.a.fx)}},
l8:{"^":"a:42;",
$2:function(a,b){return J.O(J.O(a,b.gbs()?2:0),2*b.gav())}},
l9:{"^":"a:43;a,b",
$2:function(a,b){var z=b.gbs()?1:0
return J.O(a,(z+b.gav())*this.a.i7(b,this.b))}},
kH:{"^":"c;a3:c<,J:e@,av:f@,v:x>,R:Q<,m:cx*,bd:cy@,I:dx<,eY:dy<,bx:fr<"},
em:{"^":"c0;a,b,c,$ti",
gt:function(a){var z,y
z=X.at(this.gaR(this))
y=X.at(this.gY(this))
return X.cg(X.aN(X.aN(0,C.f.gt(z)),C.f.gt(y)))},
w:function(a,b){var z,y,x
if(b==null)return!1
z=J.p(b)
if(!!z.$isem){y=X.at(this.gaR(this))
x=X.at(this.gY(this))
x=X.cg(X.aN(X.aN(0,C.f.gt(y)),C.f.gt(x)))
y=X.at(z.gaR(b))
z=X.at(z.gY(b))
z=x===X.cg(X.aN(X.aN(0,C.f.gt(y)),C.f.gt(z)))}else z=!1
return z},
$asc0:function(a){return[P.t,R.a8,a]},
$asN:function(a){return[R.a8,a]},
q:{
en:function(a){var z=new H.a2(0,null,null,null,null,null,0,[P.t,[B.ie,R.a8,a]])
return new R.em(new R.kJ(),new R.kK(),z,[a])},
kI:function(a,b){var z=R.en(b)
a.C(0,new R.v8(b,z))
return z}}},
kJ:{"^":"a:5;",
$1:function(a){return J.G(a)}},
kK:{"^":"a:0;",
$1:function(a){return a!=null}},
v8:{"^":"a;a,b",
$2:function(a,b){this.b.k(0,a,b)
return b},
$signature:function(){return H.aG(function(a){return{func:1,args:[R.a8,a]}},this,"em")}},
eR:{"^":"c;a",
j:function(a){return C.J.h(0,this.a)}},
rA:{"^":"a8;a,b,hU:c<,bd:d<,a3:e<,eY:f<,av:r<,de:x<,v:y>,z,f2:Q<,R:ch<,cx,m:cy>,dI:db<,J:dx<,I:dy<,fr,bx:fx<",
aH:function(a){var z=new R.cR(null,!0,H.r([],[P.h]),null,null,C.d,1,0,null,100,!0,!1,P.Q(null,null,null,null),null,null,!0,C.m,null,$.$get$fL(),null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof R.a8))return!1
if(this.b===b.b)if(J.f(this.c,b.c))if(J.f(this.d,b.d)){z=this.e
y=b.e
if(z==null?y==null:z===y){z=this.f
y=b.f
if(z==null?y==null:z===y)if(this.r===b.r)if(this.x===b.x){z=this.y
y=b.y
if(z==null?y==null:z===y)if(this.z===b.z)if(this.ch===b.ch)if(this.cx===b.cx)if(J.f(this.cy,b.cy))if(this.db===b.db)if(this.dx===b.dx)if(this.dy===b.dy)z=J.f(this.fx,b.fx)
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1}else z=!1
else z=!1
else z=!1}else z=!1}else z=!1
else z=!1
else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(0,C.r.gt(!0)),H.ar(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)),J.x(this.f)),this.r&0x1FFFFFFF),this.x&0x1FFFFFFF),J.x(this.y)),this.z&0x1FFFFFFF),C.r.gt(!0)),C.r.gt(this.ch)),H.ar(this.cx)),J.x(this.cy)),C.r.gt(this.db)),H.ar(this.dx)),H.ar(this.dy)),C.x.gt(this.fr)),J.x(this.fx)))},
j:function(a){return"Actor {alreadyMentioned="+String(!0)+",\ncategories="+P.bJ(this.b,"[","]")+",\ncombineFunction="+H.b(J.v(this.c))+",\ncurrentRoomName="+H.b(J.v(this.d))+",\ncurrentWeapon="+J.v(this.e)+",\nfollowingActorId="+J.v(this.f)+",\nhitpoints="+C.c.j(this.r)+",\nstamina="+C.f.j(this.x)+",\nid="+J.v(this.y)+",\ninitiative="+C.f.j(this.z)+",\nisActive="+String(!0)+",\nisPlayer="+String(this.ch)+",\nitems="+P.bJ(this.cx,"{","}")+",\nname="+H.b(J.v(this.cy))+",\nnameIsProperNoun="+String(this.db)+",\npose="+H.b(C.J.h(0,this.dx.a))+",\npronoun="+this.dy.a+",\nshield="+C.x.j(this.fr)+",\nteam="+J.v(this.fx)+",\n}"}},
cR:{"^":"kH;fy,a,b,c,d,e,f,r,x,y,z,Q,ch,cx,cy,db,dx,dy,fr,fx",
ghU:function(){this.gu()
return this.fx},
gbd:function(){this.gu()
return this.cy},
sbd:function(a){this.gu()
this.cy=a},
ga3:function(){this.gu()
return this.c},
geY:function(){this.gu()
return this.dy},
gav:function(){this.gu()
return this.f},
sav:function(a){this.gu()
this.f=a},
gde:function(){this.gu()
return this.r},
gv:function(a){this.gu()
return this.x},
gR:function(){this.gu()
return this.Q},
gm:function(a){this.gu()
return this.cx},
sm:function(a,b){this.gu()
this.cx=b},
gdI:function(){this.gu()
return this.db},
gJ:function(){this.gu()
return this.e},
sJ:function(a){this.gu()
this.e=a},
gI:function(){this.gu()
return this.dx},
gbx:function(){this.gu()
return this.fr},
gu:function(){var z=this.fy
if(z!=null){z.a
this.a=!0
this.b=this.fy.b
this.fx=this.fy.c
this.cy=this.fy.d
this.c=this.fy.e
this.dy=this.fy.f
this.f=this.fy.r
this.r=this.fy.x
this.x=this.fy.y
this.y=this.fy.z
this.fy.Q
this.z=!0
this.Q=this.fy.ch
this.ch=this.fy.cx
this.cx=this.fy.cy
this.db=this.fy.db
this.e=this.fy.dx
this.dx=this.fy.dy
this.d=this.fy.fr
this.fr=this.fy.fx
this.fy=null}return this},
D:function(a,b){this.fy=b},
E:function(){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j,i
z=this.fy
if(z==null){this.gu()
this.a
this.gu()
y=this.b
this.gu()
x=this.fx
this.gu()
w=this.cy
this.gu()
v=this.c
this.gu()
u=this.dy
this.gu()
t=this.f
this.gu()
s=this.r
this.gu()
r=this.x
this.gu()
q=this.y
this.gu()
this.z
this.gu()
p=this.Q
this.gu()
o=this.ch
this.gu()
n=this.cx
this.gu()
m=this.db
this.gu()
l=this.e
this.gu()
k=this.dx
this.gu()
j=this.d
this.gu()
i=this.fr
z=new R.rA(!0,y,x,w,v,u,t,s,r,q,!0,p,o,n,m,l,k,j,i)
if(r==null)H.k(P.H("id"))
if(n==null)H.k(P.H("name"))
if(i==null)H.k(P.H("team"))}this.D(0,z)
return z}}}],["","",,A,{"^":"",dc:{"^":"c;bW:a<,ct:b<,bQ:c<",
N:function(a,b){return new A.an(this.a-b.gbW(),J.D(this.b,b.gct()),J.D(this.c,b.gbQ()))},
j:function(a){return"ActorScore<self="+C.c.d3(this.a,2)+",team="+J.bY(this.b,2)+",enemy="+J.bY(this.c,2)+">"}},an:{"^":"c;bW:a<,ct:b<,bQ:c<",
glD:function(){return this.a===-1/0&&J.f(this.b,-1/0)&&J.f(this.c,-1/0)},
K:function(a,b){return new A.an(this.a+b.gbW(),J.O(this.b,b.gct()),J.O(this.c,b.gbQ()))},
bE:function(a,b){return new A.an(this.a*b,J.bB(this.b,b),J.bB(this.c,b))},
fB:function(a,b){if(typeof b!=="number")return H.j(b)
return new A.an(this.a/b,J.bA(this.b,b),J.bA(this.c,b))},
j:function(a){return"ActorScoreChange<self="+C.c.d3(this.a,2)+",team="+J.bY(this.b,2)+",enemy="+J.bY(this.c,2)+">"},
q:{
l6:function(a){var z,y,x,w,v,u,t,s,r
for(z=a.length,y=0,x=0,w=0,v=0,u=0;t=a.length,u<t;t===z||(0,H.a6)(a),++u){s=a[u];++y
x+=s.a
r=s.b
if(typeof r!=="number")return H.j(r)
w+=r
r=s.c
if(typeof r!=="number")return H.j(r)
v+=r}if(y===0)throw H.d(P.P("Cannot average empty iterable"))
return new A.an(x/y,w/y,v/y)}}}}],["","",,U,{"^":"",
ws:function(a){switch(a){case C.ab:return"spear"
case C.ac:return"branch"
case C.ad:return"tent"
case C.i:return"sword"
default:throw H.d(P.P(a))}},
dn:{"^":"ia;$ti",
gaM:function(){return U.ws(this.a)},
$isc3:1},
ia:{"^":"c+ew;$ti"},
dp:{"^":"c;a",
j:function(a){return C.aT.h(0,this.a)}},
dL:{"^":"dn;b,c,f2:d<,bx:e<,m:f>,a",
gv:function(a){return H.ar(this)},
gbr:function(){return!1},
gR:function(){return!1},
gdI:function(){return!1},
gI:function(){return C.m},
$asdn:I.a4,
$asia:I.a4}}],["","",,G,{"^":"",oc:{"^":"c;",
ho:function(){var z,y
z=this.f
y=z.n
if(y.length!==0){this.b.$1(y.charCodeAt(0)==0?y:y)
z.n=""}},
mD:[function(a){this.f.n+=a},"$1","gl6",2,0,5],
bj:function(){var z=0,y=new P.au(),x,w=2,v,u=this,t,s
var $async$bj=P.as(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:if(u.x==null)throw H.d(new P.A("Cannot run a LoopedEvent before onFinishedGoto is defined."))
if(u.r){u.d.si(0,0)
u.a.$1(u.x)
z=1
break}t=u.d
s=u.f
case 3:if(!!0){z=4
break}if(!(!u.r&&t.gi(t)===0&&s.n.length===0)){z=4
break}z=5
return P.w(u.dV(),$async$bj,y)
case 5:z=3
break
case 4:u.ho()
case 1:return P.w(x,0,y)
case 2:return P.w(v,1,y)}})
return P.w(null,$async$bj,y)}}}],["","",,B,{"^":"",ha:{"^":"c;dc:a<,dC:b<,cZ:c>",
j:function(a){return"ConsequenceStats<order="+H.b(this.c)+", cumProb="+C.c.d3(this.b,3)+", score="+this.a.j(0)+">"}},cE:{"^":"c;bV:a<,eO:b>,fM:c<,lX:d<,dC:e<,f,r,lB:x<,cZ:y>",
gt:function(a){return X.at([this.a,this.e,this.b,this.d,this.y,this.f,this.r,this.x])},
w:function(a,b){var z
if(b==null)return!1
z=J.p(b)
return!!z.$iscE&&this.gt(this)===z.gt(b)},
j:function(a){var z,y
z=this.a
y=J.p(z)
z="PlanConsequence<"+y.gt(z)+", "+y.j(z)+", "+J.v(this.b)+", "+H.b(this.d)+", "+this.y+", "
return z+(this.x?"isSuccess":"")+">"},
fQ:function(a,b,c,d,e,f,g,h){this.c.b=this.a.f},
q:{
ig:function(a,b,c,d,e,f,g,h){var z,y
z=b==null
y=z?0:b.gcZ(b)+1
y=new B.cE(a,c,d,e,z?e:e*b.gdC(),g,f,h,y)
y.fQ(a,b,c,d,e,f,g,h)
return y}}}}],["","",,G,{"^":"",kL:{"^":"c;a,b,c,d,e,f",
kS:function(a,b,c){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j
z=this.a
z.a0("...")
z.a0("combining scores")
y=H.r([],[A.an])
x=new G.l4()
for(w=J.aA(a),v=b.a,u=b.b,t=b.c,s=null;w.p()===!0;){r=w.gA()
z.a0(new G.l2(r))
if(r.gdC()>0.15)if(s==null){z.a0("    - first _bestCase")
s=r}else if(J.Y(x.$1(r.gdc()),x.$1(s.gdc()))){z.a0("    - new _bestCase")
s=r}q=r.gdc()
p=J.D(q.b,u)
o=J.D(q.c,t)
n=r.b
m=new A.an((q.a-v)*n,J.bB(p,n),J.bB(o,n))
z.a0(new G.l3(m))
y.push(m)}l=A.l6(y)
x=s==null
if(x)k=C.Q
else{w=s.gdc()
k=new A.an(w.a-v,J.D(w.b,u),J.D(w.c,t))}x=x?s:s.gcZ(s)
if(typeof x!=="number")return H.j(x)
x=new A.an(k.a/x,J.bA(k.b,x),J.bA(k.c,x))
z.a0("- uplifts average = "+("ActorScoreChange<self="+C.c.d3(l.a,2)+",team="+J.bY(l.b,2)+",enemy="+J.bY(l.c,2)+">"))
z.a0("- best = "+x.j(0))
j=x.K(0,l)
z.a0("- result = "+j.j(0))
return j},
fC:function(){var z=this
return new P.bl(function(){var y=0,x=1,w,v,u,t,s
return function $async$fC(a,b){if(a===1){w=b
y=x}while(true)switch(y){case 0:v=z.f,u=v.gY(v),u=u.gM(u),t=1
case 2:if(!u.p()){y=3
break}s=u.gA()
y=4
return""+t+") "+H.b(J.C(s))+"\t"+H.b(v.h(0,s))
case 4:++t
y=2
break
case 3:return P.bj()
case 1:return P.bk(w)}}})},
dJ:function(a,b,c){var z=0,y=new P.au(),x=1,w,v=this,u,t,s,r,q,p,o,n,m,l,k,j,i
var $async$dJ=P.as(function(d,e){if(d===1){w=e
z=x}while(true)switch(z){case 0:u=v.f
u.ad(0)
t=v.c
s=t.a
r=s.a.bF(0,new G.l5(v))
q=r.ce(s)
p=v.a
o=r.cy
p.c6("Planning for "+H.b(o)+", initialScore="+q.j(0))
n=new P.bw(v.ey(r,s).a(),null,null,null)
case 2:if(!n.p()){z=3
break}m=n.c
l=m==null?n.b:m.gA()
m=J.o(l)
p.b6("Evaluating action '"+H.b(m.gm(l))+"' for "+H.b(o))
if(!l.a2(r,s)){p.b6("- action '"+H.b(m.gm(l))+"' isn't applicable")
z=2
break}z=4
return P.w(v.cj(t,l,b,a,c).b4(0),$async$dJ,y)
case 4:k=e
j=J.S(k)
if(j.gH(k)===!0){p.b6("- action '"+H.b(m.gm(l))+"' is possible but we couldn't get to any outcomes while planning. Scoring with negative infinity.")
u.k(0,l,C.R)
z=2
break}p.b6("- action '"+H.b(m.gm(l))+"' leads to "+H.b(j.gi(k))+" different ConsequenceStats, initialScore="+q.j(0))
i=v.kS(k,q,b)
u.k(0,l,i)
p.b6("- action '"+H.b(m.gm(l))+"' was scored "+H.b(i))
z=2
break
case 3:v.e=!0
return P.w(null,0,y)
case 1:return P.w(w,1,y)}})
return P.w(null,$async$dJ,y)},
lV:function(a){return this.dJ(50,10,a)},
ey:function(a,b){return new P.bl(function(){var z=a,y=b
var x=0,w=1,v,u,t,s,r,q,p
return function $async$ey(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=y.e
x=2
return P.cU((u.length!==0?C.a.gB(u):null).gcl())
case 2:u=(u.length!==0?C.a.gB(u):null).gbn()
t=u.length
s=H.aR(H.b5(Q.dm),[H.b5(Q.bG)])
r=H.aR(H.b5(Q.ae),[H.b5(R.a8)])
q=0
case 3:if(!(q<u.length)){x=5
break}p=u[q]
x=r.aU(p)?6:8
break
case 6:x=9
return P.cU(Q.jP(z,y,p))
case 9:x=7
break
case 8:x=s.aU(p)?10:12
break
case 10:x=13
return P.cU(Q.jQ(z,y,p))
case 13:x=11
break
case 12:throw H.d(new P.A(H.b(p)+" is not one of the supported ones"))
case 11:case 7:case 4:u.length===t||(0,H.a6)(u),++q
x=3
break
case 5:return P.bj()
case 1:return P.bk(v)}}})},
cj:function(a2,a3,a4,a5,a6){var $async$cj=P.as(function(a7,a8){switch(a7){case 2:u=x
z=u.pop()
break
case 1:v=a8
z=w}while(true)switch(z){case 0:s={}
r=a2.a
q=r.a.bF(0,new G.kO(t))
p=t.a
p.b6("=====")
p.b6(new G.kP(a3,q))
p.b6(new G.kQ(a3))
if(!a3.a2(q,r)){p.b6("- firstAction not applicable")
z=1
break}o=q.ce(r)
p.b6(new G.kV(a2,o))
p.b6(new G.kW(a2))
n=P.aV(null,B.cE)
m=P.Q(null,null,null,A.bP)
l=J.p(r)
k=l.gt(r)
for(j=new P.bw(a3.du(q,a2,r).a(),null,null,null);j.p();){i=j.c
h=i==null?j.b:i.gA()
if(l.gt(r)!==k)throw H.d(new P.A("Action "+a3.j(0)+" modified world state when producing "+H.b(h)+"."))
n.ap(h)}s.a=0
r=t.b
case 3:if(!!n.gH(n)){z=4
break}++s.a
z=1000*(Date.now()-$.$get$eo().a)>5000?5:6
break
case 5:z=7
return P.cV(a6.$0(),$async$cj,y)
case 7:$.eo=new P.c1(Date.now(),!1)
case 6:g=n.d2()
p.a0("----")
p.a0(new G.kX(g))
p.a0(new G.kY(g))
l=J.fV(g)
if(typeof l!=="number"){l.ao()
z=1
break}if(l>a4||s.a>a5){p.a0(new G.kZ(s,a4,g))
p.a0(new G.l_(g))
z=4
break}z=g.gbV().e.length===0?8:9
break
case 8:p.a0("- leaf node: world.situations is empty (end of book)")
l=g.a
q=l.a.bq(0,new G.l0(t),new G.l1())
if(q==null){p.a0("- this actor ("+H.b(r)+") has been removed")
z=3
break}f=new B.ha(q.ce(l),g.e,g.y)
p.a0(new G.kR(f))
z=10
x=[1]
return P.cV(P.jg(f),$async$cj,y)
case 10:z=3
break
case 9:l=g.a
j=l.e
e=(j.length!==0?C.a.gB(j):null).e0(l)
q=l.a.bF(0,new G.kS(t))
j=J.p(e)
d=j.w(e,q)
p.a0("- actor: "+H.b(j.gm(e))+" (isMain=="+d+")")
p.a0("- mainActor: "+H.b(J.C(q)))
f=new B.ha(q.ce(l),g.e,g.y)
p.a0(new G.kT(o,f))
p.a0(new G.kU(g))
z=11
x=[1]
return P.cV(P.jg(f),$async$cj,y)
case 11:p.a0("- generating all actions for "+H.b(j.gm(e)))
j=J.D(n.c,n.b)
i=n.a
if(typeof j!=="number"){j.bA()
z=1
break}for(c=new P.bw(t.ey(e,l).a(),null,null,null);c.p();){b=c.c
a=b==null?c.b:b.gA()
if(!a.a2(e,l))continue
for(b=new P.bw(a.du(e,g,l).a(),null,null,null);b.p();){a0=b.c
a1=a0==null?b.b:a0.gA();++t.d
if(a1.gdC()<0.05)continue
if(m.G(0,a1.gbV()))continue
n.ap(a1)}}c=J.D(n.c,n.b)
b=n.a
if(typeof c!=="number"){c.bA()
z=1
break}p.a0("- added "+(((c&b.length-1)>>>0)-((j&i.length-1)>>>0))+" new PlanConsequences")
m.l(0,l)
z=3
break
case 4:case 1:return P.cV(null,0,y)
case 2:return P.cV(v,1,y)}})
var z=0,y=P.rT($async$cj),x,w=2,v,u=[],t=this,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e,d,c,b,a,a0,a1
return P.uU(y)}},l4:{"^":"a:45;",
$1:function(a){return J.D(a.b,a.c)}},l2:{"^":"a:1;a",
$0:function(){return"  - consequence: "+H.b(this.a)}},l3:{"^":"a:1;a",
$0:function(){return"    - uplift = "+this.a.j(0)}},l5:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),this.a.b)}},kO:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),this.a.b)}},kP:{"^":"a:1;a,b",
$0:function(){var z=this.a
return"_getConsequenceStats for firstAction '"+H.b(z.gm(z))+"' of "+H.b(J.C(this.b))}},kQ:{"^":"a:1;a",
$0:function(){return"- firstAction == "+this.a.j(0)}},kV:{"^":"a:1;a,b",
$0:function(){var z=this.a
return"- current: initialScore="+this.b.j(0)+", cumProb="+H.b(z.e)+" (prob="+H.b(z.d)+", ord="+z.y+")"}},kW:{"^":"a:1;a",
$0:function(){var z=this.a
return"- initial action: "+C.b.bE(" ",z.y)+"- "+J.v(z.b)}},kX:{"^":"a:1;a",
$0:function(){return"evaluating a PlanConsequence of '"+H.b(J.C(J.kb(this.a)))+"'"}},kY:{"^":"a:1;a",
$0:function(){var z=this.a.gbV().e
return"- situation: "+H.b(J.ki(z.length!==0?C.a.gB(z):null))}},kZ:{"^":"a:1;a,b,c",
$0:function(){return"- order ("+H.b(J.fV(this.c))+") higher than maximum ("+this.b+"), or consequences ("+this.a.a+") higher than maximum"}},l_:{"^":"a:1;a",
$0:function(){var z=this.a.gbV().c
return"- how we got here: "+new H.aq(z,new G.kN(),[H.l(z,0),null]).ax(0," <- ")}},kN:{"^":"a:0;",
$1:function(a){return a.gaM()}},l0:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),this.a.b)}},l1:{"^":"a:1;",
$0:function(){return}},kR:{"^":"a:1;a",
$0:function(){return"- "+this.a.j(0)}},kS:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),this.a.b)}},kT:{"^":"a:1;a,b",
$0:function(){return"- mainActor's score == "+this.b.j(0)+" (initial="+this.a.j(0)+")"}},kU:{"^":"a:1;a",
$0:function(){var z=this.a.gbV().c
return"- how we got here: "+new H.aq(z,new G.kM(),[H.l(z,0),null]).ax(0," <- ")}},kM:{"^":"a:0;",
$1:function(a){return a.gaM()}}}],["","",,Z,{"^":"",oM:{"^":"c;a,b",
gcl:function(){return this.b},
gH:function(a){return this.b.length===0},
im:function(a,b){var z=this
return new P.bl(function(){var y=a,x=b
var w=0,v=2,u,t,s,r,q,p,o,n,m,l
return function $async$im(c,d){if(c===1){u=d
w=v}while(true)switch(w){case 0:t=z.b
w=t.length<=y?3:4
break
case 3:w=5
return P.cU(t)
case 5:w=1
break
case 4:s=z.jN(new Z.oP())
r=z.ev(new Z.oQ(),[s])
q=z.ev(new Z.oR(),[s,r])
w=s!=null?6:8
break
case 6:$.$get$c9().c6("best self preserving: "+H.b(s))
w=9
return s
case 9:p=1
w=7
break
case 8:p=0
case 7:w=r!=null&&p<y?10:11
break
case 10:$.$get$c9().c6("best enemy damaging: "+H.b(r))
w=12
return r
case 12:++p
case 11:w=q!=null&&p<y?13:14
break
case 13:$.$get$c9().c6("best team preserving: "+H.b(q))
w=15
return q
case 15:++p
case 14:if(p===y){w=1
break}t=z.b;(t&&C.a).cw(t,new Z.oS(z,x))
t=z.b,o=t.length,n=0
case 16:if(!(n<t.length)){w=18
break}m=t[n]
l=J.p(m)
if(l.w(m,s)){w=17
break}if(l.w(m,r)){w=17
break}if(l.w(m,q)){w=17
break}w=19
return m
case 19:++p
if(p===y){w=18
break}case 17:t.length===o||(0,H.a6)(t),++n
w=16
break
case 18:case 1:return P.bj()
case 2:return P.bk(u)}}})},
ev:function(a,b){var z,y,x,w,v,u,t
for(z=this.b,y=z.length,x=this.a.a,w=null,v=null,u=0;u<z.length;z.length===y||(0,H.a6)(z),++u){t=z[u]
if(C.a.G(b,t))continue
if(w==null||J.Y(a.$1(x.h(0,t)),v)){v=a.$1(x.h(0,t))
w=t
continue}}return w},
jN:function(a){return this.ev(a,C.l)},
lU:function(a){var z,y,x,w,v,u,t,s,r,q
z={}
y=this.b
if(y.length===1)return(y&&C.a).gak(y);(y&&C.a).cw(y,new Z.oT(this,a))
y=this.a.a
x=y.gaR(y).ai(0,1/0,new Z.oU(a))
w=y.gaR(y).ai(0,-1/0,new Z.oV(a))
y=J.L(w)
v=J.L(x)
u=v.N(x,J.bB(y.N(w,x),0.1))
z.a=u
if(v.w(x,w)){u=J.D(u,1)
z.a=u
v=u}else v=u
t=y.N(w,v)
s=P.i_(this.b.length,new Z.oW(z,this,a,t),!1,P.a_)
r=new H.aq(s,new Z.oX(C.a.ai(s,0,Z.jZ())),[null,null]).aQ(0,!1)
z=C.a.ai(r,0,Z.jZ())
if(typeof z!=="number")return H.j(z)
v=r.length
y=v-1
if(y<0)return H.e(r,y)
z=J.O(r[y],1000-z)
if(y>=r.length)return H.e(r,y)
r[y]=z
q=S.pc(r,1000)
z=this.b
if(q>=z.length)return H.e(z,q)
return z[q]},
jf:function(a){var z,y
if(a.gH(a))$.$get$c9().fA("Created with no recommendations.")
z=a.gY(a)
y=H.B(z,"J",0)
y=P.ac(new H.a3(z,new Z.oO(a),[y]),!1,y)
this.b=y
if(y.length===0)$.$get$c9().fA("After removing actions scored by undefined, there are no recommendations.")},
q:{
oN:function(a){var z=new Z.oM(new P.j4(a,[null,null]),null)
z.jf(a)
return z},
y5:[function(a,b){return J.O(a,b)},"$2","jZ",4,0,8]}},oO:{"^":"a:0;a",
$1:function(a){return!this.a.h(0,a).glD()}},oP:{"^":"a:0;",
$1:function(a){return a.gbW()}},oQ:{"^":"a:0;",
$1:function(a){return J.ed(a.gbQ())}},oR:{"^":"a:0;",
$1:function(a){return a.gct()}},oS:{"^":"a:3;a,b",
$2:function(a,b){var z,y
z=this.b
y=this.a.a.a
return J.ed(J.co(z.$1(y.h(0,a)),z.$1(y.h(0,b))))}},oT:{"^":"a:3;a,b",
$2:function(a,b){var z,y
z=this.b
y=this.a.a.a
return J.ed(J.co(z.$1(y.h(0,a)),z.$1(y.h(0,b))))}},oU:{"^":"a:3;a",
$2:function(a,b){return P.w6(a,this.a.$1(b))}},oV:{"^":"a:3;a",
$2:function(a,b){return P.w5(a,this.a.$1(b))}},oW:{"^":"a:4;a,b,c,d",
$1:function(a){var z,y
z=this.b
y=z.b
if(a>=y.length)return H.e(y,a)
return J.bA(J.D(this.c.$1(z.a.a.h(0,y[a])),this.a.a),this.d)}},oX:{"^":"a:0;a",
$1:function(a){return J.ks(J.bB(J.bA(a,this.a),1000))}}}],["","",,K,{"^":"",cJ:{"^":"c;a,m:b>,aM:c<,d,lP:e<,f,cb:r<",
gla:function(){return this.a},
gt:function(a){return C.b.gt(this.b)},
w:function(a,b){if(b==null)return!1
return b instanceof K.cJ&&b.b===this.b},
q:{
pl:function(a,b,c,d,e,f,g){var z,y
z=new K.cJ(null,a,b,c,d,e,g)
y=new S.b2(null,null,[Q.bG])
y.aS()
y.D(0,f)
z.a=y.E()
return z}}}}],["","",,Q,{"^":"",bG:{"^":"c;hW:a<,aM:b<,c"}}],["","",,S,{"^":"",bf:{"^":"c;",
gbn:function(){return C.l},
gcl:function(){return C.l},
e0:function(a){return this.bl(this.gU(),a)},
ii:function(a,b){},
ij:function(a,b){},
e7:function(a){return!0}}}],["","",,S,{"^":"",
il:function(a){var z=$.$get$bN().aj(3)
if(z<0||z>=3)return H.e(a,z)
return a[z]},
pb:function(a,b){var z,y,x,w,v
z=$.$get$bN().ig()*b
for(y=new H.c5(a,a.gi(a),0,null,[H.B(a,"aU",0)]),x=0,w=0;y.p();){v=y.d
if(typeof v!=="number")return H.j(v)
x+=v
if(x>=z)return w;++w}throw H.d(P.P("The weights do not add up to total="+b))},
pc:function(a,b){var z,y,x,w,v,u,t
z=$.$get$bN().aj(b)
for(y=a.length,x=0,w=0,v=0;u=a.length,v<u;u===y||(0,H.a6)(a),++v){t=a[v]
if(typeof t!=="number")return H.j(t)
x+=t
if(x>=z)return w;++w}throw H.d(P.P("The weights do not add up to total="+b))},
dB:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l
z=C.b.b1(a,"{")
if(z!==-1&&z<a.length-1){y=H.r([],[P.t])
y.push(z)
w=z+1
v=a.length
u=null
t=1
while(!0){if(!(w<v)){x=null
break}if(w<0)return H.e(a,w)
s=a[w]
if(s==="{")++t
else if(s==="|"&&t===1)y.push(w)
else if(s==="}"){--t
if(t===0){y.push(w)
x=w
u=x
break}}r=w+1
u=w
w=r}q=y.length-1
if(q>1){p=$.$get$bN().aj(q)
o=C.b.af(a,0,z)
n=y.length
if(p<0||p>=n)return H.e(y,p)
m=y[p]
l=p+1
if(l>=n)return H.e(y,l)
l=o+S.dB(C.b.af(a,m+1,y[l]))
if(typeof x!=="number")return x.K()
l+=C.b.af(a,x+1,v)
o=l.charCodeAt(0)==0?l:l
if(u===v-1)return o
else return S.dB(o)}else if(u===v-1)return a
else{if(typeof u!=="number")return u.K()
v=u+1
return C.b.af(a,0,v)+S.dB(C.b.bH(a,v))}}else return a},
cb:function(a,b,c,d){switch($.$get$bN().aj(2)){case 0:a.$0()
break
case 1:b.$0()
break
case 2:c.$0()
break
case 4:d.$0()
break}},
im:function(a){if(a<0||a>1)throw H.d(P.Z(a,0,1,"Probability needs to be within <0,1>.",null))
if(a===0)return!1
if(a===1)return!0
return $.$get$bN().ig()<a}}],["","",,Y,{"^":"",aL:{"^":"c;as:a<,aK:b<,aG:c<,il:d<,e,dv:f@,ip:r<,ie:x<,fN:y<,l9:z<,iX:Q<,d6:ch<,cx,lC:cy<,U:db<",
h:function(a,b){switch(b){case"string":return this.a
case"subject":return this.b
case"object":return this.c
case"owner":return this.d
case"but":return this.f
case"positive":return this.r
case"negative":return this.x
case"endSentence":return this.z
case"startSentence":return this.Q
case"wholeSentence":return this.ch
case"time":return this.db
default:throw H.d(P.P("Invalid key "+H.b(b)+"."))}}},bg:{"^":"c;a,U:b<,c",
geZ:function(){return C.a.aL(this.a,new Y.qw())},
aY:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var z,y
if(b==null||J.f(b,""))return
z=(J.b7(b).dE(b,".")||C.b.dE(b,"!")||C.b.dE(b,"?"))&&C.b.cz(b,P.K("[A-Z]",!0,!1))?!0:p
y=this.b
this.a.push(new Y.aL(b,m,h,j,i,d,k,g,!1,e,l,z,c,!1,y))},
l:function(a,b){return this.aY(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,!1,null,!1)},
b5:function(a,b,c){return this.aY(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,!1,null,c)},
eR:function(a,b,c){return this.aY(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,c,!1,null,!1)},
ky:function(a,b,c,d){return this.aY(a,b,null,!1,c,!1,!1,null,null,null,!1,!1,d,!1,null,!1)},
eQ:function(a,b,c){return this.aY(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,null,!1,null,!1)},
X:function(a,b,c,d,e,f,g,h,i,j){return this.aY(a,b,null,c,d,!1,e,f,g,null,h,!1,i,j,null,!1)},
kB:function(a,b,c,d,e){return this.aY(a,b,null,!1,!1,!1,c,null,null,null,!1,d,e,!1,null,!1)},
kA:function(a,b,c,d){return this.aY(a,b,null,!1,!1,!1,!1,null,null,c,!1,!1,d,!1,null,!1)},
kx:function(a,b,c){return this.aY(a,b,null,c,!1,!1,!1,null,null,null,!1,!1,null,!1,null,!1)},
kC:function(a,b,c,d,e){return this.aY(a,b,null,!1,!1,!1,!1,c,null,d,!1,!1,e,!1,null,!1)},
kz:function(a,b,c,d){return this.aY(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,d,!1,null,!1)},
kD:function(a,b,c,d,e){return this.aY(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,d,!1,null,e)},
cm:function(a,b,c,d,e){var z,y,x
if(d!=null)z=C.b.b1(a,"<owner's> "+b)!==-1||C.b.b1(a,"<ownerPronoun's> "+b)!==-1||C.b.b1(a,"<object-owner's> "+b)!==-1||C.b.b1(a,"<object-ownerPronoun's> "+b)!==-1
else z=!1
if(z)return a
if(!c.gdI()){z=this.c
y=z.h(0,c.gv(c))
if(y==null)y=-1
if(typeof y!=="number")return y.a_()
if(typeof e!=="number")return H.j(e)
if(y<e)x=C.b.dO(a,b,"the "+b)
else{x=J.da(c.gm(c),P.K("[aeiouy]",!1,!1))?C.b.dO(a,b,"an "+b):C.b.dO(a,b,"a "+b)
z.k(0,c.gv(c),e)}}else x=null
return x==null?a:x},
eX:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
z=this.a
if(a<0||a>=z.length)return H.e(z,a)
if(z[a].gaK()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaK()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
if(z[a].gaG()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaG()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.G(z[a].gaK())
if(b<0||b>=z.length)return H.e(z,b)
if(J.f(y,J.G(z[b].gaG()))){if(a>=z.length)return H.e(z,a)
y=J.G(z[a].gaG())
if(b>=z.length)return H.e(z,b)
z=J.f(y,J.G(z[b].gaK()))}else z=!1
return z},
e_:function(a){var z=this
return new P.bl(function(){var y=a
var x=0,w=2,v,u,t
return function $async$e_(b,c){if(b===1){v=c
x=w}while(true)switch(x){case 0:if(!z.aJ(y)){x=1
break}u=z.a
if(y<0||y>=u.length)H.e(u,y)
t=u[y]
x=t.gaK()!=null?3:4
break
case 3:x=5
return t.gaK()
case 5:case 4:x=t.gaG()!=null?6:7
break
case 6:x=8
return t.gaG()
case 8:case 7:x=t.gil()!=null?9:10
break
case 9:x=11
return t.d
case 11:case 10:case 1:return P.bj()
case 2:return P.bk(v)}}})},
aO:[function(a){var z=J.L(a)
if(z.a_(a,0)||z.bB(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaG()}},"$1","gaG",2,0,2],
lR:function(a,b){var z
if(!this.aJ(a)||!this.aJ(b))return!1
if(this.eX(a,b)){z=this.a
if(a>=z.length)return H.e(z,a)
z[a].gfN()}return!1},
ik:function(a){var z
for(z=!1;this.geZ();z=!0){a.$1(this.iq(!0))
this.m0()}return z},
iq:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e
z=this.a
y=C.a.ai(z,[],new Y.qx())
C.a.hv(z,new Y.qy(y),!1)
x=a&&this.geZ()?C.a.b1(z,C.a.i_(z,new Y.qz()))+1:z.length
if(x<1)return""
for(w=-1,v=!0,u=!1,t=!1,s=0,r="";s<x;++s){q=s===0
if(!q){p=s-1
o=this.eX(p,s)
if(s>=z.length)return H.e(z,s)
if(!z[s].gdv())n=this.lR(s,p)&&this.iU(s,p)
else n=!0
if(n){if(p<0||p>=z.length)return H.e(z,p)
t=!z[p].gdv()}else t=!1
if(s>=z.length)return H.e(z,s)
z[s].sdv(t)
n=s-w
if(n<3)if(!u){if(s>=z.length)return H.e(z,s)
if(!z[s].giX()){if(p<0||p>=z.length)return H.e(z,p)
if(!z[p].gl9()){if(s>=z.length)return H.e(z,s)
if(!z[s].gd6())if(this.dr(s,p)||o)if(!(t&&n>1)){if(t){if(p>=z.length)return H.e(z,p)
n=z[p].gdv()}else n=!1
n=n||this.mc(s)>4}else n=!0
else n=!0
else n=!0}else n=!0}else n=!0
v=n}else v=!0
else v=!0
if(v){if(p<0||p>=z.length)return H.e(z,p)
if(z[p].gd6()){r+=" "
p=r}else{r+=". "
p=r}if(t){if(s>=z.length)return H.e(z,s)
n=!z[s].gd6()}else n=!1
r=n?r+"But ":p
u=!1}else if(t){r+=S.il([" but "," but ",", but "])
u=!this.iI(s,s+1)&&!0}else{r+=S.il([" and "," and ",", and "])
u=!0}}m=this.e9(s)
p=!v
if(p){n=s-1
if(this.dr(s,n))if(J.da(this.e9(n),"<subject> "))if(J.da(m,"<subject> "))m=H.cl(m,"<subject> ","",0)}l=J.bC(m,"<action>",this.e9(s))
if(this.kk(s,s-1))n=!(this.aO(s).gI()===C.m&&this.al(s).gI()===C.m)
else n=!1
if(n){n=this.aO(s).gI()
l=H.u(l,"<object-owner's> <object>",n.b)
n=this.aO(s).gI()
l=H.u(l,"<object-ownerPronoun's> <object>",n.b)
n=this.aO(s).gI()
l=H.u(l,"<object>",n.b)
n=this.aO(s).gI()
l=H.u(l,"<object's>",n.c)}if(this.dr(s,s-1)){n=this.al(s).gI()
l=H.u(l,"<owner's> <subject>",n.a)
n=this.al(s).gI()
l=H.u(l,"<ownerPronoun's> <subject>",n.a)
n=this.al(s).gI()
l=H.u(l,"<subject>",n.a)
n=this.al(s).gI()
l=H.u(l,"<subject's>",n.c)}n=s-1
if(this.aO(n)!=null)if(this.al(s)!=null)if(this.al(n)!=null){k=this.aO(n)
k=k==null?k:J.G(k)
j=this.al(s)
if(J.f(k,j==null?j:J.G(j))){k=this.al(n)
k=k==null?k:k.gI()
j=this.al(s)
k=!J.f(k,j==null?j:j.gI())}else k=!1}else k=!1
else k=!1
else k=!1
if(k){k=this.al(s).gI()
l=H.u(l,"<owner's> <subject>",k.a)
k=this.al(s).gI()
l=H.u(l,"<ownerPronoun's> <subject>",k.a)
k=this.al(s).gI()
l=H.u(l,"<subject>",k.a)
k=this.al(s).gI()
l=H.u(l,"<subject's>",k.c)}if(this.al(n)!=null)if(this.aO(s)!=null){k=this.al(n)
k=k==null?k:J.G(k)
j=this.aO(s)
if(J.f(k,j==null?j:J.G(j))){n=this.al(n)
n=n==null?n:n.gI()
k=this.al(s)
n=!J.f(n,k==null?k:k.gI())}else n=!1}else n=!1
else n=!1
if(n){n=this.aO(s).gI()
l=H.u(l,"<object-owner's> <object>",n.a)
n=this.aO(s).gI()
l=H.u(l,"<object-ownerPronoun's> <object>",n.a)
n=this.aO(s).gI()
l=H.u(l,"<object>",n.b)
n=this.aO(s).gI()
l=H.u(l,"<object's>",n.c)}if(s>=z.length)return H.e(z,s)
n=z[s]
i=n.gaK()
h=n.gaG()
g=n.gil()
f=n.e
if(i!=null){if(i.gR()){e=H.u(l,"<subject>","you")
e=H.u(e,"<subject's>","your")}else e=l
if(i.gI()===C.M||i.gI()===C.aX){e=H.u(e,"<s>","")
e=H.u(e,"<es>","")
e=H.u(e,"<ies>","y")
e=H.u(e,"<does>","do")
e=H.u(e,"<is>","are")
e=H.u(e,"<has>","have")}else{e=H.u(e,"<s>","s")
e=H.u(e,"<es>","es")
e=H.u(e,"<ies>","ies")
e=H.u(e,"<does>","does")
e=H.u(e,"<is>","is")
e=H.u(e,"<has>","has")}e=H.cl(e,"<subject>","<subjectNoun>",0)
k=i.gI()
e=H.u(e,"<subject>",k.a)
k=n.db
e=this.cm(e,"<subjectNoun>",i,g,k)
j=i.gm(i)
if(typeof j!=="string")H.k(H.W(j))
e=H.cl(e,"<subjectNoun>",j,0)
j=i.gI()
e=H.u(e,"<subjectPronoun>",j.a)
if(C.b.G(l,P.K("<subject>.+<subject's>",!0,!1))){j=i.gI()
e=H.u(e,"<subject's>",j.c)}e=this.cm(e,"<subject's>",i,g,k)
k=H.b(i.gm(i))+"'s"
e=H.cl(e,"<subject's>",k,0)
k=i.gI()
e=H.u(e,"<subject's>",k.c)
k=i.gI()
e=H.u(e,"<subjectPronoun's>",k.c)}else e=l
if(h!=null){if(h.gR()){e=H.u(e,"<object>","you")
e=H.u(e,"<object's>","your")}else{e=this.cm(e,"<object>",h,f,n.db)
k=h.gm(h)
if(typeof k!=="string")H.k(H.W(k))
e=H.u(e,"<object>",k)}k=h.gI()
e=H.u(e,"<objectPronoun>",k.b)
if(C.b.G(l,P.K("<object>.+<object's>",!0,!1))){k=h.gI()
e=H.u(e,"<object's>",k.c)}e=this.cm(e,"<object's>",h,f,n.db)
k=H.b(h.gm(h))+"'s"
e=H.cl(e,"<object's>",k,0)
k=h.gI()
e=H.u(e,"<object's>",k.c)
k=h.gI()
e=H.u(e,"<objectPronoun's>",k.c)}n=n.db
e=S.dB(this.hp(f,this.hp(g,e,l,"<owner>","<owner's>","<ownerPronoun>","<ownerPronoun's>",n),l,"<object-owner>","<object-owner's>","<object-ownerPronoun>","<object-ownerPronoun's>",n))
if(C.b.G(e,"{")||C.b.G(e,"}"))$.$get$jW().fI('Storyline result includes { and/or } even after being parsed by Randomly. Is there a dangling bracket here? Input = """'+l+'""" Output = """'+e+'"""')
r+=(!p||q)&&!t?Y.qv(e):e
if(v)w=s
if(s>=z.length)return H.e(z,s)
if(z[s].gd6())u=!0}q=x-1
if(q>>>0!==q||q>=z.length)return H.e(z,q)
z=!z[q].gd6()?r+".":r
return H.wo(z.charCodeAt(0)==0?z:z,$.$get$iD(),new Y.qA(),null)},
d1:function(){return this.iq(!1)},
m0:function(){var z,y
if(!this.geZ()){C.a.si(this.a,0)
return}z=this.a
y=C.a.b1(z,C.a.i_(z,new Y.qB()))+1
P.cH(0,y,z.length,null,null,null)
z.splice(0,y-0)},
iI:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
if(this.eX(a,b)){z=this.a
if(a>=z.length)return H.e(z,a)
z[a].gfN()}if(!this.dr(a,b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gip()){if(b>=z.length)return H.e(z,b)
y=z[b].gip()}else y=!1
if(y)return!0
if(a>=z.length)return H.e(z,a)
if(z[a].gie()){if(b>=z.length)return H.e(z,b)
z=z[b].gie()}else z=!1
if(z)return!0
else return!1},
iU:function(a,b){var z,y,x,w,v,u
if(!this.aJ(a)||!this.aJ(b))return!1
for(z=new P.bw(this.e_(a).a(),null,null,null);z.p();){y=z.c
x=y==null?z.b:y.gA()
for(y=new P.bw(this.e_(b).a(),null,null,null),w=J.o(x);y.p();){v=y.c
u=v==null?y.b:v.gA()
if(J.f(w.gv(x),J.G(u)))return!0}}return!1},
e9:[function(a){var z=J.L(a)
if(z.a_(a,0)||z.bB(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gas()}},"$1","gas",2,0,6],
al:[function(a){var z=J.L(a)
if(z.a_(a,0)||z.bB(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaK()}},"$1","gaK",2,0,2],
mc:function(a){var z,y,x
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gU()!=null){y=a-1
if(this.aJ(y)){if(y<0||y>=z.length)return H.e(z,y)
y=z[y].gU()==null}else y=!0}else y=!0
if(y)return 1000
else{if(a>=z.length)return H.e(z,a)
y=z[a].gU()
x=a-1
if(x<0||x>=z.length)return H.e(z,x)
x=z[x].gU()
if(typeof y!=="number")return y.N()
if(typeof x!=="number")return H.j(x)
return y-x}},
j:function(a){return this.d1()},
aJ:function(a){if(a>=this.a.length||a<0)return!1
else return!0},
hp:function(a,b,c,d,e,f,g,h){var z,y
if(a!=null){if(a.gR())z=H.u(H.u(b,d,"you"),e,"your")
else{z=this.cm(b,d,a,null,h)
y=a.gm(a)
H.b6(y)
z=H.u(z,d,y)}z=H.u(z,f,a.gI().a)
z=H.u(H.u(C.b.dO(this.cm(C.b.G(c,P.K(d+".+"+e,!0,!1))?H.u(z,e,a.gI().c):z,e,a,null,h),e,H.b(a.gm(a))+"'s"),e,a.gI().c),g,a.gI().c)}else z=H.u(H.u(H.u(H.u(b,d,""),e,""),f,""),g,"")
return z},
kk:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gaG()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaG()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.G(z[a].gaG())
if(b<0||b>=z.length)return H.e(z,b)
return J.f(y,J.G(z[b].gaG()))},
dr:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gaK()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaK()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.G(z[a].gaK())
if(b<0||b>=z.length)return H.e(z,b)
return J.f(y,J.G(z[b].gaK()))},
q:{
qv:function(a){var z,y,x
z=!C.b.G(a,"\n\n")?C.b.mf(a):a
y=z.length
if(y===0)return z
if(0>=y)return H.e(z,0)
x=z[0].toUpperCase()
if(y===1)return x
else return x+C.b.bH(z,1)}}},qw:{"^":"a:0;",
$1:function(a){return J.f(a.gas(),"\n\n")}},qx:{"^":"a:46;",
$2:function(a,b){var z,y
z=J.S(a)
y=z.ga4(a)?z.gB(a):null
if(y!=null)y.glC()
z.l(a,b)
return a}},qy:{"^":"a:47;a",
$1:function(a){return J.eg(this.a,a)}},qz:{"^":"a:0;",
$1:function(a){return J.f(a.gas(),"\n\n")}},qA:{"^":"a:48;",
$1:function(a){return H.b(a.h(0,1))+H.b(a.h(0,2))+H.b(a.h(0,3))}},qB:{"^":"a:0;",
$1:function(a){return J.f(a.gas(),"\n\n")}},c3:{"^":"op;dI:a<,m:b>,c,bx:d<,R:e<,I:f<",
gv:function(a){return H.ar(this)},
gf2:function(){return!0},
gbr:function(){return!0},
q:{
ht:function(a,b,c,d,e){var z=H.r([],[P.h])
return new Y.c3(!0,b,z,e==null?$.$get$bz():e,!1,d)}}},op:{"^":"c+ew;"},ew:{"^":"c;",
gbs:function(){if(this.gbr()){this.gf2()
var z=!0}else z=!1
return z},
bi:function(a,b,c,d,e,f,g,h,i){a.X(0,b,c,d,e,f,g,h,H.b8(this,"$isc3"),!1)},
az:function(a,b){return this.bi(a,b,!1,!1,!1,null,null,!1,!1)},
b3:function(a,b,c,d){return this.bi(a,b,!1,!1,!1,c,null,d,!1)},
ca:function(a,b,c){return this.bi(a,b,!1,!1,!1,c,null,!1,!1)},
dP:function(a,b,c){return this.bi(a,b,!1,!1,!1,null,null,c,!1)},
dQ:function(a,b,c,d){return this.bi(a,b,c,!1,!1,d,null,!1,!1)},
fk:function(a,b,c,d){return this.bi(a,b,!1,c,d,null,null,!1,!1)},
bv:function(a,b,c){return this.bi(a,b,!1,!1,c,null,null,!1,!1)},
fk:function(a,b,c,d){return this.bi(a,b,!1,c,d,null,null,!1,!1)},
is:function(a,b,c,d){return this.bi(a,b,!1,!1,c,d,null,!1,!1)},
m4:function(a,b,c,d){return this.bi(a,b,c,!1,!1,null,null,d,!1)}},cF:{"^":"c;a,b,c,d",
j:function(a){return this.a}}}],["","",,L,{"^":"",vo:{"^":"a:0;",
$1:function(a){a.gcN().b=2
return 2}},vn:{"^":"a:0;",
$1:function(a){a.gcN().b=0
return 0}},vq:{"^":"a:0;",
$1:function(a){a.gcN().b=1
return 1}},iL:{"^":"c;"},rJ:{"^":"iL;v:a>",
aH:function(a){var z=new L.iM(null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.iL))return!1
z=this.a
y=b.a
return z==null?y==null:z===y},
gt:function(a){return Y.aZ(Y.z(0,J.x(this.a)))},
j:function(a){return"Team {id="+J.v(this.a)+",\n}"},
q:{
f8:function(a){var z=new L.iM(null,null)
a.$1(z)
return z.E()}}},iM:{"^":"c;a,b",
gv:function(a){return this.gcN().b},
gcN:function(){var z=this.a
if(z!=null){this.b=z.a
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y
z=this.a
if(z==null){y=this.gcN().b
z=new L.rJ(y)
if(y==null)H.k(P.H("id"))}this.D(0,z)
return z}}}],["","",,X,{"^":"",
jE:function(a,b){return new P.bl(function(){var z=a,y=b
var x=0,w=1,v,u,t,s,r,q
return function $async$jE(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=z.a
t=new J.bo(u,u.length,0,null,[H.l(u,0)])
u=y.a
s=new J.bo(u,u.length,0,null,[H.l(u,0)])
case 2:r=t.p()
q=s.p()
x=r?5:6
break
case 5:x=7
return t.d
case 7:case 6:x=q?8:9
break
case 8:x=10
return s.d
case 10:case 9:case 3:if(r||q){x=2
break}case 4:return P.bj()
case 1:return P.bk(v)}}})}}],["","",,A,{"^":"",bP:{"^":"c;a,b,c,d,e,U:f<",
gkY:function(){var z=this.e
return z.length!==0?C.a.gB(z):null},
gt:function(a){var z,y,x,w
z=X.at(this.a)
y=X.at(this.c)
x=X.at(this.e)
w=this.f
return X.cg(X.aN(X.aN(X.aN(X.aN(0,z&0x1FFFFFFF),y&0x1FFFFFFF),x&0x1FFFFFFF),J.x(w)))},
w:function(a,b){var z
if(b==null)return!1
z=J.p(b)
return!!z.$isbP&&this.gt(this)===z.gt(b)},
hX:function(a){var z,y,x
z=this.ew(a)
if(z==null)throw H.d(new P.A("Tried to elapseSituationTime of situation id="+H.b(a)+" that doesn't exist in situations ("+H.b(this.e)+")."))
y=this.e
if(z!==(z|0)||z>=y.length)return H.e(y,z)
x=y[z].bp()
if(z!==(z|0)||z>=y.length)return H.e(y,z)
y[z]=x},
bp:function(){var z=this.f
if(typeof z!=="number")return z.K()
this.f=z+1},
iG:function(a,b,c,d,e){var z=this.c
if(a!=null)z=z.fO(0,new A.rr(a))
if(b!=null)z=z.bz(0,new A.rs(b))
if(c!=null)z=z.bz(0,new A.rt(c))
if(e!=null)z=z.bz(0,new A.ru(e))
return d!=null?z.bz(0,new A.rv(d)):z},
fq:function(a,b,c,d,e){var z,y,x,w
z=this.iG(a,b,c,d,e)
y=z.gM(z)
if(y.p()){x=y.gA()
y=this.f
w=x.gU()
if(typeof y!=="number")return y.N()
if(typeof w!=="number")return H.j(w)
return y-w}return},
mb:function(a,b,c){return this.fq(null,a,b,c,null)},
dT:function(a,b,c){return this.fq(a,null,b,null,c)},
ma:function(a,b,c){return this.fq(a,b,null,null,c)},
ae:function(a){return this.a.bF(0,new A.rw(a))},
fF:function(a){return this.d.bF(0,new A.rx(a))},
iH:function(a){var z,y
z=this.ew(a)
if(z==null)return
y=this.e
if(z!==(z|0)||z>=y.length)return H.e(y,z)
return y[z]},
d8:function(a){var z,y
for(z=this.e,y=z.length-1;y>=0;--y){if(y>=z.length)return H.e(z,y)
if(J.f(J.C(z[y]),a)){if(y>=z.length)return H.e(z,y)
return z[y]}}throw H.d(P.P("No situation with name="+a+" found."))},
i5:function(a){var z=this.a.bq(0,new A.ry(a),new A.rz())
if(z==null)return!1
return z.gbr()},
cr:function(a){var z=this.e
while(!0){if(!(z.length!==0&&!J.f(J.C(C.a.gB(z)),a)))break
C.a.cs(z)}if(z.length===0)throw H.d(P.P("Tried to pop situations until "+a+" but none was found in stack."))},
j:function(a){var z,y
z=this.a
y=z.hl()
y.O(0,z)
return"World<"+P.bJ(y,"{","}")+">"},
aA:function(a,b){var z,y,x
z=this.ae(a)
y=z.aH(b)
x=this.a
x.F(0,z)
x.l(0,y)},
ew:function(a){var z,y,x
y=this.e
x=0
while(!0){if(!(x<y.length)){z=null
break}if(J.f(J.G(y[x]),a)){z=x
break}++x}return z},
jm:function(a){var z
this.a.O(0,a.a)
z=a.c
this.c.O(0,new H.aq(z,new A.rq(),[H.l(z,0),null]))
this.b.O(0,a.b)
this.d.O(0,a.d)
C.a.O(this.e,a.e)
this.f=a.f},
q:{
j6:function(a){var z,y
z=P.Q(null,null,null,R.a8)
y=P.aV(null,O.cq)
y=new A.bP(z,P.Q(null,null,null,U.dn),y,P.Q(null,null,null,null),[],null)
y.jm(a)
return y}}},rq:{"^":"a:0;",
$1:function(a){var z,y,x,w,v,u,t,s,r,q,p,o
z=a.gU()
y=a.ghI()
x=a.geP()
w=a.gaM()
v=a.gdL()
u=P.t
t=P.aJ(a.geb(),u)
s=P.aJ(a.glG(),u)
r=a.y
q=a.z
p=a.Q
o=R.kI(a.ch,A.an)
return new O.cq(w,y,x,z,v,P.Q(null,null,null,u),t,s,r,q,p,o)}},rr:{"^":"a:0;a",
$1:function(a){return J.eg(a.geP(),this.a)}},rs:{"^":"a:0;a",
$1:function(a){return J.f(a.gdL(),J.G(this.a))}},rt:{"^":"a:0;a",
$1:function(a){var z=this.a
return a.geb().G(0,z.gv(z))}},ru:{"^":"a:0;a",
$1:function(a){return a.giC()===this.a}},rv:{"^":"a:0;a",
$1:function(a){return a.giB()===this.a}},rw:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),this.a)}},rx:{"^":"a:0;a",
$1:function(a){return J.f(J.C(a),this.a)}},ry:{"^":"a:0;a",
$1:function(a){return J.f(J.G(a),this.a)}},rz:{"^":"a:1;",
$0:function(){return}}}],["","",,R,{"^":"",
z7:[function(){return D.d0()},"$0","uW",0,0,10]}],["","",,D,{"^":"",
d0:function(){var z=0,y=new P.au(),x=1,w
var $async$d0=P.as(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.w(C.P.ghM(window),$async$d0,y)
case 2:z=3
return P.w(P.c4(C.a9,null,null),$async$d0,y)
case 3:return P.w(null,0,y)
case 1:return P.w(w,1,y)}})
return P.w(null,$async$d0,y)}}],["","",,N,{"^":"",lw:{"^":"ae;a7:c<,a1:d<,b,a",
gay:function(){return"confuse <object>"},
gaI:function(){return"will <subject> confuse <object>?"},
ag:[function(a,b,c){var z
a.az(c,"<subject> touch<es> <subject's> temple")
z=this.b
a.toString
c.X(0,"<subject> tr<ies> to {channel|implant} {terror|confusion} into <object's> mind",!1,!1,!1,z,null,!1,a,!1)
c.X(0,"<subject> fail<s>",!0,!1,!0,null,null,!1,a,!1)
return H.b(a.gm(a))+" fails to confuse "+H.b(J.C(z))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z
a.az(c,"<subject> touch<es> <subject's> temple")
z=this.b
a.toString
c.X(0,"<subject> {channel<s>|implant<s>} {terror|confusion} into <object's> mind",!1,!1,!1,z,null,!0,a,!1)
z.bv(c,"<subject's> eyes go wide with terror",!0)
return H.b(a.gm(a))+" confuses "+H.b(z.gm(z))},"$3","gac",6,0,0],
a5:function(a,b){return 0.7},
a2:function(a,b){return a.gR()&&!this.b.f4(b)},
q:{
wF:[function(a){return new N.lw(!0,"Channeling the terror of the Dead Prince into lesser minds is something you've been practicing. It makes the target rabid and disoriented. They might attack their own.",a,null)},"$1","vt",2,0,1]}}}],["","",,Y,{"^":"",nT:{"^":"ae;a7:c<,a1:d<,b,a",
gay:function(){return"kick <object>"},
gaI:function(){return"will <subject> undercut <objectPronoun's> feet?"},
ag:[function(a,b,c){var z=this.b
a.ca(c,"<subject> kick<s> <object>",z)
if(z.gJ()===C.d){if(a.gR())z.is(c,"<subject> lose<s> <object>",!0,$.$get$fx())
b.aA(z.gv(z),new Y.nU())}if(b.ae(z.gv(z)).gJ()===C.h)C.a.l(b.e,U.oq(z,a))
return H.b(a.gm(a))+" kicks "+H.b(z.gm(z))+" off balance"},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
z=b.d8("FightSituation").gcb()
y=this.b
if(y.gJ()===C.d||y.gJ()===C.h){S.cb(new Y.nV(this,a,c,z),new Y.nW(this,a,c,z),null,null)
b.aA(y.gv(y),new Y.nX())}else a.ca(c,"<subject> kick<s> <object> on the ground",y)
return H.b(J.C(a))+" kicks "+H.b(y.gm(y))+" to ground"},"$3","gac",6,0,0],
a5:function(a,b){var z=a.gJ()===C.d?0:0.2
if(a.gR())return 0.7-z
return 0.5-z},
a2:function(a,b){return a.gJ()===C.d},
q:{
xx:[function(a){return new Y.nT(!0,"Kicking opponents doesn't deal much damage but it can put them off balance or even to the ground. Such opponents are much easier targets for you and your allies.",a,null)},"$1","vX",2,0,1]}},nU:{"^":"a:0;",
$1:function(a){a.sJ(C.h)
return a}},nV:{"^":"a:1;a,b,c,d",
$0:function(){var z,y
z=this.c
y=this.a.b
this.b.ca(z,"<subject> kick<s> <object>",y)
if(S.im(0.5))y.az(z,"<subject> flail<s> <subject's> arms")
y.bv(z,"<subject> fall<s>{| to the "+H.b(this.d)+"}",!0)}},nW:{"^":"a:1;a,b,c,d",
$0:function(){var z,y
z=this.c
y=this.a.b
this.b.b3(z,"<subject> kick<s> <object> off <object's> feet",y,!0)
if(y.gR())y.bv(z,"<subject> land<s> on the "+H.b(this.d),!0)}},nX:{"^":"a:0;",
$1:function(a){a.sJ(C.j)
return a}}}],["","",,F,{"^":"",oK:{"^":"aS;a1:b<,a7:c<,a",
gm:function(a){return"Stand off."},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){if(a.gR())a.az(c,"<subject> stand<s> off")
return H.b(a.gm(a))+" passes the opportunity"},"$3","gac",6,0,0],
bD:function(a,b){return"WARNING this shouldn't be user-visible"},
a5:function(a,b){return 1},
a2:function(a,b){return!0}}}],["","",,B,{"^":"",ph:{"^":"aS;a1:b<,a7:c<,a",
gm:function(a){return"Regain balance."},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){if(a.gR())a.b3(c,"<subject> regain<s> <object>",$.$get$fx(),!0)
b.aA(a.gv(a),new B.pi())
return H.b(a.gm(a))+" regains balance"},"$3","gac",6,0,0],
bD:function(a,b){return"Will "+a.gI().a+" regain balance?"},
a5:function(a,b){return 1},
a2:function(a,b){return a.gJ()===C.h}},pi:{"^":"a:0;",
$1:function(a){a.sJ(C.d)
return C.d}}}],["","",,O,{"^":"",pz:{"^":"aS;a1:b<,a7:c<,a",
gm:function(a){return"Scramble."},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){a.az(c,"<subject> tr<ies> to {scramble|crawl} out of {reach|harm's way}")
return H.b(a.gm(a))+" scrambles on ground"},"$3","gac",6,0,0],
bD:function(a,b){return"Will "+a.gI().a+" crawl out of harm's way?"},
a5:function(a,b){return 1},
a2:function(a,b){var z
if(a.gJ()!==C.j)return!1
z=b.dT("Kick",a,!0)
if(z!=null&&z<=1)return!0
return!1}}}],["","",,Q,{"^":"",qf:{"^":"aS;a1:b<,a7:c<,a",
gm:function(a){return"Stand up."},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){a.az(c,"<subject> stand<s> up")
b.aA(a.gv(a),new Q.qg())
return H.b(a.gm(a))+" stands up"},"$3","gac",6,0,0],
bD:function(a,b){return"Will "+a.gI().a+" stand up?"},
a5:function(a,b){return 1},
a2:function(a,b){var z
if(a.gJ()!==C.j)return!1
z=b.dT("Kick",a,!0)
if(z!=null&&z<=1)return!1
return!0}},qg:{"^":"a:0;",
$1:function(a){a.sJ(C.d)
return C.d}}}],["","",,G,{"^":"",qh:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"swing at <object>"},
gaI:function(){return"will <subject> swing with extra force?"},
ag:[function(a,b,c){var z,y
z=this.b
a.ca(c,"<subject> swing<s> {<subject's> "+a.ga3().f+" |}at <object>",z)
y=b.e
C.a.l(y,M.dH(a,z,!1))
C.a.l(y,L.dG(a,z,!1))
return H.b(a.cy)+" starts a slash at "+H.b(J.C(z))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
S.cb(new G.qk(this,a,c),new G.ql(this,a,c),null,null)
z=this.b
y=b.e
C.a.l(y,M.dH(a,z,!0))
C.a.l(y,L.dG(a,z,!0))
return H.b(J.C(a))+" starts a slash at "+H.b(J.C(z))+" with extra force"},"$3","gac",6,0,0],
a5:function(a,b){return a.gR()?0.9:0.3},
a2:function(a,b){return a.gJ()===C.d&&this.b.gJ()!==C.j&&a.bk(C.i)},
q:{
yl:[function(a){return new G.qh("The basic swordfighting move is also often the most effective.",!0,a,null)},"$1","wk",2,0,1]}},qk:{"^":"a:1;a,b,c",
$0:function(){return this.b.b3(this.c,"<subject> swing<s> powerfuly at <object>",this.a.b,!0)}},ql:{"^":"a:1;a,b,c",
$0:function(){var z=this.b
return z.b3(this.c,"<subject> swing<s> {<subject's> "+z.ga3().f+" |}at <object> with great force",this.a.b,!0)}}}],["","",,R,{"^":"",qj:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"swing at <object> (while out of balance)"},
gaI:function(){return"will <subject> hit <objectPronoun>?"},
ag:[function(a,b,c){var z=this.b
a.is(c,"<subject> completely miss<es> <object> with <subject's> "+a.ga3().f,!0,z)
return H.b(a.cy)+" fails to start an out-of-balance slash at "+H.b(J.C(z))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
z=this.b
a.ca(c,"<subject> swing<s> {<subject's> "+a.ga3().f+" |}at <object>",z)
y=b.e
C.a.l(y,M.dH(a,z,!1))
C.a.l(y,L.dG(a,z,!1))
return H.b(a.cy)+" starts an out-of-balance slash at "+H.b(J.C(z))},"$3","gac",6,0,0],
a5:function(a,b){return 0.7},
a2:function(a,b){return a.gJ()===C.h&&this.b.gJ()!==C.j&&a.bk(C.i)},
q:{
yk:[function(a){return new R.qj("It's always better to fight with your feet firmly on the ground. But sometimes, it's necessary to act quickly.",!0,a,null)},"$1","wl",2,0,1]}}}],["","",,D,{"^":"",qi:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"strike down at <object>"},
gaI:function(){return"will <subject> strike with extra force?"},
ag:[function(a,b,c){var z,y
z=this.b
a.ca(c,"<subject> strike<s> down {with <subject's> "+a.ga3().f+" |}at <object>",z)
y=b.e
C.a.l(y,D.iG(a,z))
C.a.l(y,V.id(a,z,!1))
return H.b(a.cy)+" strikes down at "+H.b(J.C(z))+" on the ground"},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
z=this.b
a.b3(c,"<subject> strike<s> down {with <subject's> "+a.ga3().f+" |}at <object> with all <subject's> {might|power}",z,!0)
y=b.e
C.a.l(y,D.iG(a,z))
C.a.l(y,V.id(a,z,!0))
return H.b(a.cy)+" strikes down at "+H.b(J.C(z))+" on the ground"},"$3","gac",6,0,0],
a5:function(a,b){return 0.95},
a2:function(a,b){return this.b.gJ()===C.j&&a.gJ()!==C.j&&a.bk(C.i)},
q:{
yj:[function(a){return new D.qi("Opponents on the ground are often the most vulnerable.",!0,a,null)},"$1","wm",2,0,1]}}}],["","",,M,{"^":"",rl:{"^":"aS;a1:b<,a7:c<,a",
gm:function(a){return"Regain clarity."},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){a.az(c,"<subject> shake<s> <subject's> head violently")
if(a.gR())c.l(0,"the {horrible|terrible} spell seems to recede")
c.X(0,"<subject's> eyes regain focus and clarity",!1,!0,!1,null,null,!0,a,!1)
return H.b(a.gm(a))+" regains clarity"},"$3","gac",6,0,0],
bD:function(a,b){return"WARNING this shouldn't be user-visible"},
a5:function(a,b){return 1},
a2:function(a,b){var z
if(a.f4(b)){z=b.dT("Confuse",a,!0)
if(typeof z!=="number")return z.ao()
z=z>4}else z=!1
return z}}}],["","",,G,{"^":"",lA:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"swing back at <object>"},
gaI:function(){return},
ag:[function(a,b,c){a.az(c,"<subject> tr<ies> to swing back")
a.toString
c.X(0,"<subject> {go<es> wide|miss<es>}",!0,!1,!0,null,null,!1,a,!1)
if(a.gJ()===C.d){b.aA(a.y,new G.lB())
c.X(0,"<subject> lose<s> balance because of that",!1,!0,!0,null,null,!1,a,!1)}else if(a.dx===C.h){b.aA(a.y,new G.lC())
c.X(0,"<subject> lose<s> balance because of that",!1,!1,!0,null,null,!1,a,!1)
c.X(0,"<subject> fall<s> to the ground",!1,!0,!0,null,null,!1,a,!1)}return H.b(a.cy)+" fails to swing back at "+H.b(J.C(this.b))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
z=this.b
a.b3(c,"<subject> swing<s> back at <object>",z,!0)
y=b.e
C.a.l(y,M.dH(a,z,!1))
C.a.l(y,L.dG(a,z,!1))
return H.b(a.gm(a))+" swings back at "+H.b(J.C(z))},"$3","gac",6,0,0],
bD:function(a,b){if(a.gJ()===C.d)return"Will "+a.gI().a+" keep "+a.gI().c+" balance?"
return"Will "+a.gI().a+" keep on "+a.gI().c+" feet?"},
a5:function(a,b){return this.b.gJ()===C.d?0.7:0.9},
a2:function(a,b){return a.bk(C.i)&&a.dx!==C.j},
q:{
wG:[function(a){return new G.lA("You can deal serious damage when countering because your opponent is often caught off guard. On the other hand, counters require fast reaction and could throw you out of balance.",!0,a,null)},"$1","vw",2,0,1]}},lB:{"^":"a:0;",
$1:function(a){a.sJ(C.h)
return a}},lC:{"^":"a:0;",
$1:function(a){a.sJ(C.j)
return a}}}],["","",,S,{"^":"",
he:function(a,b){var z=new S.et(null,null,null,null,null)
new S.vc(a,b).$1(z)
return z.E()},
hd:{"^":"bf;",
gbn:function(){return[G.vw()]},
gcl:function(){return[$.$get$eQ()]},
gm:function(a){return"CounterAttackSituation"},
bp:function(){var z=new S.et(null,null,null,null,null)
z.D(0,this)
new S.ly().$1(z)
return z.E()},
bl:function(a,b){if(a===0)return b.ae(this.a)
return},
bC:function(a,b){return new H.a3(a,new S.lz(this),[H.l(a,0)])}},
vc:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaT().c=z
a.gaT().e=0
z=this.a
z=z.gv(z)
a.gaT().b=z
z=J.G(this.b)
a.gaT().d=z
return a}},
ly:{"^":"a:0;",
$1:function(a){var z=a.gaT().e
if(typeof z!=="number")return z.K()
a.gaT().e=z+1
return a}},
lz:{"^":"a:0;a",
$1:function(a){var z,y
z=J.o(a)
y=this.a
return J.f(z.gv(a),y.a)||J.f(z.gv(a),y.c)}},
rB:{"^":"hd;a,v:b>,c,U:d<",
aH:function(a){var z=new S.et(null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof S.hd))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
j:function(a){return"CounterAttackSituation {counterAttacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntarget="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
et:{"^":"c;a,b,c,d,e",
gv:function(a){return this.gaT().c},
gU:function(){return this.gaT().e},
gaT:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaT().b
x=this.gaT().c
w=this.gaT().d
v=this.gaT().e
z=new S.rB(y,x,w,v)
if(y==null)H.k(P.H("counterAttacker"))
if(x==null)H.k(P.H("id"))
if(w==null)H.k(P.H("target"))
if(v==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,X,{"^":"",
fM:function(a,b,c){switch($.$get$ju().aj(3)){case 0:b.fk(a,"<subject> collapse<s>, dead",!0,!0)
break
case 1:b.bv(a,"<subject> fall<s> backward",!0)
b.toString
a.X(0,"<subject> twist<s>",!1,!1,!0,null,null,!1,b,!1)
a.X(0,"<subject> hit<s> the "+H.b(c)+" face down",!1,!0,!0,null,null,!1,b,!1)
break
case 2:b.bv(a,"<subject> drop<s> to <subject's> knees",!0)
b.toString
a.X(0,"<subject> keel<s> over",!1,!1,!0,null,null,!1,b,!1)
break}a.b5(0,"\n\n",!0)}}],["","",,U,{"^":"",
mn:function(a,b,c){var z=new U.ey(null,null,null,null,null,null,null)
new U.v9(a,b,c).$1(z)
return z.E()},
hy:{"^":"bf;",
gbn:function(){return[N.vt(),Y.vX(),G.wk(),D.wm(),R.wl()]},
gcl:function(){return H.r([$.$get$iq(),$.$get$iB(),$.$get$iu(),$.$get$j3()],[Q.aS])},
gm:function(a){return"FightSituation"},
bp:function(){var z=new U.ey(null,null,null,null,null,null,null)
z.D(0,this)
new U.mo().$1(z)
return z.E()},
bl:function(a,b){var z,y,x,w,v,u,t,s,r,q,p,o,n
z=X.jE(this.e,this.a)
y=H.br(z,new U.mp(b),H.B(z,"J",0),null)
x=H.B(y,"J",0)
w=P.ac(new H.a3(y,new U.mq(),[x]),!1,x)
x=H.l(w,0)
v=P.ac(new H.a3(w,new U.mr(),[x]),!1,x)
u=v.length===1?C.a.gak(v):null
if(a===0)if(u!=null)return u
for(y=w.length,t=0,s=null,r=0;r<w.length;w.length===y||(0,H.a6)(w),++r){q=w[r]
p=b.c.bq(0,new U.ms(q),new U.mt())
o=p==null?p:p.gU()
if(o==null)o=-1
x=b.f
if(typeof x!=="number")return x.N()
if(typeof o!=="number")return H.j(o)
n=x-o
if(q.gR())n=C.c.aP(n*1.5)
if(n>t){s=q
t=n}}return s},
bC:function(a,b){return new H.a3(a,new U.mu(this),[H.l(a,0)])},
ij:function(a,b){var z,y
if(S.im(0.25))b.b5(0,"\n\n",!0)
z=this.f
y=this.b.a
if(y.P(0,z))y.h(0,z).$2(a,b)},
e7:function(a){var z,y
z=new U.mv(a)
y=this.e
if(z.$1(y)===!0)if(z.$1(this.a)===!0){z=y.a
z=(z&&C.a).aL(z,new U.mx(a))}else z=!1
else z=!1
return z}},
v9:{"^":"a:0;a,b,c",
$1:function(a){var z,y
z=$.$get$bm().aj(1073741823)
a.gat().e=z
a.gat().r=0
z=a.gat()
y=z.f
if(y==null){y=new S.b2(null,null,[P.t])
y.aS()
y.D(0,C.l)
z.f=y
z=y}else z=y
y=this.a
z.D(0,new H.cC(y,new U.uy(),[H.l(y,0),null]))
y=a.gat()
z=y.b
if(z==null){z=new S.b2(null,null,[P.t])
z.aS()
z.D(0,C.l)
y.b=z}z.D(0,J.fY(this.b,new U.uz()))
a.gat().d=this.c
return a}},
uy:{"^":"a:0;",
$1:function(a){return J.G(a)}},
uz:{"^":"a:0;",
$1:function(a){return J.G(a)}},
mo:{"^":"a:0;",
$1:function(a){var z=a.gat().r
if(typeof z!=="number")return z.K()
a.gat().r=z+1
return a}},
mp:{"^":"a:0;a",
$1:function(a){return this.a.ae(a)}},
mq:{"^":"a:0;",
$1:function(a){return a.gbs()}},
mr:{"^":"a:0;",
$1:function(a){return a.gR()}},
ms:{"^":"a:0;a",
$1:function(a){return J.f(a.gdL(),J.G(this.a))}},
mt:{"^":"a:1;",
$0:function(){return}},
mu:{"^":"a:5;a",
$1:function(a){var z,y,x
if(a.gbs()){z=this.a
y=a.gv(a)
x=z.e.a
if(!(x&&C.a).G(x,y)){y=a.gv(a)
z=z.a.a
y=(z&&C.a).G(z,y)
z=y}else z=!0}else z=!1
return z}},
mv:{"^":"a:49;a",
$1:function(a){var z=a.a
return(z&&C.a).aL(z,new U.mw(this.a))}},
mw:{"^":"a:0;a",
$1:function(a){return this.a.ae(a).gbs()}},
mx:{"^":"a:50;a",
$1:function(a){var z=this.a.ae(a)
return z.gR()&&z.gbs()}},
rC:{"^":"hy;a,b,cb:c<,v:d>,e,U:f<",
aH:function(a){var z=new U.ey(null,null,null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.hy))return!1
if(J.f(this.a,b.a))if(J.f(this.b,b.b)){z=this.c
y=b.c
if(z==null?y==null:z===y){z=this.d
y=b.d
if(z==null?y==null:z===y)if(J.f(this.e,b.e)){z=this.f
y=b.f
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)),J.x(this.f)))},
j:function(a){return"FightSituation {enemyTeamIds="+J.v(this.a)+",\nevents="+J.v(this.b)+",\ngroundMaterial="+J.v(this.c)+",\nid="+J.v(this.d)+",\nplayerTeamIds="+J.v(this.e)+",\ntime="+J.v(this.f)+",\n}"}},
ey:{"^":"c;a,b,c,d,e,f,r",
gcb:function(){return this.gat().d},
gv:function(a){return this.gat().e},
gU:function(){return this.gat().r},
gat:function(){var z,y
z=this.a
if(z!=null){z=z.a
if(!(z==null)){y=new S.b2(null,null,[H.l(z,0)])
y.aS()
y.D(0,z)
z=y}this.b=z
z=this.a.b
if(!(z==null)){y=new A.eL(null,null,[H.l(z,0),H.l(z,1)])
y.cI()
y.D(0,z)
z=y}this.c=z
z=this.a
this.d=z.c
this.e=z.d
z=z.e
if(!(z==null)){y=new S.b2(null,null,[H.l(z,0)])
y.aS()
y.D(0,z)
z=y}this.f=z
this.r=this.a.f
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v,u,t
z=this.a
if(z==null){y=this.gat()
x=y.b
if(x==null){x=new S.b2(null,null,[P.t])
x.aS()
x.D(0,C.l)
y.b=x
y=x}else y=x
y=y==null?y:y.E()
x=this.gat()
w=x.c
if(w==null){w=new A.eL(null,null,[P.t,{func:1,v:true,args:[A.bP,Y.bg]}])
w.cI()
w.D(0,C.aS)
x.c=w
x=w}else x=w
x=x==null?x:x.E()
w=this.gat().d
v=this.gat().e
u=this.gat()
t=u.f
if(t==null){t=new S.b2(null,null,[P.t])
t.aS()
t.D(0,C.l)
u.f=t
u=t}else u=t
u=u==null?u:u.E()
t=this.gat().r
z=new U.rC(y,x,w,v,u,t)
if(y==null)H.k(P.H("enemyTeamIds"))
if(x==null)H.k(P.H("events"))
if(w==null)H.k(P.H("groundMaterial"))
if(v==null)H.k(P.H("id"))
if(u==null)H.k(P.H("playerTeamIds"))
if(t==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,A,{"^":"",ic:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"stab <object>"},
gaI:function(){return"will <subject> hit <objectPronoun>?"},
ag:[function(a,b,c){var z=this.b
a.ca(c,"<subject> tr<ies> to stab <object>",z)
a.toString
c.X(0,"<subject> {go<es> wide|fail<s>|miss<es>}",!0,!1,!1,null,null,!1,a,!1)
return H.b(a.gm(a))+" fails to stab "+H.b(J.C(z))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
z=this.b
y=J.o(z)
b.aA(y.gv(z),new A.ou())
if(b.ae(y.gv(z)).gbr()){a.b3(c,"<subject> thrust<s> {|<subject's> "+a.ga3().f+"} deep into <object's> {shoulder|hip|thigh}",z,!0)
z.bv(c,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.b3(c,"<subject> {stab<s>|run<s> <subject's> "+a.ga3().f+" through} <object>",z,!0)
X.fM(c,z,b.d8("FightSituation").gcb())}return H.b(J.C(a))+" stabs "+H.b(y.gm(z))},"$3","gac",6,0,0],
a5:function(a,b){if(a.gR())return 0.6
return 0.5},
a2:function(a,b){return a.gJ()===C.d&&this.b.gJ()===C.h&&a.bk(C.i)},
q:{
xY:[function(a){return new A.ic("When an opponent is out of balance they are the most vulnerable.",!0,a,null)},"$1","w7",2,0,1]}},ou:{"^":"a:0;",
$1:function(a){var z=a.gav()
if(typeof z!=="number")return z.N()
a.sav(z-1)
return a}}}],["","",,U,{"^":"",
oq:function(a,b){var z=new U.eN(null,null,null,null,null)
new U.vg(a,b).$1(z)
return z.E()},
ib:{"^":"bf;",
gbn:function(){return H.r([A.w7()],[{func:1,ret:Q.ae,args:[R.a8]}])},
gcl:function(){return[$.$get$eQ()]},
gm:function(a){return"OffBalanceOpportunitySituation"},
bp:function(){var z=new U.eN(null,null,null,null,null)
z.D(0,this)
new U.or().$1(z)
return z.E()},
bl:function(a,b){var z,y,x,w,v
if(typeof a!=="number")return a.ao()
if(a>0)return
z=b.ae(this.a)
y=b.a
x=H.l(y,0)
w=P.ac(new H.a3(y,new U.os(this,b,z),[x]),!0,x)
if(w.length===0)return
v=C.a.gS(w)
if(new A.ic("When an opponent is out of balance they are the most vulnerable.",!0,z,null).a2(v,b))return v
return},
bC:function(a,b){return new H.a3(a,new U.ot(b,b.ae(this.a)),[H.l(a,0)])}},
vg:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaV().d=z
a.gaV().e=0
z=J.G(this.a)
a.gaV().b=z
z=this.b
z=z==null?z:z.gv(z)
a.gaV().c=z
return a}},
or:{"^":"a:0;",
$1:function(a){var z=a.gaV().e
if(typeof z!=="number")return z.K()
a.gaV().e=z+1
return a}},
os:{"^":"a:5;a,b,c",
$1:function(a){var z,y
if(a.gbs())if(a.f_(this.c,this.b)){z=a.y
y=this.a.b
y=z==null?y!=null:z!==y
z=y}else z=!1
else z=!1
return z}},
ot:{"^":"a:0;a,b",
$1:function(a){var z=this.b
return J.f(a,z)||a.f_(z,this.a)}},
rD:{"^":"ib;a,b,v:c>,U:d<",
aH:function(a){var z=new U.eN(null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.ib))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1}else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
j:function(a){return"OffBalanceOpportunitySituation {actorId="+H.b(J.v(this.a))+",\nculpritId="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntime="+J.v(this.d)+",\n}"}},
eN:{"^":"c;a,b,c,d,e",
gv:function(a){return this.gaV().d},
gU:function(){return this.gaV().e},
gaV:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaV().b
x=this.gaV().c
w=this.gaV().d
v=this.gaV().e
z=new U.rD(y,x,w,v)
if(y==null)H.k(P.H("actorId"))
if(w==null)H.k(P.H("id"))
if(v==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,O,{"^":"",mB:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"kill <object> (WARNING should not be user-visible)"},
gaI:function(){return"(WARNING should not be user-visible)"},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y,x,w,v
z=b.e
z=H.b8(z.length!==0?C.a.gB(z):null,"$iseX").b===!0
y=z?2:1
x=this.b
w=J.o(x)
b.aA(w.gv(x),new O.mE(y))
v=b.ae(w.gv(x)).gbr()
if(v){a.b3(c,"<subject> {slash<es>|cut<s>} <object's> {shoulder|abdomen|thigh}"+(z?" with all <subjectPronoun's> {power|might}":""),x,!0)
x.bv(c,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.b3(c,"<subject> {slash<es>|cut<s>} {across|through} <object's> {neck|abdomen|lower body}"+(z?" with all <subjectPronoun's> {power|might}":""),x,!0)
X.fM(c,x,b.d8("FightSituation").gcb())}z=H.b(J.C(a))+" slashes"
return z+(!v?" (and kills)":"")+" "+H.b(w.gm(x))},"$3","gac",6,0,0],
a5:function(a,b){return 1},
a2:function(a,b){return a.bk(C.i)},
q:{
xd:[function(a){return new O.mB(null,!0,a,null)},"$1","vz",2,0,1]}},mE:{"^":"a:0;a",
$1:function(a){var z=a.gav()
if(typeof z!=="number")return z.N()
a.sav(z-this.a)
return a}}}],["","",,X,{"^":"",lM:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"step back and parry"},
gaI:function(){return"will <subject> parry it?"},
ag:[function(a,b,c){var z,y
z=b.e
y=H.b8(z.length!==0?C.a.gB(z):null,"$iscL").b
a.az(c,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.ga3().f+"|fend it off}")
if(a.dx===C.h)c.X(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a,!1)
else if(y===!0)c.X(0,"the swing is too {fast|quick}",!0,!1,!1,null,null,!1,a,!1)
else S.cb(new X.lN(a,c),new X.lO(this,a,c),null,null)
C.a.cs(z)
return H.b(a.cy)+" fails to parry "+H.b(J.C(this.b))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y,x
if(a.gR())a.az(c,"<subject> {step<s>|take<s> a step} back")
a.dP(c,"<subject> {parr<ies> it|deflect<s> it|meet<s> it with <subject's> "+a.ga3().f+"|fend<s> it off}",!0)
z=b.e
z=H.b8(z.length!==0?C.a.gB(z):null,"$iscL").b===!0
if(z){y=a.ch
x=a.e
if(y)c.X(0,"<subject> feel<s> the power of the swing through <subject's> "+x.f,!1,!1,!1,null,null,!1,a,!1)
else c.X(0,"<subject> almost drop<s> <subject's> "+x.f+" in the process",!0,!1,!1,null,null,!1,a,!1)}if(a.dx!==C.d&&!z){b.aA(a.y,new X.lP())
if(a.ch)c.X(0,"<subject> regain<s> balance",!1,!1,!1,null,null,!1,a,!1)}b.cr("FightSituation")
return H.b(a.cy)+" steps back and parries "+H.b(J.C(this.b))},"$3","gac",6,0,0],
a5:function(a,b){if(a.gR())return 1
return 0.5-(a.gJ()===C.d?0:0.2)},
a2:function(a,b){return a.bk(C.i)},
q:{
wI:[function(a){return new X.lM("Stepping back is the safest way to get out of harm's way.",!1,a,null)},"$1","vx",2,0,1]}},lN:{"^":"a:1;a,b",
$0:function(){this.b.X(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a,!1)
return}},lO:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dQ(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},lP:{"^":"a:0;",
$1:function(a){a.sJ(C.d)
return a}}}],["","",,F,{"^":"",lX:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"dodge and counter"},
gaI:function(){return"will <subject> dodge?"},
ag:[function(a,b,c){a.az(c,"<subject> tr<ies> to {dodge|sidestep}")
if(a.gJ()===C.h)c.X(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a,!1)
else S.cb(new F.lY(a,c),new F.lZ(this,a,c),null,null)
C.a.cs(b.e)
return H.b(a.cy)+" fails to dodge "+H.b(J.C(this.b))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z=this.b
a.b3(c,"<subject> {dodge<s>|sidestep<s>} it",z,!0)
if(z.gJ()===C.d){z.fk(c,"<subject> lose<s> balance because of that",!0,!0)
b.aA(z.y,new F.m_())}b.cr("FightSituation")
if(a.gR())c.l(0,"this opens an opportunity for a counter attack")
C.a.l(b.e,S.he(a,z))
return H.b(a.gm(a))+" dodges "+H.b(z.gm(z))},"$3","gac",6,0,0],
a5:function(a,b){var z=a.gJ()===C.d?0:0.2
if(a.gR())return 0.7-z
return 0.4-z},
a2:function(a,b){return a.gJ()!==C.j},
q:{
wL:[function(a){return new F.lX("Dodging means moving your body out of harm's way. When done correctly, it will throw your opponent off balance and it will open an opportunity for a counter attack. When botched, it can get you killed.",!1,a,null)},"$1","vy",2,0,1]}},lY:{"^":"a:1;a,b",
$0:function(){this.b.X(0,"<subject> {can't|fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a,!1)
return}},lZ:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dQ(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},m_:{"^":"a:0;",
$1:function(a){a.sJ(C.h)
return C.h}}}],["","",,G,{"^":"",oF:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"parry and counter"},
gaI:function(){return"will <subject> parry?"},
ag:[function(a,b,c){a.az(c,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.ga3().f+"|fend it off}")
if(a.dx===C.h)c.X(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a,!1)
else S.cb(new G.oG(a,c),new G.oH(this,a,c),null,null)
C.a.cs(b.e)
return H.b(a.cy)+" fails to parry "+H.b(J.C(this.b))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y,x,w
z=b.e
if(H.b8(z.length!==0?C.a.gB(z):null,"$iscL").b===!0){y=this.b
a.b3(c,"<subject> put<s> <subjectPronoun's> "+a.ga3().f+" in the way of <object's> "+y.ga3().f,y,!0)
x=a.dx
w=a.y
if(x===C.d){c.eQ(0,"the force of the impact makes <object> lose balance",a)
b.aA(w,new G.oI())}else{c.eQ(0,"the force of the impact sends <object> falling to the ground",a)
b.aA(w,new G.oJ())}}else{y=this.b
if(y.gJ()===C.h){c.kB(0,"<subject> <is> out of balance",!0,!0,y)
c.kA(0,"so <ownerPronoun's> <subject> is {weak|feeble}",y,$.$get$k2())
a.dP(c,"<subject> {parr<ies> it easily|easily meet<s> it with <subject's> "+a.ga3().f+"|fend<s> it off easily}",!0)}else a.dP(c,"<subject> {parr<ies> it|meet<s> it with <subject's> "+a.ga3().f+"|fend<s> it off}",!0)}b.cr("FightSituation")
if(a.gR())c.l(0,"this opens an opportunity for a counter attack")
C.a.l(z,S.he(a,y))
return H.b(a.gm(a))+" parries "+H.b(J.C(y))},"$3","gac",6,0,0],
a5:function(a,b){var z,y
z=a.gJ()===C.d?0:0.2
y=this.b.gJ()===C.h?0.3:0
if(a.gR())return 0.6-z+y
return 0.3-z+y},
a2:function(a,b){return a.bk(C.i)},
q:{
y3:[function(a){return new G.oF("Parrying means deflecting your opponent's move with your weapon. When successful, it will give you an opportunity for a counter attack. It won't throw your opponent off balance like dodging does, but it's also slightly easier to do.",!1,a,null)},"$1","w9",2,0,1]}},oG:{"^":"a:1;a,b",
$0:function(){this.b.X(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a,!1)
return}},oH:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dQ(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},oI:{"^":"a:0;",
$1:function(a){a.sJ(C.h)
return a}},oJ:{"^":"a:0;",
$1:function(a){a.sJ(C.j)
return a}}}],["","",,L,{"^":"",
dG:function(a,b,c){var z=new L.eW(null,null,null,null,null,null)
new L.vb(a,b,c).$1(z)
return z.E()},
cL:{"^":"bf;",
gbn:function(){return[F.vy(),G.w9(),X.vx()]},
gm:function(a){return"SlashDefenseSituation"},
bp:function(){var z=new L.eW(null,null,null,null,null,null)
z.D(0,this)
new L.q2().$1(z)
return z.E()},
bl:function(a,b){if(a===0)return b.ae(this.d)
return},
bC:function(a,b){return new H.a3(a,new L.q3(this),[H.l(a,0)])}},
vb:{"^":"a:0;a,b,c",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaE().d=z
a.gaE().f=0
z=J.G(this.a)
a.gaE().b=z
z=J.G(this.b)
a.gaE().e=z
a.gaE().c=this.c
return a}},
q2:{"^":"a:0;",
$1:function(a){var z=a.gaE().f
if(typeof z!=="number")return z.K()
a.gaE().f=z+1
return a}},
q3:{"^":"a:0;a",
$1:function(a){var z,y
z=J.o(a)
y=this.a
return J.f(z.gv(a),y.a)||J.f(z.gv(a),y.d)}},
rG:{"^":"cL;a,b,v:c>,d,U:e<",
aH:function(a){var z=new L.eW(null,null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.cL))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
j:function(a){return"SlashDefenseSituation {attacker="+H.b(J.v(this.a))+",\nextraForce="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntarget="+H.b(J.v(this.d))+",\ntime="+J.v(this.e)+",\n}"}},
eW:{"^":"c;a,b,c,d,e,f",
gv:function(a){return this.gaE().d},
gU:function(){return this.gaE().f},
gaE:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.f=z.e
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gaE().b
x=this.gaE().c
w=this.gaE().d
v=this.gaE().e
u=this.gaE().f
z=new L.rG(y,x,w,v,u)
if(y==null)H.k(P.H("attacker"))
if(x==null)H.k(P.H("extraForce"))
if(w==null)H.k(P.H("id"))
if(v==null)H.k(P.H("target"))
if(u==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,M,{"^":"",
dH:function(a,b,c){var z=new M.eY(null,null,null,null,null,null)
new M.vd(a,b,c).$1(z)
return z.E()},
eX:{"^":"bf;",
gbn:function(){return[O.vz()]},
gm:function(a){return"SlashSituation"},
bp:function(){var z=new M.eY(null,null,null,null,null,null)
z.D(0,this)
new M.q4().$1(z)
return z.E()},
bl:function(a,b){if(a===0)return b.ae(this.a)
return},
bC:function(a,b){return new H.a3(a,new M.q5(this),[H.l(a,0)])}},
vd:{"^":"a:0;a,b,c",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaF().d=z
a.gaF().f=0
z=J.G(this.a)
a.gaF().b=z
z=J.G(this.b)
a.gaF().e=z
a.gaF().c=this.c
return a}},
q4:{"^":"a:0;",
$1:function(a){var z=a.gaF().f
if(typeof z!=="number")return z.K()
a.gaF().f=z+1
return a}},
q5:{"^":"a:0;a",
$1:function(a){var z,y
z=J.o(a)
y=this.a
return J.f(z.gv(a),y.a)||J.f(z.gv(a),y.d)}},
rH:{"^":"eX;a,b,v:c>,d,U:e<",
aH:function(a){var z=new M.eY(null,null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof M.eX))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
j:function(a){return"SlashSituation {attacker="+H.b(J.v(this.a))+",\nextraForce="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntarget="+H.b(J.v(this.d))+",\ntime="+J.v(this.e)+",\n}"}},
eY:{"^":"c;a,b,c,d,e,f",
gv:function(a){return this.gaF().d},
gU:function(){return this.gaF().f},
gaF:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.f=z.e
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gaF().b
x=this.gaF().c
w=this.gaF().d
v=this.gaF().e
u=this.gaF().f
z=new M.rH(y,x,w,v,u)
if(y==null)H.k(P.H("attacker"))
if(x==null)H.k(P.H("extraForce"))
if(w==null)H.k(P.H("id"))
if(v==null)H.k(P.H("target"))
if(u==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,Q,{"^":"",mC:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"kill <object> (WARNING should not be user-visible)"},
gaI:function(){return"(WARNING should not be user-visible)"},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y
z=this.b
y=J.o(z)
b.aA(y.gv(z),new Q.mD())
c.kz(0,"<subject> {cuts|slashes|slits} <object's> {throat|neck|side}",z,a.ga3())
z.bv(c,"<subject> die<s>",!0)
c.b5(0,"\n\n",!0)
return H.b(a.gm(a))+" slains "+H.b(y.gm(z))+" on the ground"},"$3","gac",6,0,0],
a5:function(a,b){return 1},
a2:function(a,b){return this.b.gJ()===C.j&&a.bk(C.i)},
q:{
xc:[function(a){return new Q.mC(null,!1,a,null)},"$1","vA",2,0,1]}},mD:{"^":"a:0;",
$1:function(a){a.sav(0)
return a}}}],["","",,K,{"^":"",ox:{"^":"ae;a7:c<,a1:d<,b,a",
gay:function(){return"parry it"},
gaI:function(){return"will <subject> parry it?"},
ag:[function(a,b,c){a.az(c,"<subject> tr<ies> to {parry|deflect it|stop it{| with <subject's> "+a.ga3().f+"}}")
S.cb(new K.oy(a,c),new K.oz(this,a,c),null,null)
return H.b(a.cy)+" fails to parry "+H.b(J.C(this.b))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y,x
z=b.e
if(H.b8(z.length!==0?C.a.gB(z):null,"$iseO").b===!0){a.az(c,"<subject> put<s> <subject's> "+a.ga3().f+" in the way")
c.kx(0,"the strike is too powerful",!0)
z=this.b
y=J.o(z)
b.aA(y.gv(z),new K.oA())
x=!b.ae(y.gv(z)).gbr()
c.kC(0,"<owner's> <subject> still {cuts|slashes} "+(x?"across <object's> {neck|abdomen}":"<object's> {arm|shoulder}"),a,z,z.ga3())
if(x)X.fM(c,a,b.d8("FightSituation").gcb())
else a.bv(c,"<subject> {scream|yell|grunt}<s> in pain",!0)
b.cr("FightSituation")
return H.b(a.cy)+" parries "+H.b(y.gm(z))+" but the swing has extra force"}a.dP(c,"<subject> {parr<ies> it|stop<s> it with <subject's> "+a.ga3().f+"}",!0)
b.cr("FightSituation")
return H.b(a.cy)+" parries "+H.b(J.C(this.b))},"$3","gac",6,0,0],
a5:function(a,b){if(a.gR())return 0.6
return 0.3},
a2:function(a,b){return a.bk(C.i)},
q:{
xZ:[function(a){return new K.ox(!1,"You can deal serious damage when countering because your opponent is often caught off guard. On the other hand, counters require fast reaction and could throw you out of balance.",a,null)},"$1","w8",2,0,1]}},oy:{"^":"a:1;a,b",
$0:function(){var z=this.a
z.toString
this.b.X(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,z,!1)
return}},oz:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dQ(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},oA:{"^":"a:0;",
$1:function(a){var z=a.gav()
if(typeof z!=="number")return z.N()
a.sav(z-1)
return a}}}],["","",,Y,{"^":"",pj:{"^":"ae;a1:c<,a7:d<,b,a",
gay:function(){return"roll out of way"},
gaI:function(){return"will <subject> evade?"},
ag:[function(a,b,c){a.az(c,"<subject> tr<ies> to roll out of the way")
a.toString
c.X(0,"<subject> can't",!0,!1,!1,null,null,!1,a,!1)
return H.b(a.gm(a))+" fails to roll out of the way"},"$3","gab",6,0,0],
ah:[function(a,b,c){a.m4(c,"<subject> <is> able to roll out of the way",!0,!0)
if(a.gR()){b.aA(a.gv(a),new Y.pk())
c.X(0,"<subject> jump<s> up on <subject's> feet",!1,!1,!1,null,null,!0,a,!1)}b.cr("FightSituation")
return H.b(a.gm(a))+" rolls out of the way of "+H.b(J.C(this.b))+"'s strike"},"$3","gac",6,0,0],
a5:function(a,b){if(a.gR())return 1
return 0.5},
a2:function(a,b){return!0},
q:{
ya:[function(a){return new Y.pj(null,!1,a,null)},"$1","wb",2,0,1]}},pk:{"^":"a:0;",
$1:function(a){a.sJ(C.d)
return a}}}],["","",,V,{"^":"",
id:function(a,b,c){var z=new V.eP(null,null,null,null,null,null)
new V.ve(a,b,c).$1(z)
return z.E()},
eO:{"^":"bf;",
gbn:function(){return[K.w8(),Y.wb()]},
gm:function(a){return"OnGroundDefenseSituation"},
bp:function(){var z=new V.eP(null,null,null,null,null,null)
z.D(0,this)
new V.ov().$1(z)
return z.E()},
bl:function(a,b){if(a===0)return b.ae(this.d)
return},
bC:function(a,b){return new H.a3(a,new V.ow(this),[H.l(a,0)])}},
ve:{"^":"a:0;a,b,c",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaD().d=z
a.gaD().f=0
z=this.a
z=z.gv(z)
a.gaD().b=z
z=J.G(this.b)
a.gaD().e=z
a.gaD().c=this.c
return a}},
ov:{"^":"a:0;",
$1:function(a){var z=a.gaD().f
if(typeof z!=="number")return z.K()
a.gaD().f=z+1
return a}},
ow:{"^":"a:0;a",
$1:function(a){var z,y
z=J.o(a)
y=this.a
return J.f(z.gv(a),y.a)||J.f(z.gv(a),y.d)}},
rE:{"^":"eO;a,b,v:c>,d,U:e<",
aH:function(a){var z=new V.eP(null,null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof V.eO))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
j:function(a){return"OnGroundDefenseSituation {attacker="+J.v(this.a)+",\nextraForce="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntargetOnGround="+H.b(J.v(this.d))+",\ntime="+J.v(this.e)+",\n}"}},
eP:{"^":"c;a,b,c,d,e,f",
gv:function(a){return this.gaD().d},
gU:function(){return this.gaD().f},
gaD:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.f=z.e
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gaD().b
x=this.gaD().c
w=this.gaD().d
v=this.gaD().e
u=this.gaD().f
z=new V.rE(y,x,w,v,u)
if(y==null)H.k(P.H("attacker"))
if(x==null)H.k(P.H("extraForce"))
if(w==null)H.k(P.H("id"))
if(v==null)H.k(P.H("targetOnGround"))
if(u==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,D,{"^":"",
iG:function(a,b){var z=new D.f1(null,null,null,null,null)
new D.vf(a,b).$1(z)
return z.E()},
iF:{"^":"bf;",
gbn:function(){return[Q.vA()]},
gm:function(a){return"StrikeDownSituation"},
bp:function(){var z=new D.f1(null,null,null,null,null)
z.D(0,this)
new D.qW().$1(z)
return z.E()},
bl:function(a,b){if(a===0)return b.ae(this.a)
return},
bC:function(a,b){return new H.a3(a,new D.qX(this),[H.l(a,0)])}},
vf:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaX().c=z
a.gaX().e=0
z=this.a
z=z.gv(z)
a.gaX().b=z
z=J.G(this.b)
a.gaX().d=z
return a}},
qW:{"^":"a:0;",
$1:function(a){var z=a.gaX().e
if(typeof z!=="number")return z.K()
a.gaX().e=z+1
return a}},
qX:{"^":"a:0;a",
$1:function(a){var z,y
z=J.o(a)
y=this.a
return J.f(z.gv(a),y.a)||J.f(z.gv(a),y.c)}},
rI:{"^":"iF;a,v:b>,c,U:d<",
aH:function(a){var z=new D.f1(null,null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof D.iF))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
j:function(a){return"StrikeDownSituation {attacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntargetOnGround="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
f1:{"^":"c;a,b,c,d,e",
gv:function(a){return this.gaX().c},
gU:function(){return this.gaX().e},
gaX:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaX().b
x=this.gaX().c
w=this.gaX().d
v=this.gaX().e
z=new D.rI(y,x,w,v)
if(y==null)H.k(P.H("attacker"))
if(x==null)H.k(P.H("id"))
if(w==null)H.k(P.H("targetOnGround"))
if(v==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,Y,{"^":"",r_:{"^":"dm;a7:c<,b,a",
ga1:function(){return},
ag:[function(a,b,c){throw H.d(new P.aQ(null))},"$3","gab",6,0,0],
ah:[function(a,b,c){var z,y,x,w,v,u,t,s,r,q,p,o
z=b.e
y=z.length!==0?C.a.gB(z):null
x=y.aH(new Y.r0(this))
C.a.cs(z)
C.a.l(z,x)
w=this.b
v=b.fF(w.ghW())
for(u=R.jS(a,b),u=P.ac(u,!0,H.B(u,"J",0)),t=u.length,s=b.a,r=0;r<u.length;u.length===t||(0,H.a6)(u),++r){q=b.ae(J.G(u[r]))
p=q.aH(new Y.r1(v))
s.F(0,q)
s.l(0,p)}c.b5(0,"\n\n",!0)
c.b5(0,v.gaM(),!0)
c.b5(0,"\n\n",!0)
if(v.glP()!=null){o=v.e.$1(b)
s.O(0,o)
C.a.l(z,U.mn(new H.a3(s,new Y.r2(a,v),[H.l(s,0)]),o,v.r))}return H.b(J.C(a))+" went through exit to "+w.a},"$3","gac",6,0,0],
bD:function(a,b){return"WARNING should not be user-visible"},
a5:function(a,b){return 1},
a2:function(a,b){return!0},
q:{
yv:[function(a){return new Y.r_(!1,a,null)},"$1","wq",2,0,9]}},r0:{"^":"a:0;a",
$1:function(a){a.sbd(this.a.b.ghW())
return a}},r1:{"^":"a:0;a",
$1:function(a){a.sbd(J.C(this.a))
return a}},r2:{"^":"a:0;a,b",
$1:function(a){var z,y
z=a.gbx()
y=this.a.gbx()
z=z.a
y=y.a
return(z==null?y==null:z===y)&&J.f(a.gbd(),J.C(this.b))}}}],["","",,F,{"^":"",
pm:function(a){var z=new F.eU(null,null,null,null)
new F.vp(a).$1(z)
return z.E()},
ir:{"^":"bf;",
gbn:function(){return[Y.wq()]},
gcl:function(){return H.r([],[Q.aS])},
gm:function(a){return"RoomRoamingSituation"},
bp:function(){var z=new F.eU(null,null,null,null)
z.D(0,this)
new F.pn().$1(z)
return z.E()},
bl:function(a,b){return b.a.bq(0,new F.po(),new F.pp())},
bC:function(a,b){var z=this.bl(null,b)
if(z==null)return[]
return[z]},
ii:function(a,b){a.a.jM(new F.pq(),!0)},
e7:function(a){if(J.f(this.a,$.$get$fB().b))return!1
return!0}},
vp:{"^":"a:0;a",
$1:function(a){var z=$.$get$bm().aj(1073741823)
a.gaW().c=z
a.gaW().d=0
z=this.a.b
a.gaW().b=z
return a}},
pn:{"^":"a:0;",
$1:function(a){var z=a.gaW().d
if(typeof z!=="number")return z.K()
a.gaW().d=z+1
return a}},
po:{"^":"a:0;",
$1:function(a){return a.gR()&&a.gbs()}},
pp:{"^":"a:1;",
$0:function(){return}},
pq:{"^":"a:0;",
$1:function(a){return!a.gbr()}},
rF:{"^":"ir;bd:a<,v:b>,U:c<",
aH:function(a){var z=new F.eU(null,null,null,null)
z.D(0,this)
a.$1(z)
return z.E()},
w:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof F.ir))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
y=z==null?y==null:z===y
z=y}else z=!1}else z=!1
return z},
gt:function(a){return Y.aZ(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)))},
j:function(a){return"RoomRoamingSituation {currentRoomName="+H.b(J.v(this.a))+",\nid="+J.v(this.b)+",\ntime="+J.v(this.c)+",\n}"}},
eU:{"^":"c;a,b,c,d",
gbd:function(){return this.gaW().b},
sbd:function(a){this.gaW().b=a
return a},
gv:function(a){return this.gaW().c},
gU:function(){return this.gaW().d},
gaW:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.a=null}return this},
D:function(a,b){this.a=b},
E:function(){var z,y,x,w
z=this.a
if(z==null){y=this.gaW().b
x=this.gaW().c
w=this.gaW().d
z=new F.rF(y,x,w)
if(y==null)H.k(P.H("currentRoomName"))
if(x==null)H.k(P.H("id"))
if(w==null)H.k(P.H("time"))}this.D(0,z)
return z}}}],["","",,O,{"^":"",
z4:[function(a){var z,y
z=$.$get$ec()
y=z.n
if(y.length>0){y+=" "
z.n=y}z.n=y+a},"$1","wd",2,0,4],
z5:[function(a){$.fG=a},"$1","we",2,0,4],
jK:[function(a,b,c,d,e,f,g){var z=L.h6(a,!1,!1,d,e,f,g)
$.$get$ck().l(0,z)
return z},function(a){return O.jK(a,!1,!1,null,null,null,null)},function(a,b,c){return O.jK(a,!1,!1,null,b,c,null)},"$7$deferToChoiceList$deferToEndOfPage$goto$helpMessage$script$submenu","$1","$3$helpMessage$script","wc",2,13,11,0,0,0,1,1,0]}],["","",,Z,{"^":"",
dJ:function(a,b,c,d,e,f,g,h){var z,y
z=$.$get$dK()
y=z.P(0,a)?H.b9(z.h(0,a),"$isb3",[h],"$asb3"):new Z.b3(a,d,b,c,f,null,null,!0,!1,"Stat",[null])
y.f=H.d5(e,h)
y.r=!0
z.k(0,a,y)
return y}}],["","",,N,{"^":"",eK:{"^":"c;m:a>,b,c,jC:d>,am:e>,f",
gi1:function(){var z,y,x
z=this.b
y=z==null||J.f(J.C(z),"")
x=this.a
return y?x:z.gi1()+"."+x},
gf7:function(){if($.fH){var z=this.b
if(z!=null)return z.gf7()}return $.jw},
lJ:function(a,b,c,d,e){var z,y,x,w,v,u,t,s,r,q,p,o
x=a.b
if(x>=this.gf7().b){if(!!J.p(b).$isbH)b=b.$0()
w=b
if(typeof w!=="string"){v=b
b=J.v(b)}else v=null
if(d==null&&x>=$.k0.b)try{x="autogenerated stack trace for "+a.j(0)+" "+H.b(b)
throw H.d(x)}catch(u){x=H.I(u)
z=x
y=H.T(u)
d=y
if(c==null)c=z}e=$.i
x=b
w=this.gi1()
t=c
s=d
r=Date.now()
q=$.eJ
$.eJ=q+1
p=new N.ob(a,x,v,w,new P.c1(r,!1),q,t,s,e)
if($.fH)for(o=this;o!=null;){o.hn(p)
o=o.b}else $.$get$i1().hn(p)}},
cp:function(a,b,c,d){return this.lJ(a,b,c,d,null)},
lf:function(a,b,c){return this.cp(C.aq,a,b,c)},
a0:function(a){return this.lf(a,null,null)},
le:function(a,b,c){return this.cp(C.ap,a,b,c)},
b6:function(a){return this.le(a,null,null)},
ld:function(a,b,c){return this.cp(C.ar,a,b,c)},
c6:function(a){return this.ld(a,null,null)},
lr:function(a,b,c){return this.cp(C.G,a,b,c)},
lq:function(a){return this.lr(a,null,null)},
mj:function(a,b,c){return this.cp(C.au,a,b,c)},
fA:function(a){return this.mj(a,null,null)},
iS:function(a,b,c){return this.cp(C.at,a,b,c)},
fI:function(a){return this.iS(a,null,null)},
hn:function(a){},
q:{
bK:function(a){return $.$get$i0().fg(0,a,new N.vr(a))}}},vr:{"^":"a:1;a",
$0:function(){var z,y,x,w
z=this.a
if(C.b.cz(z,"."))H.k(P.P("name shouldn't start with a '.'"))
y=C.b.i9(z,".")
if(y===-1)x=z!==""?N.bK(""):null
else{x=N.bK(C.b.af(z,0,y))
z=C.b.bH(z,y+1)}w=new H.a2(0,null,null,null,null,null,0,[P.h,N.eK])
w=new N.eK(z,x,null,w,new P.j4(w,[null,null]),null)
if(x!=null)J.ka(x).k(0,z,w)
return w}},ob:{"^":"c;f7:a<,b,aG:c<,d,U:e<,f,bR:r>,ba:x<,y",
j:function(a){return"["+this.a.a+"] "+this.d+": "+H.b(this.b)}}}],["","",,X,{"^":"",
at:function(a){return X.cg(J.k9(a,0,new X.vG()))},
aN:function(a,b){var z=J.O(a,b)
if(typeof z!=="number")return H.j(z)
a=536870911&z
a=536870911&a+((524287&a)<<10)
return a^a>>>6},
cg:function(a){if(typeof a!=="number")return H.j(a)
a=536870911&a+((67108863&a)<<3)
a^=a>>>11
return 536870911&a+((16383&a)<<15)},
vG:{"^":"a:3;",
$2:function(a,b){return X.aN(a,J.x(b))}}}]]
setupProgram(dart,init.types.length)
var deferredTypes=[{func:1,ret:P.h,args:[R.a8,A.bP,Y.bg]},{func:1,ret:Q.ae,args:[R.a8]},{func:1,ret:Y.c3,args:[P.t]},{func:1,ret:P.a_,args:[A.an]},{func:1,v:true,args:[P.h]},{func:1,v:true,args:[P.c]},{func:1,ret:P.h,args:[P.t]},{func:1,ret:P.t,args:[R.a8]},{func:1,ret:P.a_,args:[P.a_,P.a_]},{func:1,ret:Q.dm,args:[Q.bG]},{func:1,ret:[P.a1,P.ak]},{func:1,ret:L.ai,args:[P.h],named:{deferToChoiceList:P.R,deferToEndOfPage:P.R,goto:P.h,helpMessage:P.h,script:{func:1,ret:[P.a1,P.ak]},submenu:P.h}}]
init.types.push.apply(init.types,deferredTypes)
C.Q=new A.an(0,0,0)
C.R=new A.an(-1/0,-1/0,-1/0)
C.a9=new P.ao(5000)
C.ab=new U.dp(0)
C.ac=new U.dp(1)
C.ad=new U.dp(2)
C.i=new U.dp(3)
C.F=new O.hT(0)
C.ao=new O.hT(1)
C.ap=new N.bc("FINER",400)
C.aq=new N.bc("FINEST",300)
C.ar=new N.bc("FINE",500)
C.as=new N.bc("OFF",2000)
C.aT=new H.ct([0,"ItemType.spear",1,"ItemType.branch",2,"ItemType.tent",3,"ItemType.sword"],[null,null])
C.aV=new H.ct([0,"KnownToMode.all",1,"KnownToMode.protagonistOnly",2,"KnownToMode.custom"],[null,null])
C.J=new H.ct([0,"Pose.standing",1,"Pose.offBalance",2,"Pose.onGround"],[null,null])
C.d=new R.eR(0)
C.h=new R.eR(1)
C.j=new R.eR(2)
C.L=new Y.cF("he","him","his","himself")
C.m=new Y.cF("it","it","its","itself")
C.aW=new Y.cF("she","her","her","herself")
C.aX=new Y.cF("they","them","their","themselves")
C.M=new Y.cF("you","you","your","yourself")
C.p=H.ah("dynamic")
C.bg=new P.ce(null,2)
$.fH=!1
$.k0=C.as
$.jw=C.G
$.eJ=0;(function(a){for(var z=0;z<a.length;){var y=a[z++]
var x=a[z++]
var w=a[z++]
var v=a[z++]
I.$lazy(y,x,w,null,v)}})(["eo","$get$eo",function(){return P.lJ()},$,"c9","$get$c9",function(){return N.bK("PlannerRecommendation")},$,"fB","$get$fB",function(){return K.pl("__END_OF_ROAM__","","",null,null,[],"ground")},$,"bm","$get$bm",function(){return P.dA(null)},$,"bN","$get$bN",function(){return P.dA(null)},$,"jW","$get$jW",function(){return N.bK("Storyline")},$,"iD","$get$iD",function(){return P.K("(\\w)([\\.\\?\\!])([\"'])\\.(?=$|\\s)",!0,!1)},$,"fA","$get$fA",function(){return L.f8(new L.vo())},$,"bz","$get$bz",function(){return L.f8(new L.vn())},$,"fL","$get$fL",function(){return L.f8(new L.vq())},$,"fx","$get$fx",function(){return Y.ht(!1,"balance",!0,C.m,$.$get$bz())},$,"eQ","$get$eQ",function(){return new F.oK("Sometimes, patience pays off. Especially when the other option is potentially dangerous.",!1,null)},$,"iq","$get$iq",function(){return new B.ph("Most moves are easier and more effective when you are firmly in balance.",!1,null)},$,"iu","$get$iu",function(){return new O.pz(null,!1,null)},$,"iB","$get$iB",function(){return new Q.qf(null,!1,null)},$,"j3","$get$j3",function(){return new M.rl("",!1,null)},$,"ju","$get$ju",function(){return P.dA(null)},$,"k2","$get$k2",function(){return Y.ht(!1,"swing",!0,C.m,$.$get$bz())},$,"i1","$get$i1",function(){return N.bK("")},$,"i0","$get$i0",function(){return P.av(P.h,N.eK)},$])}
$dart_deferred_initializers$["3i7awYL7xeSC5dYKa0Y5RkAQr40="]=$dart_deferred_initializers$.current
