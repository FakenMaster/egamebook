self.$dart_deferred_initializers$=self.$dart_deferred_initializers$||Object.create(null)
$dart_deferred_initializers$.current=function($globals$,$){var A=$globals$.A
var B=$globals$.B
var C=$globals$.C
var D=$globals$.D
var E=$globals$.E
var F=$globals$.F
var G=$globals$.G
var H=$globals$.H
var J=$globals$.J
var K=$globals$.K
var L=$globals$.L
var M=$globals$.M
var N=$globals$.N
var O=$globals$.O
var P=$globals$.P
var Q=$globals$.Q
var R=$globals$.R
var S=$globals$.S
var T=$globals$.T
var U=$globals$.U
var V=$globals$.V
var W=$globals$.W
var X=$globals$.X
var Y=$globals$.Y
var Z=$globals$.Z
var init=$globals$.init
var setupProgram=$globals$.setupProgram
var I=$globals$.I
var dart=[["","",,N,{"^":"",o1:{"^":"o_;Q,ch,a,b,c,d,e,f,r,x,y,z",
hh:function(){$.$get$c2().j(0,"game",this.ch)},
k9:function(){this.ch=H.c0($.$get$c2().h(0,"game"),"$isfO")},
km:function(){this.ch=null
var z=$.$get$c_()
z=new O.fO(null,null,null,null,null,null,null,new Y.ai(H.d([],[Y.ay]),0),O.uT(),O.uS(),O.uR(),z,new P.ao(""),!1,null)
z.dr()
this.ch=z
z.r="endGame"},
i9:function(){var z,y
z=new O.de(["You and Briana sprint through the giant worm\u2019s tunnel.","Suddenly, an **orc** and a **goblin** jump in front of you from a slimy crevice, swords in hands.","![Orc and Goblin](img/orc_and_goblin_sketch.jpg)",[null,P.aT(["goto","gameLoop"])]],0,null,!1,!1)
y=this.a.a
y.j(0,"start",z)
z.a="start"
z=new O.de([new N.o3(this),[null,P.aT(["goto","gameLoop"])]],0,null,!1,!1)
y.j(0,"gameLoop",z)
z.a="gameLoop"
z=new O.de(['<p class="meta">\n  Hit <strong>Restart</strong> (top left) to play again. It will be different.\n</p>'],0,null,!1,!1)
y.j(0,"endGame",z)
z.a="endGame"
this.b=y.h(0,"start")},
q:{
o2:function(){var z=H.d(new H.Z(0,null,null,null,null,null,0),[P.h,O.de])
z=new N.o1("net.filiph.edgehead.0.0.1",null,new O.o4(z),null,null,null,P.E(null,null,null,P.h),!1,null,-9999,null,null)
z.i9()
return z}}},o3:{"^":"a:16;a",
$0:function(){var z=0,y=new P.aQ(),x=1,w,v=this
var $async$$0=P.aM(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.z(v.a.ch.aQ(),$async$$0,y)
case 2:return P.z(null,0,y,null)
case 1:return P.z(w,1,y)}})
return P.z(null,$async$$0,y,null)}}}],["","",,X,{"^":"",
iX:function(a,b){return new P.dw(function(){var z=a,y=b
var x=0,w=1,v,u,t,s,r
return function $async$iX(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=J.am(z)
t=J.am(y)
case 2:if(!!0){x=3
break}s=u.m()
r=t.m()
x=s?4:5
break
case 4:x=6
return u.gfj()
case 6:case 5:x=r?7:8
break
case 7:x=9
return t.gfj()
case 9:case 8:if(!s&&!r){x=3
break}else ;x=2
break
case 3:return P.ds()
case 1:return P.dt(v)}}})}}],["","",,S,{"^":"",cP:{"^":"b;a,b",
ac:function(a){var z,y
z=new S.mX(null,null)
z.$builtinTypeInfo=this.$builtinTypeInfo
z.cC()
y=H.eV(this,"$iscP",[H.k(z,0)],null)
if(y){z.a=this.a
z.b=this}else{z.a=P.a2(this,!0,H.k(z,0))
z.b=null}a.$1(z)
y=z.b
if(y==null){y=H.d(new S.cP(z.a,null),[H.k(z,0)])
y.cC()
z.a=y.a
z.b=y
z=y}else z=y
return z},
gv:function(a){var z=this.b
if(z==null){z=X.a9(this.a)
this.b=z}return z},
p:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.m(b)
if(!z.$iscP)return!1
y=b.a
x=this.a
if(y.length!==x.length)return!1
z=z.gv(b)
w=this.gv(this)
if(z==null?w!=null:z!==w)return!1
for(v=0;z=x.length,v!==z;++v){if(v>=y.length)return H.f(y,v)
w=y[v]
if(v>=z)return H.f(x,v)
if(!J.i(w,x[v]))return!1}return!0},
k:function(a){return J.A(this.a)},
h:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.f(z,b)
return z[b]},
gi:function(a){return this.a.length},
b7:function(a,b,c){var z=this.a
return(z&&C.a).b7(z,b,c)},
ap:function(a,b){return this.b7(a,b,0)},
gE:function(a){var z=this.a
return H.d(new J.c7(z,z.length,0,null),[H.k(z,0)])},
aM:function(a,b){var z=this.a
z.toString
return H.d(new H.aH(z,b),[null,null])},
D:function(a,b){var z=this.a
return(z&&C.a).D(z,b)},
u:function(a,b){var z=this.a
return(z&&C.a).u(z,b)},
ag:function(a,b){var z=this.a
return(z&&C.a).ag(z,b)},
gB:function(a){return this.a.length===0},
gW:function(a){return this.a.length!==0},
gM:function(a){var z=this.a
return(z&&C.a).gM(z)},
gw:function(a){var z=this.a
return(z&&C.a).gw(z)},
P:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.f(z,b)
return z[b]},
cC:function(){if(new H.b4(H.aN(H.k(this,0)),null).p(0,C.o))throw H.c(new P.C('explicit element type required, for example "new BuiltList<int>"'))},
i3:function(a,b){var z,y,x,w,v
this.cC()
for(z=this.a,y=z.length,x=0;x<z.length;z.length===y||(0,H.a3)(z),++x){w=z[x]
v=H.bv(w,b)
if(!v)throw H.c(P.r("iterable contained invalid element: "+H.e(w)))}},
q:{
fs:function(a,b){return S.kt(a,b)},
kt:function(a,b){var z=H.d(new S.cP(P.a2(a,!1,b),null),[b])
z.i3(a,b)
return z}}},mX:{"^":"b;a,b",
j:function(a,b,c){var z
this.fa(c)
z=this.ge4()
if(b>>>0!==b||b>=z.length)return H.f(z,b)
z[b]=c},
l:function(a,b){var z
this.fa(b)
z=this.ge4();(z&&C.a).l(z,b)},
C:function(a,b){var z=this.ge4();(z&&C.a).C(z,b)},
aM:function(a,b){var z=this.a
z.toString
z=H.d(new H.aH(z,b),[null,null]).az(0,!0)
this.a=z
this.b=null
this.is(z)},
ge4:function(){if(this.b!=null){this.a=P.a2(this.a,!0,H.k(this,0))
this.b=null}return this.a},
cC:function(){if(new H.b4(H.aN(H.k(this,0)),null).p(0,C.o))throw H.c(new P.C('explicit element type required, for example "new ListBuilder<int>"'))},
fa:function(a){var z=H.bv(a,H.k(this,0))
if(!z)throw H.c(P.r("invalid element: "+H.e(a)))},
is:function(a){var z,y,x,w
for(z=a.length,y=0;y<a.length;a.length===z||(0,H.a3)(a),++y){x=a[y]
w=H.bv(x,H.k(this,0))
if(!w)H.t(P.r("invalid element: "+H.e(x)))}}}}],["","",,A,{"^":"",cQ:{"^":"b;iR:a<,b,c,d",
ac:function(a){var z=new A.d0(null,null)
z.$builtinTypeInfo=this.$builtinTypeInfo
z.bH()
z.d8(0,this)
a.$1(z)
return z.G()},
gv:function(a){var z=this.b
if(z==null){z=this.a
z=z.gV(z)
z=H.b2(z,new A.ku(this),H.w(z,"x",0),null)
z=P.a2(z,!1,H.w(z,"x",0))
C.a.hL(z)
z=X.a9(z)
this.b=z}return z},
p:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.m(b)
if(!z.$iscQ)return!1
y=b.a
x=this.a
if(y.gi(y)!==x.gi(x))return!1
z=z.gv(b)
w=this.gv(this)
if(z==null?w!=null:z!==w)return!1
for(z=this.gV(this),z=z.gE(z);z.m();){v=z.gt()
if(!J.i(y.h(0,v),x.h(0,v)))return!1}return!0},
k:function(a){return J.A(this.a)},
h:function(a,b){return this.a.h(0,b)},
u:function(a,b){this.a.u(0,b)},
gB:function(a){var z=this.a
return z.gB(z)},
gW:function(a){var z=this.a
return z.gW(z)},
gV:function(a){var z=this.c
if(z==null){z=this.a
z=z.gV(z)
this.c=z}return z},
gi:function(a){var z=this.a
return z.gi(z)},
bH:function(){if(new H.b4(H.aN(H.k(this,0)),null).p(0,C.o))throw H.c(new P.C('explicit key type required, for example "new BuiltMap<int, int>"'))
if(new H.b4(H.aN(H.k(this,1)),null).p(0,C.o))throw H.c(new P.C('explicit value type required, for example "new BuiltMap<int, int>"'))}},ku:{"^":"a:0;a",
$1:function(a){var z,y
z=J.ag(a)
y=J.ag(this.a.a.h(0,a))
return X.eK(X.br(X.br(0,J.ag(z)),J.ag(y)))}},d0:{"^":"b;a,b",
G:function(){var z=this.b
if(z==null){z=new A.cQ(this.a,null,null,null)
z.$builtinTypeInfo=this.$builtinTypeInfo
z.bH()
this.b=z}return z},
d8:function(a,b){var z=H.eV(b,"$iscQ",[H.k(this,0),H.k(this,1)],null)
if(z){this.b=b
this.a=b.giR()}else if(!!b.$iscQ){z=P.eb(b.a,H.k(this,0),H.k(this,1))
this.b=null
this.a=z}else if(!!b.$isN){z=P.eb(b,H.k(this,0),H.k(this,1))
this.b=null
this.a=z}else throw H.c(P.r("expected Map or BuiltMap, got "+H.e(b.gl6(b))))},
j:function(a,b,c){this.dI(b)
this.dK(c)
this.gcJ().j(0,b,c)},
C:function(a,b){this.gcJ().C(0,b)},
gcJ:function(){if(this.b!=null){this.a=P.eb(this.a,H.k(this,0),H.k(this,1))
this.b=null}return this.a},
bH:function(){if(new H.b4(H.aN(H.k(this,0)),null).p(0,C.o))throw H.c(new P.C('explicit key type required, for example "new MapBuilder<int, int>"'))
if(new H.b4(H.aN(H.k(this,1)),null).p(0,C.o))throw H.c(new P.C('explicit value type required, for example "new MapBuilder<int, int>"'))},
dI:function(a){var z=H.bv(a,H.k(this,0))
if(!z)throw H.c(P.r("invalid key: "+H.e(a)))},
dK:function(a){var z=H.bv(a,H.k(this,1))
if(!z)throw H.c(P.r("invalid value: "+H.e(a)))}}}],["","",,M,{"^":"",bG:{"^":"b;",
h:function(a,b){var z
if(!this.cB(b))return
z=this.c.h(0,this.cv(H.f8(b,H.w(this,"bG",1))))
return z==null?null:J.cL(z)},
j:function(a,b,c){if(!this.cB(b))return
this.c.j(0,this.cv(b),H.d(new B.ht(b,c),[null,null]))},
L:function(a,b){if(!this.cB(b))return!1
return this.c.L(0,this.cv(H.f8(b,H.w(this,"bG",1))))},
u:function(a,b){this.c.u(0,new M.kv(b))},
gB:function(a){var z=this.c
return z.gB(z)},
gW:function(a){var z=this.c
return z.gW(z)},
gV:function(a){var z=this.c
z=z.gak(z)
return H.b2(z,new M.kw(),H.w(z,"x",0),null)},
gi:function(a){var z=this.c
return z.gi(z)},
C:function(a,b){var z
if(!this.cB(b))return
z=this.c.C(0,this.cv(H.f8(b,H.w(this,"bG",1))))
return z==null?null:J.cL(z)},
gak:function(a){var z=this.c
z=z.gak(z)
return H.b2(z,new M.kx(),H.w(z,"x",0),null)},
k:function(a){return P.d1(this)},
cB:function(a){var z
if(a!=null){z=H.bv(a,H.w(this,"bG",1))
z=z}else z=!0
if(z)z=this.iO(a)===!0
else z=!1
return z},
cv:function(a){return this.a.$1(a)},
iO:function(a){return this.b.$1(a)},
$isN:1,
$asN:function(a,b,c){return[b,c]}},kv:{"^":"a:3;a",
$2:function(a,b){var z=J.af(b)
return this.a.$2(z.gM(b),z.gw(b))}},kw:{"^":"a:0;",
$1:function(a){return J.ff(a)}},kx:{"^":"a:0;",
$1:function(a){return J.cL(a)}}}],["","",,G,{"^":"",u3:{"^":"a:7;",
$3:function(a,b,c){return a.aZ(C.h)}},u7:{"^":"a:4;",
$3:function(a,b,c){return b.gJ()===C.c?0.7:0.9}},u5:{"^":"a:6;",
$4:function(a,b,c,d){var z
a.by(d,"<subject> swing<s> back at <object>",b)
c.ew(S.aX(M.hJ(a,b,0)))
z=S.aX(L.hH(a,b,0))
C.a.l(c.e,z)
return H.e(a.gn(a))+" swings back at "+H.e(J.I(b))}},u6:{"^":"a:6;",
$4:function(a,b,c,d){a.ax(d,"<subject> tr<ies> to swing back")
a.aP(d,"<subject> {go<es> wide|miss<es>}",!0)
if(a.gJ()===C.c){c.aB(a.r,new G.t_())
a.eA(d,"<subject> lose<s> balance because of that",!0,!0)}return H.e(a.ch)+" fails to swing back at "+H.e(J.I(b))}},t_:{"^":"a:0;",
$1:function(a){a.sJ(C.j)
return a}}}],["","",,X,{"^":"",
jo:function(a,b){switch($.$get$iQ().bx(3)){case 0:b.eA(a,"<subject> collapse<s>, dead",!0,!0)
break
case 1:b.aV(a,"<subject> fall<s> backward",!0)
b.aV(a,"<subject> twist<s>",!0)
b.eA(a,"<subject> hit<s> the ground face down",!0,!0)
break
case 2:b.aV(a,"<subject> drop<s> to <subject's> knees",!0)
b.aV(a,"<subject> keel<s> over",!0)
break}a.e9()}}],["","",,P,{"^":"",
cy:function(a,b,c){var z,y,x
if(b===0){if(c.gel())J.jC(c.c)
else J.dM(c.a)
return}else if(b===1){if(c.gel())c.c.cU(H.D(a),H.O(a))
else{z=H.D(a)
y=H.O(a)
c.a.c3(z,y)
J.dM(c.a)}return}if(a instanceof P.bS){if(c.gel()){b.$2(2,null)
return}z=a.b
if(z===0){z=a.a
J.cI(c.a,z)
P.cG(new P.rw(b,c))
return}else if(z===1){x=a.a
c.a.fS(x,!1).Y(new P.rx(b,c))
return}}P.iM(a,b)},
tj:function(a){return J.fj(a)},
rw:{"^":"a:1;a,b",
$0:function(){var z=this.b
if(z.a.gaU()){z.b=!0
return}this.a.$2(null,0)}},
rx:{"^":"a:0;a,b",
$1:function(a){var z=this.b.c!=null?2:0
this.a.$2(z,null)}},
q3:{"^":"b;a,b,c",
gbS:function(a){return J.fj(this.a)},
gaU:function(){return this.a.gaU()},
gel:function(){return this.c!=null},
l:function(a,b){return J.cI(this.a,b)},
c3:function(a,b){return this.a.c3(a,b)},
al:function(a){return J.dM(this.a)},
ie:function(a){var z=new P.q6(a)
this.a=P.hS(new P.q8(this,a),new P.q9(z),null,new P.qa(this,z),!1,null)},
q:{
q4:function(a){var z=new P.q3(null,!1,null)
z.ie(a)
return z}}},
q6:{"^":"a:1;a",
$0:function(){P.cG(new P.q7(this.a))}},
q7:{"^":"a:1;a",
$0:function(){this.a.$2(0,null)}},
q9:{"^":"a:1;a",
$0:function(){this.a.$0()}},
qa:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(z.b===!0){z.b=!1
this.b.$0()}}},
q8:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(!z.a.ghb()){z.c=H.d(new P.aL(H.d(new P.v(0,$.j,null),[null])),[null])
if(z.b===!0){z.b=!1
P.cG(new P.q5(this.b))}return z.c.gh7()}}},
q5:{"^":"a:1;a",
$0:function(){this.a.$2(2,null)}},
bS:{"^":"b;a,at:b>",
k:function(a){return"IterationMarker("+this.b+", "+H.e(this.a)+")"},
q:{
iD:function(a){return new P.bS(a,1)},
ds:function(){return C.ao},
iC:function(a){return new P.bS(a,0)},
dt:function(a){return new P.bS(a,3)}}},
bU:{"^":"b;a,b,c,d",
gt:function(){var z=this.c
return z==null?this.b:z.gt()},
m:function(){var z,y,x,w
for(;!0;){z=this.c
if(z!=null)if(z.m()===!0)return!0
else this.c=null
y=function(a,b,c){var v,u=b
while(true)try{return a(u,v)}catch(t){v=t
u=c}}(this.a,0,1)
if(y instanceof P.bS){x=y.b
if(x===2){z=this.d
if(z==null||z.length===0){this.b=null
return!1}if(0>=z.length)return H.f(z,-1)
this.a=z.pop()
continue}else{z=y.a
if(x===3)throw z
else{w=J.am(z)
if(w instanceof P.bU){z=this.d
if(z==null){z=[]
this.d=z}z.push(this.a)
this.a=w.a
continue}else{this.c=w
continue}}}}else{this.b=y
return!0}}return!1}},
ro:{"^":"cY;a",
gE:function(a){return new P.bU(this.a(),null,null,null)},
$ascY:I.al,
$asx:I.al,
q:{
dw:function(a){return new P.ro(a)}}}}],["","",,P,{"^":"",
eh:function(a){return C.U},
qJ:{"^":"b;",
bx:function(a){if(a<=0||a>4294967296)throw H.c(P.nO("max must be in range 0 < max \u2264 2^32, was "+a))
return Math.random()*a>>>0},
hf:function(){return Math.random()}}}],["","",,X,{"^":"",tV:{"^":"a:8;",
$3:function(a,b,c){return a.aZ(C.h)}},tY:{"^":"a:4;",
$3:function(a,b,c){if(a.gU())return 1
return 0.5-(a.gJ()===C.c?0:0.2)}},tW:{"^":"a:5;",
$4:function(a,b,c,d){if(a.gU())a.ax(d,"<subject> {step<s>|take<s> a step} back")
a.d9(d,"<subject> {parr<ies> it|deflect<s> it|meet<s> it with <subject's> "+a.gan().r+"|fend<s> it off}",!0)
if(a.e!==C.c){c.aB(a.r,new X.rX())
if(a.z)a.ax(d,"<subject> regain<s> balance")}c.cg("FightSituation")
return H.e(a.ch)+" steps back and parries "+H.e(J.I(b))}},rX:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return a}},tX:{"^":"a:14;",
$4:function(a,b,c,d){a.ax(d,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.gan().r+"|fend it off}")
if(a.e===C.j)a.aP(d,"<subject> <is> out of balance",!0)
else S.cn(new X.rV(a,d),new X.rW(a,b,d),null,null)
return H.e(a.ch)+" fails to dodge "+H.e(J.I(b))}},rV:{"^":"a:1;a,b",
$0:function(){return this.a.aP(this.b,"<subject> {fail<s>|<does>n't succeed}",!0)}},rW:{"^":"a:1;a,b,c",
$0:function(){return this.b.da(this.c,"<subject> <is> too quick for <object>",!0,this.a)}}}],["","",,F,{"^":"",ug:{"^":"a:8;",
$3:function(a,b,c){return a.gJ()!==C.n}},uj:{"^":"a:4;",
$3:function(a,b,c){var z=a.gJ()===C.c?0:0.2
if(a.gU())return 0.7-z
return 0.4-z}},uh:{"^":"a:6;",
$4:function(a,b,c,d){var z
a.bz(d,"<subject> {dodge<s>|sidestep<s>} it",b,!0)
if(b.gJ()===C.c){b.l0(d,"<subject> lose<s> balance because of that",!0)
c.aB(b.r,new F.rK())}c.cg("FightSituation")
if(a.gU())J.cI(d,"this opens an opportunity for a counter attack")
z=S.aX(S.fC(a,b,0))
C.a.l(c.e,z)
return H.e(a.gn(a))+" dodges "+H.e(b.gn(b))}},rK:{"^":"a:0;",
$1:function(a){a.sJ(C.j)
return C.j}},ui:{"^":"a:6;",
$4:function(a,b,c,d){a.ax(d,"<subject> tr<ies> to {dodge|sidestep}")
if(a.gJ()===C.j)a.aP(d,"<subject> <is> out of balance",!0)
else S.cn(new F.rI(a,d),new F.rJ(a,b,d),null,null)
return H.e(a.ch)+" fails to dodge "+H.e(J.I(b))}},rI:{"^":"a:1;a,b",
$0:function(){return this.a.aP(this.b,"<subject> {can't|fail<s>|<does>n't succeed}",!0)}},rJ:{"^":"a:1;a,b,c",
$0:function(){return this.b.da(this.c,"<subject> <is> too quick for <object>",!0,this.a)}}}],["","",,O,{"^":"",
xv:[function(a,b){var z,y
z=b.gjm()
z=H.d(new H.a7(z,new O.tr(a)),[H.k(z,0)]).ab(0,0,new O.ts())
if(typeof z!=="number")return H.n(z)
y=b.a
y=H.d(new H.a7(y,new O.tt(a)),[H.k(y,0)]).ab(0,0,new O.tu())
if(typeof y!=="number")return H.n(y)
return 0+z-y},"$2","j7",4,0,4],
fO:{"^":"n8;x,y,z,Q,ch,cn:cx<,cy,f_:db<,a,b,c,d,e,f,r",
dr:function(){var z,y,x
z=H.d([],[P.h])
y=P.E(null,null,null,null)
x=$.$get$f6()
y=new R.cw(!0,z,null,null,C.c,1,null,100,!0,!1,y,null,!0,C.k,x,null)
new O.l8().$1(y)
this.x=y.G()
z=new R.cw(!0,H.d([],[P.h]),null,null,C.c,1,null,100,!0,!1,P.E(null,null,null,null),null,!0,C.k,x,null)
new O.l9().$1(z)
this.y=z.G()
z=new R.cw(!0,H.d([],[P.h]),null,null,C.c,1,null,100,!0,!1,P.E(null,null,null,null),null,!0,C.k,x,null)
new O.la().$1(z)
this.z=z.G()
z=new R.cw(!0,H.d([],[P.h]),null,null,C.c,1,null,100,!0,!1,P.E(null,null,null,null),null,!0,C.k,x,null)
new O.lb().$1(z)
this.Q=z.G()
z=H.d(new A.d0(null,null),[P.u,{func:1,v:true,args:[A.ak,Y.ai]}])
z.bH()
z.d8(0,C.C)
z=new U.ij(0,null,null,z)
new O.lc(this).$1(z)
this.ch=S.aX(z.G())
z=P.aU([this.x,this.y,this.z,this.Q],null)
y=this.ch
x=P.E(null,null,null,null)
y=new A.ak(z,P.E(null,null,null,null),x,P.E(null,null,null,null),P.a2([y],!0,null),0)
this.cx=y
x=new Y.ai(H.d([],[Y.ay]),0)
z=new B.cl(y,null,x,1,1,!0,!1,!1,0)
z.f2(y,null,null,x,1,!1,!0,!1)
this.cy=z},
de:function(){var z=0,y=new P.aQ(),x,w=2,v,u=this,t,s,r,q,p,o,n,m,l,k,j,i,h
var $async$de=P.aM(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:t=u.cx.e
if(t.length===0){u.f=!0
t=u.db
t.aT(0,"\n\n",!0)
s=u.cx.Z(u.x.r)
if(s.gbv()){t.e8(0,"<subject> look<s> behind",s)
t.e8(0,"<subject> see<s> the giant worm's hideous head approaching",s)
if(u.cx.Z(u.y.r).gbv())t.aT(0,"You both start sprinting again.",!0)
else{t.e8(0,"<subject> take<s> a last look at Briana",s)
t.jq(0,"<subject> start<s> sprinting again, alone",!0,s)}t.aT(0,"\n\n",!0)
t.aT(0,"TO BE CONTINUED.",!0)}else t.aT(0,"You will soon be the giant worm's food.",!0)
u.e.a+=t.d6()
z=1
break}else ;r=C.a.gw(t)
t=J.q(r)
q=t.gat(r).dj(u.cx)
p=u.cx
o=H.d(new H.Z(0,null,null,null,null,null,0),[null,null])
n=J.Q(q)
m=new Y.ai(H.d([],[Y.ay]),0)
m.b=p.f
l=new G.kc(n,new B.cl(p,null,m,1,1,!0,!1,!1,0),0,!1,o)
z=3
return P.z(l.d4(4,new O.ld()),$async$de,y)
case 3:k=G.nw(o)
p=k.b
if(p.length===0){u.cx.hs(t.gA(r),new O.le())
t=u.cx
p=t.f
if(typeof p!=="number"){x=p.I()
z=1
break}else ;t.f=p+1
z=1
break}else ;if(q.gU()){if(p.length===1){u.dC(C.a.ga5(p),q,u.db)
z=1
break}else ;t=u.db
u.e.a+=t.d6()
C.a.si(t.a,0)
l.eP().u(0,P.uP())
p=H.d(new H.pi(p,0,4),[H.k(p,0)])
t=p.b
o=J.H(t)
if(o.a_(t,0))H.t(P.T(t,0,null,"start",null))
else ;n=p.c
if(n!=null){if(J.aC(n,0))H.t(P.T(n,0,null,"end",null))
else ;if(o.aD(t,n))H.t(P.T(t,0,n,"start",null))
else ;}else ;j=P.a2(p,!0,null)
t=new O.lf()
p=j.length-1
if(p-0<=32)H.hL(j,0,p,t)
else H.hK(j,0,p,t)
for(t=j.length,i=0;i<j.length;j.length===t||(0,H.a3)(j),++i){h=j[i]
u.jJ(J.I(h),new O.lg(u,q,h))}z=1
break}else{t=S.nM(k.a,1000)
if(t>=p.length){x=H.f(p,t)
z=1
break}else ;o=u.db
u.dC(p[t],q,o)}if(o.geh()){u.e.a+=o.hk(!0)
o.kV()}else ;case 1:return P.z(x,0,y,null)
case 2:return P.z(v,1,y)}})
return P.z(null,$async$de,y,null)},
dC:function(a,b,c){var z,y,x
z=a.cP(b,this.cy,this.cx)
z.toString
y=P.a2(z,!0,H.w(z,"x",0))
x=S.nL(H.d(new H.aH(y,new O.l5()),[null,null]),1)
if(x>=y.length)return H.f(y,x)
z=y[x]
this.cy=z
C.a.H(c.a,z.gf_().a)
this.cx=this.cy.gcn()}},
l8:{"^":"a:0;",
$1:function(a){a.r=1
a.z=!0
a.cy=C.F
a.ch="Filip"
a.c=new U.dg(!1,10,!0,!0,$.$get$bx(),"sword",C.h)
a.f=2
a.x=1000
return a}},
l9:{"^":"a:0;",
$1:function(a){a.r=100
a.cy=C.aj
a.ch="Briana"
a.c=new U.dg(!1,10,!0,!0,$.$get$bx(),"longsword",C.h)
a.f=2
return a}},
la:{"^":"a:0;",
$1:function(a){a.r=1000
a.ch="orc"
a.cx=!1
a.cy=C.E
a.c=new U.dg(!1,10,!0,!0,$.$get$bx(),"sword",C.h)
a.f=2
a.db=$.$get$eX()
a.dx=O.j7()
return a}},
lb:{"^":"a:0;",
$1:function(a){a.r=1001
a.ch="goblin"
a.cx=!1
a.cy=C.E
a.c=new U.dg(!1,10,!0,!0,$.$get$bx(),"scimitar",C.h)
a.db=$.$get$eX()
a.dx=O.j7()
return a}},
lc:{"^":"a:0;a",
$1:function(a){var z,y
z=this.a
a.b=S.fs([z.x.r,z.y.r],P.u)
a.c=S.fs([z.z.r,z.Q.r],P.u)
z=a.d
y=new O.l6()
z.dI(2)
z.dK(y)
z.gcJ().j(0,2,y)
y=a.d
z=new O.l7()
y.dI(6)
y.dK(z)
y.gcJ().j(0,6,z)
return a}},
l6:{"^":"a:3;",
$2:function(a,b){b.e9()
b.l(0,"You hear a horrible growling sound from behind.")
b.l(0,"The worm must be near.")
b.aT(0,"\n\n",!0)}},
l7:{"^":"a:3;",
$2:function(a,b){b.e9()
b.l(0,"The earth shatters and there's that sound again.")
b.aT(0,"\n\n",!0)}},
ld:{"^":"a:16;",
$0:function(){var z=0,y=new P.aQ(),x=1,w
var $async$$0=P.aM(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.z(C.an.gjA(window),$async$$0,y)
case 2:return P.z(null,0,y,null)
case 1:return P.z(w,1,y)}})
return P.z(null,$async$$0,y,null)}},
le:{"^":"a:0;",
$1:function(a){var z,y
z=J.q(a)
y=z.gat(a).ee()
z.sat(a,y)
return y}},
lf:{"^":"a:3;",
$2:function(a,b){return J.cJ(J.I(a),J.I(b))}},
lg:{"^":"a:1;a,b,c",
$0:function(){var z=this.a
z.dC(this.c,this.b,z.db)}},
l5:{"^":"a:0;",
$1:function(a){return a.gkQ()}},
tr:{"^":"a:0;a",
$1:function(a){return J.i(a.gad(),this.a.gad())}},
ts:{"^":"a:3;",
$2:function(a,b){return J.P(a,b.gaL())}},
tt:{"^":"a:0;a",
$1:function(a){return a.bO(this.a)}},
tu:{"^":"a:3;",
$2:function(a,b){return J.P(a,b.gaL())}}}],["","",,O,{"^":"",
xx:[function(a){var z,y
z=$.$get$f9()
y=z.a
if(y.length>0){y+=" "
z.a=y}z.a=y+a},"$1","uS",2,0,2],
vx:[function(a){$.f_=a},"$1","uT",2,0,2],
j2:[function(a,b,c,d,e,f){var z=L.fu(a,!1,!1,d,e,f)
$.$get$c_().l(0,z)
return z},function(a){return O.j2(a,!1,!1,null,null,null)},function(a,b){return O.j2(a,!1,!1,null,b,null)},"$6$deferToChoiceList$deferToEndOfPage$goto$script$submenu","$1","$2$script","uR",2,11,7,0,0,0,1,1]}],["","",,Y,{"^":"",uk:{"^":"a:7;",
$3:function(a,b,c){return a.gJ()===C.c}},un:{"^":"a:4;",
$3:function(a,b,c){var z=a.gJ()===C.c?0:0.2
if(a.gU())return 0.7-z
return 0.5-z}},ul:{"^":"a:5;",
$4:function(a,b,c,d){if(b.gJ()===C.c||b.gJ()===C.j){S.cn(new Y.rO(a,b,d),new Y.rP(a,b,d),null,null)
c.aB(b.gA(b),new Y.rQ())}else a.by(d,"<subject> kick<s> <object> on the ground",b)
return H.e(J.I(a))+" kicks "+H.e(b.gn(b))}},rO:{"^":"a:1;a,b,c",
$0:function(){var z,y
z=this.c
y=this.b
this.a.by(z,"<subject> kick<s> <object>",y)
if(S.nN(0.5))y.ax(z,"<subject> flail<s> <subject's> arms")
y.aV(z,"<subject> fall<s>{| to the ground}",!0)}},rP:{"^":"a:1;a,b,c",
$0:function(){var z,y
z=this.c
y=this.b
this.a.bz(z,"<subject> kick<s> <object> off <object's> feet",y,!0)
if(y.gU())y.aV(z,"<subject> land<s> on the ground",!0)}},rQ:{"^":"a:0;",
$1:function(a){a.sJ(C.n)
return a}},um:{"^":"a:14;",
$4:function(a,b,c,d){var z,y
a.by(d,"<subject> kick<s> <object>",b)
if(b.gJ()===C.c){if(a.gU())b.l2(d,"<subject> lose<s> <object>",!0,$.$get$eU())
c.aB(b.gA(b),new Y.rL())}if(c.Z(b.gA(b)).gJ()===C.j){z=new U.ik(0,null,null)
new Y.rM(a,b).$1(z)
y=S.aX(z.G())
C.a.l(c.e,y)}return H.e(a.gn(a))+" kicks "+H.e(b.gn(b))+" off balance"}},rL:{"^":"a:0;",
$1:function(a){a.sJ(C.j)
return a}},rM:{"^":"a:0;a,b",
$1:function(a){var z=this.b
a.b=z.gA(z)
z=this.a
a.c=z.gA(z)
return a}}}],["","",,G,{"^":"",n8:{"^":"b;",
aQ:function(){var z=0,y=new P.aQ(),x,w=2,v,u=this,t,s
var $async$aQ=P.aM(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:if(u.r==null)throw H.c(new P.y("Cannot run a LoopedEvent before onFinishedGoto is defined."))
else ;if(u.f){t=u.d
t.R(t)
u.iD(u.r)
z=1
break}else ;t=u.d
s=u.e
case 3:if(!!0){z=4
break}if(!(!u.f&&t.gB(t)&&s.a.length===0)){z=4
break}else ;z=5
return P.z(u.de(),$async$aQ,y)
case 5:z=3
break
case 4:t=s.a
if(t.length!==0){u.iy(t.charCodeAt(0)==0?t:t)
s.a=""}else ;case 1:return P.z(x,0,y,null)
case 2:return P.z(v,1,y)}})
return P.z(null,$async$aQ,y,null)},
iD:function(a){return this.a.$1(a)},
iy:function(a){return this.b.$1(a)},
jJ:function(a,b){return this.c.$2$script(a,b)}}}],["","",,A,{"^":"",uo:{"^":"a:8;",
$3:function(a,b,c){return a.gJ()===C.c&&b.gJ()===C.j&&a.aZ(C.h)}},us:{"^":"a:4;",
$3:function(a,b,c){if(a.gU())return 0.6
return 0.5}},up:{"^":"a:5;",
$4:function(a,b,c,d){var z=J.q(b)
c.aB(z.gA(b),new A.rN())
if(c.Z(z.gA(b)).gbv()){a.bz(d,"<subject> thrust<s> {|<subject's> "+a.gan().r+"} deep into <object's> {shoulder|hip|thigh}",b,!0)
b.aV(d,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.bz(d,"<subject> {stab<s>|run<s> <subject's> "+a.gan().r+" through} <object>",b,!0)
X.jo(d,b)}return H.e(J.I(a))+" stabs "+H.e(z.gn(b))}},rN:{"^":"a:0;",
$1:function(a){a.saL(a.gaL()-1)
return a}},ur:{"^":"a:6;",
$4:function(a,b,c,d){a.by(d,"<subject> tr<ies> to stab <object>",b)
a.aP(d,"<subject> {go<es> wide|fail<s>|miss<es>}",!0)
return H.e(a.gn(a))+" fails to stab "+H.e(J.I(b))}}}],["","",,K,{"^":"",tH:{"^":"a:8;",
$3:function(a,b,c){return a.aZ(C.h)}},tL:{"^":"a:4;",
$3:function(a,b,c){if(a.gU())return 0.6
return 0.3}},tI:{"^":"a:5;",
$4:function(a,b,c,d){a.d9(d,"<subject> {parr<ies> it|stop<s> it with <subject's> "+a.gan().r+"}",!0)
c.cg("FightSituation")
return H.e(a.ch)+" parries "+H.e(J.I(b))}},tK:{"^":"a:6;",
$4:function(a,b,c,d){a.ax(d,"<subject> tr<ies> to {parry|deflect it|stop it{| with <subject's> "+a.gan().r+"}}")
S.cn(new K.rG(a,d),new K.rH(a,b,d),null,null)
return H.e(a.ch)+" fails to parry "+H.e(J.I(b))}},rG:{"^":"a:1;a,b",
$0:function(){return this.a.aP(this.b,"<subject> {fail<s>|<does>n't succeed}",!0)}},rH:{"^":"a:1;a,b,c",
$0:function(){return this.b.da(this.c,"<subject> <is> too quick for <object>",!0,this.a)}}}],["","",,G,{"^":"",tZ:{"^":"a:8;",
$3:function(a,b,c){return a.aZ(C.h)}},u1:{"^":"a:4;",
$3:function(a,b,c){var z=a.gJ()===C.c?0:0.2
if(a.gU())return 0.6-z
return 0.3-z}},u_:{"^":"a:5;",
$4:function(a,b,c,d){var z
a.d9(d,"<subject> {parr<ies> it|meet<s> it with <subject's> "+a.gan().r+"|fend<s> it off}",!0)
c.cg("FightSituation")
if(a.z)J.cI(d,"this opens an opportunity for a counter attack")
z=S.aX(S.fC(a,b,0))
C.a.l(c.e,z)
return H.e(a.ch)+" parries "+H.e(J.I(b))}},u0:{"^":"a:6;",
$4:function(a,b,c,d){a.ax(d,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.gan().r+"|fend it off}")
if(a.e===C.j)a.aP(d,"<subject> <is> out of balance",!0)
else S.cn(new G.rY(a,d),new G.rZ(a,b,d),null,null)
return H.e(a.ch)+" fails to dodge "+H.e(J.I(b))}},rY:{"^":"a:1;a,b",
$0:function(){return this.a.aP(this.b,"<subject> {fail<s>|<does>n't succeed}",!0)}},rZ:{"^":"a:1;a,b,c",
$0:function(){return this.b.da(this.c,"<subject> <is> too quick for <object>",!0,this.a)}}}],["","",,F,{"^":"",uc:{"^":"a:3;",
$2:function(a,b){return!0}},ud:{"^":"a:37;",
$3:function(a,b,c){if(a.gU())a.ax(c,"<subject> stand<s> off")
return H.e(a.gn(a))+" passes the opportunity"}},ue:{"^":"a:4;",
$3:function(a,b,c){}}}],["","",,X,{"^":"",
a9:function(a){return X.eK(J.jE(a,0,new X.uX()))},
jc:function(a,b,c,d){return X.eK(X.br(X.br(X.br(X.br(0,J.ag(a)),J.ag(b)),c&0x1FFFFFFF),J.ag(d)))},
br:function(a,b){var z=J.P(a,b)
if(typeof z!=="number")return H.n(z)
a=536870911&z
a=536870911&a+((524287&a)<<10>>>0)
return a^a>>>6},
eK:function(a){if(typeof a!=="number")return H.n(a)
a=536870911&a+((67108863&a)<<3>>>0)
a=(a^a>>>11)>>>0
return 536870911&a+((16383&a)<<15>>>0)},
uX:{"^":"a:3;",
$2:function(a,b){return X.br(a,J.ag(b))}}}],["","",,S,{"^":"",
nN:function(a){if(a<0||a>1)throw H.c(P.T(a,0,1,"Probability needs to be within <0,1>.",null))
if(a===0)return!1
if(a===1)return!0
return $.$get$bn().hf()<a},
nL:function(a,b){var z,y,x,w,v
z=$.$get$bn().hf()*b
for(y=H.d(new H.d_(a,a.gi(a),0,null),[H.w(a,"aG",0)]),x=0,w=0;y.m();){v=y.d
if(typeof v!=="number")return H.n(v)
x+=v
if(x>=z)return w;++w}throw H.c(P.r("The weights do not add up to total="+b))},
nM:function(a,b){var z,y,x,w,v,u,t
z=$.$get$bn().bx(b)
for(y=a.length,x=0,w=0,v=0;u=a.length,v<u;u===y||(0,H.a3)(a),++v){t=a[v]
if(typeof t!=="number")return H.n(t)
x+=t
if(x>=z)return w;++w}throw H.c(P.r("The weights do not add up to total="+b))},
hy:function(a){var z=$.$get$bn().bx(3)
if(z<0||z>=3)return H.f(a,z)
return a[z]},
d9:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m
z=J.M(a)
y=z.ap(a,"{")
if(y!==-1){x=J.F(z.gi(a),1)
if(typeof x!=="number")return H.n(x)
x=y<x}else x=!1
if(x){w=H.d([],[P.u])
w.push(y)
u=y+1
t=null
s=1
while(!0){x=z.gi(a)
if(typeof x!=="number")return H.n(x)
if(!(u<x)){v=null
break}r=z.h(a,u)
x=J.m(r)
if(x.p(r,"{"))++s
else if(x.p(r,"|")&&s===1)w.push(u)
else if(x.p(r,"}")){--s
if(s===0){w.push(u)
v=u
t=v
break}}q=u+1
t=u
u=q}p=w.length-1
if(p>1){o=$.$get$bn().bx(p)
z=z.a0(a,0,y)
x=w.length
if(o<0||o>=x)return H.f(w,o)
n=w[o]
m=o+1
if(m>=x)return H.f(w,m)
m=z+H.e(S.d9(C.b.a0(a,n+1,w[m])))
if(typeof v!=="number")return v.I()
n=a.length
m+=C.b.a0(a,v+1,n)
if(t===n-1)return m.charCodeAt(0)==0?m:m
else return S.d9(m.charCodeAt(0)==0?m:m)}else if(t===J.F(z.gi(a),1))return a
else{if(typeof t!=="number")return t.I()
x=t+1
return z.a0(a,0,x)+H.e(S.d9(C.b.bg(a,x)))}}else return a},
cn:function(a,b,c,d){switch($.$get$bn().bx(2)){case 0:a.$0()
break
case 1:b.$0()
break
case 2:c.$0()
break
case 4:d.$0()
break}}}],["","",,B,{"^":"",uw:{"^":"a:15;",
$2:function(a,b){return a.gJ()===C.j}},ux:{"^":"a:4;",
$3:function(a,b,c){if(a.gU())a.bz(c,"<subject> regain<s> <object>",$.$get$eU(),!0)
b.aB(a.gA(a),new B.rT())
return H.e(a.gn(a))+" regains balance"}},rT:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return C.c}},uy:{"^":"a:4;",
$3:function(a,b,c){}}}],["","",,Y,{"^":"",tD:{"^":"a:8;",
$3:function(a,b,c){return!0}},tG:{"^":"a:4;",
$3:function(a,b,c){if(a.gU())return 1
return 0.5}},tE:{"^":"a:5;",
$4:function(a,b,c,d){a.l1(d,"<subject> <is> able to roll out of the way",!0,!0)
if(a.gU()){c.aB(a.gA(a),new Y.rF())
a.d9(d,"<subject> jump<s> up on <subject's> feet",!0)}c.cg("FightSituation")
return H.e(a.gn(a))+" rolls out of the way of "+H.e(J.I(b))+"'s strike"}},rF:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return a}},tF:{"^":"a:6;",
$4:function(a,b,c,d){a.ax(d,"<subject> tr<ies> to roll out of the way")
a.aP(d,"<subject> can't",!0)
return H.e(a.gn(a))+" fails to roll out of the way"}}}],["","",,Y,{"^":"",tQ:{"^":"a:7;",
$3:function(a,b,c){return a.gJ()===C.c&&b.gJ()!==C.n&&a.aZ(C.h)}},tS:{"^":"a:4;",
$3:function(a,b,c){return 1}},tR:{"^":"a:5;",
$4:function(a,b,c,d){var z
a.by(d,"<subject> swing<s> {<subject's> "+a.gan().r+" |}at <object>",b)
c.ew(S.aX(M.hJ(a,b,0)))
z=S.aX(L.hH(a,b,0))
C.a.l(c.e,z)
return H.e(a.ch)+" slashes at "+H.e(J.I(b))}},u9:{"^":"a:7;",
$3:function(a,b,c){return a.aZ(C.h)}},ub:{"^":"a:4;",
$3:function(a,b,c){return 1}},ua:{"^":"a:5;",
$4:function(a,b,c,d){var z=J.q(b)
c.aB(z.gA(b),new Y.t0())
if(c.Z(z.gA(b)).gbv()){a.bz(d,"<subject> {slash<es>|cut<s>} <object's> {shoulder|abdomen|thigh}",b,!0)
b.aV(d,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.bz(d,"<subject> {slash<es>|cut<s>} {across|through} <object's> {neck|abdomen|lower body}",b,!0)
X.jo(d,b)}return H.e(J.I(a))+" slains "+H.e(z.gn(b))}},t0:{"^":"a:0;",
$1:function(a){a.saL(a.gaL()-1)
return a}}}],["","",,T,{"^":"",uJ:{"^":"a:7;",
$3:function(a,b,c){return b.gJ()===C.n&&a.aZ(C.h)}},tA:{"^":"a:4;",
$3:function(a,b,c){return 1}},tz:{"^":"a:5;",
$4:function(a,b,c,d){var z
a.by(d,"<subject> strike<s> down {with <subject's> "+a.gan().r+" |}at <object>",b)
c.ew(S.aX(D.pf(a,b,0)))
z=S.aX(V.np(a,b,0))
C.a.l(c.e,z)
return H.e(a.ch)+" strikes down at "+H.e(J.I(b))+" on the ground"}},tN:{"^":"a:7;",
$3:function(a,b,c){return b.gJ()===C.n&&a.aZ(C.h)}},tP:{"^":"a:4;",
$3:function(a,b,c){return 1}},tO:{"^":"a:5;",
$4:function(a,b,c,d){var z,y
z=J.q(b)
c.aB(z.gA(b),new T.rS())
y=J.af(d)
y.jr(d,"<subject> {cuts|slashes|slits} <object's> {throat|neck|side}",b,a.gan())
b.aV(d,"<subject> die<s>",!0)
y.aT(d,"\n\n",!0)
return H.e(a.gn(a))+" slains "+H.e(z.gn(b))+" on the ground"}},rS:{"^":"a:0;",
$1:function(a){a.saL(0)
return a}}}],["","",,Q,{"^":"",ut:{"^":"a:15;",
$2:function(a,b){return a.gJ()===C.n}},uu:{"^":"a:4;",
$3:function(a,b,c){a.ax(c,"<subject> stand<s> up")
b.aB(a.gA(a),new Q.rR())
return H.e(a.gn(a))+" stands up"}},rR:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return C.c}},uv:{"^":"a:4;",
$3:function(a,b,c){}}}],["","",,Y,{"^":"",ay:{"^":"b;ae:a<,af:b<,av:c<,kM:d<,kJ:e<,cQ:f@,bb:r<,b8:x<,k7:y<,hO:z<,cm:Q<,ch,ku:cx<,N:cy<",
h:function(a,b){switch(b){case"string":return this.a
case"subject":return this.b
case"object":return this.c
case"owner":return this.d
case"but":return this.f
case"positive":return this.r
case"negative":return this.x
case"endSentence":return this.y
case"startSentence":return!1
case"wholeSentence":return this.Q
case"time":return this.cy
default:throw H.c(P.r("Invalid key "+H.e(b)+"."))}}},ai:{"^":"b;a,N:b<",
bn:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(b==null||J.i(b,""))return
n=this.b
if((J.ar(b).cX(b,".")||C.b.cX(b,"!")||C.b.cX(b,"?"))&&C.b.ct(b,new H.Y("[A-Z]",H.a1("[A-Z]",!1,!0,!1),null,null)))o=!0
this.a.push(new Y.ay(b,m,h,j,i,d,k,g,e,!1,o,c,!1,n))},
l:function(a,b){return this.bn(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,null,!1)},
aT:function(a,b,c){return this.bn(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,null,c)},
e8:function(a,b,c){return this.bn(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,c,null,!1)},
jq:function(a,b,c,d){return this.bn(a,b,null,!1,c,!1,!1,null,null,null,!1,!1,d,null,!1)},
jp:function(a,b,c){return this.bn(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,null,null,!1)},
jt:function(a,b,c,d,e,f,g,h,i){return this.bn(a,b,null,c,d,!1,e,f,g,null,h,!1,i,null,!1)},
jr:function(a,b,c,d){return this.bn(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,d,null,!1)},
e9:function(){return this.aT(0,"\n\n",!0)},
dt:[function(a){var z=J.H(a)
if(z.a_(a,0)||z.bd(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.f(z,a)
return z[a].gae()}},"$1","gae",2,0,3],
T:[function(a){var z=J.H(a)
if(z.a_(a,0)||z.bd(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.f(z,a)
return z[a].gaf()}},"$1","gaf",2,0,1],
aj:[function(a){var z=J.H(a)
if(z.a_(a,0)||z.bd(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.f(z,a)
return z[a].gav()}},"$1","gav",2,0,1],
l9:function(a){var z,y,x
z=this.a
if(a>=z.length)return H.f(z,a)
if(z[a].gN()!=null){y=a-1
if(this.aC(y)){if(y<0||y>=z.length)return H.f(z,y)
y=z[y].gN()==null}else y=!0}else y=!0
if(y)return 1000
else{if(a>=z.length)return H.f(z,a)
y=z[a].gN()
x=a-1
if(x<0||x>=z.length)return H.f(z,x)
x=z[x].gN()
if(typeof y!=="number")return y.O()
if(typeof x!=="number")return H.n(x)
return y-x}},
cK:function(a,b){var z,y
if(!this.aC(a)||!this.aC(b))return!1
z=this.a
if(a>=z.length)return H.f(z,a)
if(z[a].gaf()!=null){if(b<0||b>=z.length)return H.f(z,b)
y=z[b].gaf()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.f(z,a)
y=J.Q(z[a].gaf())
if(b<0||b>=z.length)return H.f(z,b)
z=J.Q(z[b].gaf())
return y==null?z==null:y===z},
j7:function(a,b){var z,y
if(!this.aC(a)||!this.aC(b))return!1
z=this.a
if(a>=z.length)return H.f(z,a)
if(z[a].gav()!=null){if(b<0||b>=z.length)return H.f(z,b)
y=z[b].gav()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.f(z,a)
y=J.Q(z[a].gav())
if(b<0||b>=z.length)return H.f(z,b)
return J.i(y,J.Q(z[b].gav()))},
ef:function(a,b){var z,y,x
if(!this.aC(a)||!this.aC(b))return!1
z=this.a
if(a<0||a>=z.length)return H.f(z,a)
if(z[a].gaf()!=null){if(b<0||b>=z.length)return H.f(z,b)
y=z[b].gaf()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.f(z,a)
if(z[a].gav()!=null){if(b<0||b>=z.length)return H.f(z,b)
y=z[b].gav()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.f(z,a)
y=J.Q(z[a].gaf())
if(b<0||b>=z.length)return H.f(z,b)
x=J.Q(z[b].gav())
if(y==null?x==null:y===x){if(a>=z.length)return H.f(z,a)
y=J.Q(z[a].gav())
if(b>=z.length)return H.f(z,b)
z=J.i(y,J.Q(z[b].gaf()))}else z=!1
return z},
aC:function(a){if(a>=this.a.length||a<0)return!1
else return!0},
hB:function(a,b){var z,y
if(!this.aC(a)||!this.aC(b))return!1
if(this.ef(a,b)&&this.T(a).bO(this.T(b))){z=this.a
if(a>=z.length)return H.f(z,a)
if(z[a].gbb()){if(b>=z.length)return H.f(z,b)
y=z[b].gb8()}else y=!1
if(y)return!0
if(a>=z.length)return H.f(z,a)
if(z[a].gb8()){if(b>=z.length)return H.f(z,b)
z=z[b].gbb()}else z=!1
if(z)return!0}if(!this.cK(a,b))return!1
z=this.a
if(a>=z.length)return H.f(z,a)
if(z[a].gbb()){if(b>=z.length)return H.f(z,b)
y=z[b].gbb()}else y=!1
if(y)return!0
if(a>=z.length)return H.f(z,a)
if(z[a].gb8()){if(b>=z.length)return H.f(z,b)
z=z[b].gb8()}else z=!1
if(z)return!0
else return!1},
kL:function(a,b){var z,y
if(!this.aC(a)||!this.aC(b))return!1
if(this.ef(a,b)&&this.T(a).bO(this.T(b))){z=this.a
if(a>=z.length)return H.f(z,a)
if(z[a].gbb()){if(b<0||b>=z.length)return H.f(z,b)
y=z[b].gbb()}else y=!1
if(y)return!0
if(a>=z.length)return H.f(z,a)
if(z[a].gb8()){if(b<0||b>=z.length)return H.f(z,b)
z=z[b].gb8()}else z=!1
if(z)return!0}z=this.a
if(a>=z.length)return H.f(z,a)
y=z[a].gaf()
if(b<0||b>=z.length)return H.f(z,b)
if(this.j8(y,z[b].gaf())){if(a>=z.length)return H.f(z,a)
if(z[a].gbb()){if(b>=z.length)return H.f(z,b)
y=z[b].gb8()}else y=!1
if(y)return!0
if(a>=z.length)return H.f(z,a)
if(z[a].gb8()){if(b>=z.length)return H.f(z,b)
z=z[b].gbb()}else z=!1
if(z)return!0}return!1},
j8:function(a,b){if(a==null||b==null)return!1
return J.i(a.gad(),b.gad())},
geh:function(){return C.a.ag(this.a,new Y.oP())},
kV:function(){if(!this.geh()){C.a.si(this.a,0)
return}var z=this.a
C.a.d7(z,0,C.a.ap(z,C.a.h6(z,new Y.oU()))+1)},
k:function(a){return this.d6()},
hk:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f
z=new P.ao("")
y=this.a
x=C.a.ab(y,[],new Y.oQ())
C.a.aJ(y,"retainWhere")
C.a.e3(y,new Y.oR(x),!1)
w=a&&this.geh()?C.a.ap(y,C.a.h6(y,new Y.oS()))+1:y.length
if(w<1)return""
for(v=-1,u=!0,t=!1,s=!1,r=0;r<w;++r){q=r===0
if(!q){p=r-1
o=this.ef(p,r)
if(r>=y.length)return H.f(y,r)
if(y[r].gcQ()||this.kL(r,p)){if(p<0||p>=y.length)return H.f(y,p)
s=!y[p].gcQ()}else s=!1
if(r>=y.length)return H.f(y,r)
y[r].scQ(s)
n=r-v
if(n<3)if(!t){if(r>=y.length)return H.f(y,r)
y[r].ghO()
if(p<0||p>=y.length)return H.f(y,p)
if(!y[p].gk7()){if(r>=y.length)return H.f(y,r)
if(!y[r].gcm())if(this.cK(r,p)||o)if(!(s&&n>1)){if(s){if(p>=y.length)return H.f(y,p)
n=y[p].gcQ()}else n=!1
n=n||this.l9(r)>4}else n=!0
else n=!0
else n=!0}else n=!0
u=n}else u=!0
else u=!0
if(u){if(p<0||p>=y.length)return H.f(y,p)
p=y[p].gcm()
n=z.a
if(p)z.a=n+" "
else z.a=n+". "
if(s){if(r>=y.length)return H.f(y,r)
p=!y[r].gcm()}else p=!1
if(p)z.a+="But "
t=!1}else if(s){z.a+=S.hy([" but "," but ",", but "])
t=!this.hB(r,r+1)&&!0}else{z.a+=S.hy([" and "," and ",", and "])
t=!0}}m=this.dt(r)
p=!u
if(p){n=r-1
if(this.cK(r,n))if(J.dP(this.dt(n),"<subject> "))if(J.dP(m,"<subject> ")){n=m.length
m=H.ju(m,"<subject> ","",0)}}l=J.p(m,"<action>",this.dt(r))
if(this.j7(r,r-1))n=!(this.aj(r).gF()===C.k&&this.T(r).gF()===C.k)
else n=!1
if(n)l=J.p(J.p(J.p(J.p(l,"<object-owner's> <object>",this.aj(r).gF().b),"<object-ownerPronoun's> <object>",this.aj(r).gF().b),"<object>",this.aj(r).gF().b),"<object's>",this.aj(r).gF().c)
if(this.cK(r,r-1))l=J.p(J.p(J.p(J.p(l,"<owner's> <subject>",this.T(r).gF().a),"<ownerPronoun's> <subject>",this.T(r).gF().a),"<subject>",this.T(r).gF().a),"<subject's>",this.T(r).gF().c)
n=r-1
if(this.aj(n)!=null&&this.T(r)!=null&&this.T(n)!=null&&J.i(J.Q(this.aj(n)),J.Q(this.T(r)))&&this.T(n).gF()!==this.T(r).gF())l=J.p(J.p(J.p(J.p(l,"<owner's> <subject>",this.T(r).gF().a),"<ownerPronoun's> <subject>",this.T(r).gF().a),"<subject>",this.T(r).gF().a),"<subject's>",this.T(r).gF().c)
if(this.T(n)!=null)if(this.aj(r)!=null){k=J.Q(this.T(n))
j=J.Q(this.aj(r))
n=(k==null?j==null:k===j)&&this.T(n).gF()!==this.T(r).gF()}else n=!1
else n=!1
if(n)l=J.p(J.p(J.p(J.p(l,"<object-owner's> <object>",this.aj(r).gF().a),"<object-ownerPronoun's> <object>",this.aj(r).gF().a),"<object>",this.aj(r).gF().b),"<object's>",this.aj(r).gF().c)
if(r>=y.length)return H.f(y,r)
n=y[r].gaf()
if(r>=y.length)return H.f(y,r)
k=y[r].gav()
if(r>=y.length)return H.f(y,r)
j=y[r].gkM()
if(r>=y.length)return H.f(y,r)
i=y[r].gkJ()
if(n!=null){h=n.gU()?J.p(J.p(l,"<subject>","you"),"<subject's>","your"):l
g=n.gF()===C.F||n.gF()===C.ak
f=J.ar(h)
h=J.bC(g?J.p(J.p(J.p(J.p(J.p(f.bQ(h,"<s>",""),"<es>",""),"<ies>","y"),"<does>","do"),"<is>","are"),"<has>","have"):J.p(J.p(J.p(J.p(J.p(f.bQ(h,"<s>","s"),"<es>","es"),"<ies>","ies"),"<does>","does"),"<is>","is"),"<has>","has"),"<subject>","<subjectNoun>")
f=n.gF()
h=J.bC(Y.bQ(H.c1(h,"<subject>",f.a),"<subjectNoun>",n,j),"<subjectNoun>",n.gn(n))
g=n.gF()
h=H.c1(h,"<subjectPronoun>",g.a)
h=J.bC(Y.bQ(J.bf(l,new H.Y("<subject>.+<subject's>",H.a1("<subject>.+<subject's>",!1,!0,!1),null,null))===!0?J.p(h,"<subject's>",n.gF().c):h,"<subject's>",n,j),"<subject's>",H.e(n.gn(n))+"'s")
g=n.gF()
h=J.p(H.c1(h,"<subject's>",g.c),"<subjectPronoun's>",n.gF().c)}else h=l
if(k!=null){h=k.gU()?J.p(J.p(h,"<object>","you"),"<object's>","your"):J.p(Y.bQ(h,"<object>",k,i),"<object>",k.gn(k))
h=J.p(h,"<objectPronoun>",k.gF().b)
h=J.bC(Y.bQ(J.bf(l,new H.Y("<object>.+<object's>",H.a1("<object>.+<object's>",!1,!0,!1),null,null))===!0?J.p(h,"<object's>",k.gF().c):h,"<object's>",k,i),"<object's>",H.e(k.gn(k))+"'s")
n=k.gF()
h=J.p(H.c1(h,"<object's>",n.c),"<objectPronoun's>",k.gF().c)}m=S.d9(Y.hR(i,Y.hR(j,h,l,"<owner>","<owner's>","<ownerPronoun>","<ownerPronoun's>"),l,"<object-owner>","<object-owner's>","<object-ownerPronoun>","<object-ownerPronoun's>"))
z.a+=H.e((!p||q)&&!s?Y.oO(m):m)
if(u)v=r
if(r>=y.length)return H.f(y,r)
if(y[r].gcm())t=!0}q=w-1
if(q>>>0!==q||q>=y.length)return H.f(y,q)
if(!y[q].gcm())z.a+="."
y=z.a
return H.vs(y.charCodeAt(0)==0?y:y,$.$get$hQ(),new Y.oT(),null)},
d6:function(){return this.hk(!1)},
q:{
oO:function(a){var z,y
z=J.M(a)
if(z.D(a,"\n\n")!==!0)a=z.le(a)
z=J.M(a)
if(z.gB(a)===!0)return a
y=J.k2(z.h(a,0))
if(J.i(z.gi(a),1))return y
else return y+z.bg(a,1)},
hR:function(a,b,c,d,e,f,g){var z,y
if(a!=null){b=a.gU()?J.p(J.p(b,d,"you"),e,"your"):J.p(Y.bQ(b,d,a,null),d,a.gn(a))
b=J.p(b,f,a.gF().a)
z=d+".+"+e
b=J.bC(Y.bQ(J.bf(c,new H.Y(z,H.a1(z,!1,!0,!1),null,null))===!0?J.p(b,e,a.gF().c):b,e,a,null),e,H.e(a.gn(a))+"'s")
y=a.gF().c
H.ap(y)
b=J.p(H.c1(b,e,y),g,a.gF().c)}else b=J.p(J.p(J.p(J.p(b,d,""),e,""),f,""),g,"")
return b},
bQ:function(a,b,c,d){var z
if(d!=null){z=J.M(a)
z=z.ap(a,"<owner's> "+b)!==-1||z.ap(a,"<ownerPronoun's> "+b)!==-1||z.ap(a,"<object-owner's> "+b)!==-1||z.ap(a,"<object-ownerPronoun's> "+b)!==-1}else z=!1
if(z)return a
if(!c.gd1()){c.gcO()
a=J.bC(a,b,"the "+b)}return a}}},oP:{"^":"a:0;",
$1:function(a){return J.i(a.gae(),"\n\n")}},oU:{"^":"a:0;",
$1:function(a){return J.i(a.gae(),"\n\n")}},oQ:{"^":"a:54;",
$2:function(a,b){var z,y
z=J.M(a)
y=z.gW(a)?z.gw(a):null
if(y!=null)y.gku()
z.l(a,b)
return a}},oR:{"^":"a:28;a",
$1:function(a){return J.bf(this.a,a)}},oS:{"^":"a:0;",
$1:function(a){return J.i(a.gae(),"\n\n")}},oT:{"^":"a:52;",
$1:function(a){return H.e(a.h(0,1))+H.e(a.h(0,2))+H.e(a.h(0,3))}},bL:{"^":"nj;d1:a<,n:b>,c,cO:d<,ad:e<,ek:f<,U:r<,F:x<",
gA:function(a){return H.aI(this)},
gbv:function(){return!0}},nj:{"^":"b+e_;"},e_:{"^":"b;",
gcb:function(){if(this.gbv()){this.gek()
var z=!0}else z=!1
return z},
bO:function(a){var z,y
z=this.gad()
y=$.$get$bx()
if(J.i(z,y)||J.i(a.gad(),y))return!1
return!J.i(this.gad(),a.gad())},
ay:function(a,b,c,d,e,f,g,h){J.jB(a,b,c,d,e,f,g,h,H.c0(this,"$isbL"))},
by:function(a,b,c){return this.ay(a,b,!1,!1,!1,c,null,!1)},
ax:function(a,b){return this.ay(a,b,!1,!1,!1,null,null,!1)},
aP:function(a,b,c){return this.ay(a,b,c,!1,!1,null,null,!1)},
l1:function(a,b,c,d){return this.ay(a,b,c,!1,!1,null,null,d)},
d9:function(a,b,c){return this.ay(a,b,!1,!1,!1,null,null,c)},
da:function(a,b,c,d){return this.ay(a,b,c,!1,!1,d,null,!1)},
aV:function(a,b,c){return this.ay(a,b,!1,!1,c,null,null,!1)},
eA:function(a,b,c,d){return this.ay(a,b,!1,c,d,null,null,!1)},
bz:function(a,b,c,d){return this.ay(a,b,!1,!1,!1,c,null,d)},
l0:function(a,b,c){return this.ay(a,b,!1,c,!1,null,null,!1)},
l2:function(a,b,c,d){return this.ay(a,b,!1,!1,c,d,null,!1)}},cm:{"^":"b;a,b,c,d",
k:function(a){return this.a}}}],["","",,Q,{"^":"",fm:{"^":"b;",
cP:function(a,b,c){var z=this
return new P.dw(function(){var y=a,x=b,w=c
var v=0,u=2,t,s,r,q,p
return function $async$cP(d,e){if(d===1){t=e
v=u}while(true)switch(v){case 0:s=z.eR(y,x.gcn())
r=J.H(s)
v=r.aD(s,0)?3:4
break
case 3:q=A.ih(w)
v=5
return B.ed(q,x,z,z.f7(q,y,w,z.gfU()),s,!1,!1,!0)
case 5:case 4:v=r.a_(s,1)?6:7
break
case 6:v=!z.gh4()?8:9
break
case 8:r=H.d([],[Y.ay])
if(typeof s!=="number")H.n(s)
else ;v=10
return B.ed(w,x,z,new Y.ai(r,0),1-s,!0,!1,!1)
case 10:v=1
break
case 9:q=A.ih(w)
p=z.f7(q,y,w,z.gfT())
if(typeof s!=="number")H.n(s)
else ;v=11
return B.ed(q,x,z,p,1-s,!0,!1,!1)
case 11:case 7:case 1:return P.ds()
case 2:return P.dt(t)}}})},
f7:function(a,b,c,d){var z,y,x,w,v,u,t
z=a.a.b_(0,new Q.k6(b))
y=new O.k4(null,null,null,C.z,null,null,null)
y.f=this.gn(this)
y.a=b
y.kC(c)
x=new Y.ai(H.d([],[Y.ay]),0)
w=a.e
v=J.Q(w.length!==0?C.a.gw(w):null)
u=a.gv(a);(w.length!==0?C.a.gw(w):null).d2(a,x)
if(a.gv(a)!==u)throw H.c(new P.y("Please don't change the world in onBeforeAction"))
this.a=d.$3(z,a,x)
a.hs(v,new Q.k7())
t=a.f
if(typeof t!=="number")return t.I()
a.f=t+1
t=a.hz(v)
if(!(t==null))t.hg(a,x)
while(!0){t=w.length!==0?C.a.gw(w):null
t=t==null?t:J.c5(t)
if((t==null?t:t.dj(a))!=null){t=w.length!==0?C.a.gw(w):null
t=t==null?t:J.c5(t)
t=!J.i(t==null?t:t.eW(a),!0)}else t=!0
if(!t)break
if((w.length!==0?C.a.gw(w):null)==null)break
C.a.hl(w)}if(this.a==null)H.t(new P.y("No description given when executing "+this.k(0)+". You should return it from your world-modifying function."))
y.e=a
y.b=this.a
y.r=a.f
a.c.l(0,y.G())
return x}},k6:{"^":"a:0;a",
$1:function(a){return J.i(J.Q(a),J.Q(this.a))}},k7:{"^":"a:0;",
$1:function(a){var z,y
z=J.q(a)
y=z.gat(a).ee()
z.sat(a,y)
return y}},kC:{"^":"fm;n:b>,c,d,e,f,h4:r<,a",
jB:[function(a,b,c){return this.im(a,b,c)},"$3","gfT",6,0,0],
jC:[function(a,b,c){return this.io(a,b,c)},"$3","gfU",6,0,0],
eR:function(a,b){return this.f},
cZ:function(a,b){return this.iM(a,b)},
k:function(a){return this.b},
iM:function(a,b){return this.c.$2(a,b)},
io:function(a,b,c){return this.d.$3(a,b,c)},
im:function(a,b,c){return this.e.$3(a,b,c)},
q:{
dX:function(a,b,c,d,e){return new Q.kC(a,b,c,d,e,!0,null)}}},k3:{"^":"b;"},aD:{"^":"k3;n:a>,b,c,d,e",
jG:function(a,b){var z,y,x
z=b.e
y=J.c5(z.length!==0?C.a.gw(z):null).bf(b.a,b)
x=H.d(new H.a7(y,new Q.ln(a)),[H.w(y,"x",0)])
return H.b2(x,new Q.lo(this),H.w(x,"x",0),null)},
k:function(a){return"EnemyTargetActionBuilder<"+this.a+">"},
eN:function(a,b,c){return this.b.$3(a,b,c)}},ln:{"^":"a:0;a",
$1:function(a){var z,y
z=a.gad()
y=this.a.gad()
z=z.a
y=y.a
return z==null?y!=null:z!==y}},lo:{"^":"a:11;a",
$1:function(a){var z,y
z=new Y.ai(H.d([],[Y.ay]),0)
y=this.a
z.jp(0,y.a,a)
return new Q.lm(z.d6(),y.b,y.c,y.d,y.e,a,null)}},lm:{"^":"fm;n:b>,c,d,e,f,r,a",
jB:[function(a,b,c){return this.ka(a,this.r,b,c)},"$3","gfT",6,0,0],
jC:[function(a,b,c){return this.hU(a,this.r,b,c)},"$3","gfU",6,0,0],
gh4:function(){return this.e!=null},
eR:function(a,b){return this.jH(a,this.r,b)},
cZ:function(a,b){return this.eN(a,this.r,b)},
k:function(a){return this.b},
eN:function(a,b,c){return this.c.$3(a,b,c)},
hU:function(a,b,c,d){return this.d.$4(a,b,c,d)},
ka:function(a,b,c,d){return this.e.$4(a,b,c,d)},
jH:function(a,b,c){return this.f.$3(a,b,c)}}}],["","",,O,{"^":"",
xr:[function(a){return J.Q(a)},"$1","tl",2,0,5],
cM:{"^":"b;c5:a<,fQ:b<,N:c<,hj:d<,e,kx:f<,r",
gv:function(a){var z=this.d
return X.jc(this.c,this.a,X.a9(z==null?H.d(new P.iG(0,null,null,null,null,null,0),[null]):P.aU([z],null)),X.a9(this.f))},
p:function(a,b){var z
if(b==null)return!1
z=J.m(b)
return!!z.$iscM&&this.gv(this)===z.gv(b)},
k:function(a){return"ActionRecord<"+H.e(this.b)+", "+H.e(this.a)+">"}},
k4:{"^":"b;a,b,c,d,e,fQ:f<,N:r<",
gc5:function(){return this.b},
ghj:function(){return this.a},
G:function(){var z,y,x,w,v,u,t,s,r
z=this.d
switch(z){case C.z:y=this.e.a
break
case C.ad:y=P.aU(H.d([this.a],[R.S]),R.S)
break
default:throw H.c(new P.cu("Mode "+z.k(0)+" not implemented"))}x=R.dS(P.R)
z=this.e.a
w=H.d(new H.a7(z,new O.k5(this)),[H.k(z,0)])
for(z=H.d(new H.ig(J.am(w.a),w.b),[H.k(w,0)]),v=z.a;z.m();){u=v.gt()
x.j(0,u,J.F(u.bE(this.e),this.c.h(0,u)))}z=this.r
v=this.f
t=this.b
s=J.Q(this.a)
r=H.d(new H.bJ(y,O.tl()),[H.k(y,0),null])
r=P.aU(r,H.w(r,"x",0))
return new O.cM(t,v,z,s,P.E(null,null,null,P.u),r,x)},
kC:function(a){var z,y
this.c=R.dS(P.R)
for(z=a.a,z=H.d(new P.aA(z,z.r,null,null),[null]),z.c=z.a.e;z.m();){y=z.d
this.c.j(0,y,y.bE(a))}}},
k5:{"^":"a:0;a",
$1:function(a){var z=this.a.c
return z.gV(z).D(0,a)}},
hb:{"^":"b;a",
k:function(a){return C.ah.h(0,this.a)}}}],["","",,R,{"^":"",S:{"^":"nk;",
gbv:function(){return this.f>0},
bE:function(a){var z,y
if(this.dx!=null)return this.lj(this,a)
z=a.a
y=H.d(new H.a7(z,new R.ki(this)),[H.k(z,0)]).ab(0,0,new R.kj())
if(typeof y!=="number")return H.n(y)
z=H.d(new H.a7(z,new R.kk(this)),[H.k(z,0)]).ab(0,0,new R.kl())
if(typeof z!=="number")return H.n(z)
return 10*this.f+y-z},
aZ:function(a){var z=this.c
return z!=null&&z.a===a},
$isbL:1},nk:{"^":"b+e_;"},ki:{"^":"a:0;a",
$1:function(a){return J.i(a.gad(),this.a.db)}},kj:{"^":"a:3;",
$2:function(a,b){return J.P(a,2*b.gaL())}},kk:{"^":"a:0;a",
$1:function(a){return a.bO(this.a)}},kl:{"^":"a:3;",
$2:function(a,b){return J.P(a,b.gaL())}},k8:{"^":"b;cO:a<,an:c<,J:e@,aL:f@,A:r>,U:z<,n:ch*,d1:cx<,F:cy<,ad:db<"},dR:{"^":"bG;a,b,c",
gv:function(a){var z=this.gak(this)
return X.a9(P.a2(z,!1,H.w(z,"x",0)))},
p:function(a,b){var z,y
if(b==null)return!1
z=J.m(b)
if(!!z.$isdR){y=this.gak(this)
y=X.a9(P.a2(y,!1,H.w(y,"x",0)))
z=z.gak(b)
z=y===X.a9(P.a2(z,!1,H.w(z,"x",0)))}else z=!1
return z},
$asbG:function(a){return[P.u,R.S,a]},
$asN:function(a){return[R.S,a]},
q:{
dS:function(a){var z=H.d(new H.Z(0,null,null,null,null,null,0),[P.u,[B.ht,R.S,a]])
return H.d(new R.dR(new R.ka(),new R.kb(),z),[a])},
k9:function(a,b){var z=R.dS(b)
a.u(0,new R.tB(b,z))
return z}}},ka:{"^":"a:11;",
$1:function(a){return J.Q(a)}},kb:{"^":"a:0;",
$1:function(a){return a!=null}},tB:{"^":"a;a,b",
$2:function(a,b){this.b.j(0,a,b)
return b},
$signature:function(){return H.aq(function(a){return{func:1,args:[R.S,a]}},this,"dR")}},ef:{"^":"b;a",
k:function(a){return C.D.h(0,this.a)}},pJ:{"^":"S;cO:a<,b,an:c<,d,J:e<,aL:f<,A:r>,x,ek:y<,U:z<,Q,n:ch>,d1:cx<,F:cy<,ad:db<,dx",
ac:function(a){var z=new R.cw(!0,H.d([],[P.h]),null,null,C.c,1,null,100,!0,!1,P.E(null,null,null,null),null,!0,C.k,$.$get$f6(),null)
z.a=!0
z.b=this.b
z.c=this.c
z.d=this.d
z.e=this.e
z.f=this.f
z.r=this.r
z.x=this.x
z.y=!0
z.z=this.z
z.Q=this.Q
z.ch=this.ch
z.cx=this.cx
z.cy=this.cy
z.db=this.db
z.dx=this.dx
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof R.S))return!1
if(this.b===b.b){z=this.c
y=b.c
if(z==null?y==null:z===y)if(this.e===b.e)if(this.f===b.f){z=this.r
y=b.r
if(z==null?y==null:z===y)if(this.x===b.x)z=this.z===b.z&&this.Q===b.Q&&J.i(this.ch,b.ch)&&this.cx===b.cx&&this.cy===b.cy&&J.i(this.db,b.db)&&J.i(this.dx,b.dx)
else z=!1
else z=!1}else z=!1
else z=!1
else z=!1}else z=!1
return z},
gv:function(a){return X.a9([!0,this.b,this.c,this.d,this.e,this.f,this.r,this.x,!0,this.z,this.Q,this.ch,this.cx,this.cy,this.db,this.dx])},
k:function(a){return"Actor {alreadyMentioned="+String(!0)+"\ncategories="+P.bk(this.b,"[","]")+"\ncurrentWeapon="+J.A(this.c)+"\nshield="+C.a2.k(this.d)+"\npose="+H.e(C.D.h(0,this.e.a))+"\nhitpoints="+C.e.k(this.f)+"\nid="+J.A(this.r)+"\ninitiative="+C.e.k(this.x)+"\nisActive="+String(!0)+"\nisPlayer="+String(this.z)+"\nitems="+P.bk(this.Q,"{","}")+"\nname="+H.e(J.A(this.ch))+"\nnameIsProperNoun="+String(this.cx)+"\npronoun="+this.cy.a+"\nteam="+J.A(this.db)+"\nworldScoringFunction="+H.e(J.A(this.dx))+"\n}"},
lj:function(a,b){return this.dx.$2(a,b)}},cw:{"^":"k8;a,b,c,d,e,f,r,x,y,z,Q,ch,cx,cy,db,dx",
G:function(){var z,y,x,w,v,u,t,s,r,q,p,o,n,m
z=this.r
if(z==null)throw H.c(P.r("null id"))
y=this.ch
if(y==null)throw H.c(P.r("null name"))
x=this.db
if(x==null)throw H.c(P.r("null team"))
w=this.b
v=this.c
u=this.d
t=this.e
s=this.f
r=this.x
q=this.z
p=this.Q
o=this.cx
n=this.cy
m=this.dx
if(z==null)H.t(P.r("null id"))
if(y==null)H.t(P.r("null name"))
if(x==null)H.t(P.r("null team"))
return new R.pJ(!0,w,v,u,t,s,z,r,!0,q,p,y,o,n,x,m)}}}],["","",,S,{"^":"",
fC:function(a,b,c){var z=new S.ii(0,null,null)
new S.u2(a,b,c).$1(z)
return z.G()},
fB:{"^":"op;",
gn:function(a){return"CounterAttackSituation"},
gbm:function(){return[$.$get$f5()]},
gaI:function(){return[$.$get$j3()]},
be:function(a,b){if(a===0)return b.Z(this.b)
return},
bf:function(a,b){return H.d(new H.a7(a,new S.kM(this)),[H.k(a,0)])}},
op:{"^":"bo+b7;"},
u2:{"^":"a:0;a,b,c",
$1:function(a){var z=this.a
a.b=z.gA(z)
a.c=J.Q(this.b)
a.a=this.c
return a}},
kM:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.i(z.gA(a),y.b)||J.i(z.gA(a),y.c)}},
kL:{"^":"b;N:a@"},
pK:{"^":"fB;N:a<,b,c",
ac:function(a){var z=new S.ii(0,null,null)
z.a=this.a
z.b=this.b
z.c=this.c
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof S.fB))return!1
if(this.a===b.a){z=this.b
y=b.b
z=(z==null?y==null:z===y)&&J.i(this.c,b.c)}else z=!1
return z},
gv:function(a){return X.a9([this.a,this.b,this.c])},
k:function(a){return"CounterAttackSituation {time="+C.e.k(this.a)+"\ncounterAttacker="+J.A(this.b)+"\ntarget="+H.e(J.A(this.c))+"\n}"}},
ii:{"^":"kL;a,b,c",
G:function(){var z,y,x
z=this.b
if(z==null)throw H.c(P.r("null counterAttacker"))
y=this.c
if(y==null)throw H.c(P.r("null target"))
x=this.a
if(z==null)H.t(P.r("null counterAttacker"))
if(y==null)H.t(P.r("null target"))
return new S.pK(x,z,y)}}}],["","",,U,{"^":"",fV:{"^":"oq;",
gaI:function(){return[$.$get$jg(),$.$get$jt(),$.$get$jq()]},
gbm:function(){return[$.$get$jn(),$.$get$jr()]},
gn:function(a){return"FightSituation"},
be:function(a,b){var z,y,x
z=X.iX(this.c,this.a)
y=H.d(new H.a7(z,new U.lw(b)),[H.w(z,"x",0)])
x=P.a2(y,!1,H.w(y,"x",0))
return b.Z(x[C.e.hA(a,x.length)])},
bf:function(a,b){return H.d(new H.a7(a,new U.lx(this)),[H.k(a,0)])},
d2:function(a,b){var z,y
z=this.d
y=this.b.a
if(y.L(0,z))y.h(0,z).$2(a,b)},
eW:function(a){var z,y
z=new U.ly(a)
y=this.c
return z.$1(y)===!0&&z.$1(this.a)===!0&&J.fc(y,new U.lA(a))}},oq:{"^":"bo+b7;"},lw:{"^":"a:0;a",
$1:function(a){return this.a.Z(a).gcb()}},lx:{"^":"a:11;a",
$1:function(a){var z
if(a.gcb()){z=this.a
z=J.bf(z.c,a.gA(a))||J.bf(z.a,a.gA(a))}else z=!1
return z}},ly:{"^":"a:42;a",
$1:function(a){return J.fc(a,new U.lz(this.a))}},lz:{"^":"a:0;a",
$1:function(a){return this.a.Z(a).gcb()}},lA:{"^":"a:38;a",
$1:function(a){var z=this.a.Z(a)
return z.gU()&&z.gcb()}},lv:{"^":"b;N:a@"},pL:{"^":"fV;a,b,c,N:d<",
ac:function(a){var z,y,x
z=H.d(new A.d0(null,null),[P.u,{func:1,v:true,args:[A.ak,Y.ai]}])
z.bH()
z.d8(0,C.C)
z=new U.ij(0,null,null,z)
z.c=this.a
y=this.b
if(!(y==null)){x=H.d(new A.d0(null,null),[H.k(y,0),H.k(y,1)])
x.bH()
x.d8(0,y)
y=x}z.d=y
z.b=this.c
z.a=this.d
a.$1(z)
return z.G()},
p:function(a,b){if(b==null)return!1
if(!(b instanceof U.fV))return!1
return J.i(this.a,b.a)&&J.i(this.b,b.b)&&J.i(this.c,b.c)&&this.d===b.d},
gv:function(a){return X.a9([this.a,this.b,this.c,this.d])},
k:function(a){return"FightSituation {enemyTeamIds="+J.A(this.a)+"\nevents="+J.A(this.b)+"\nplayerTeamIds="+J.A(this.c)+"\ntime="+C.e.k(this.d)+"\n}"}},ij:{"^":"lv;a,b,c,d",
G:function(){var z,y,x,w
z=this.c
if(z==null)throw H.c(P.r("null enemyTeamIds"))
y=this.d
if(y==null)throw H.c(P.r("null events"))
if(this.b==null)throw H.c(P.r("null playerTeamIds"))
y=y.G()
x=this.b
w=this.a
if(z==null)H.t(P.r("null enemyTeamIds"))
if(y==null)H.t(P.r("null events"))
if(x==null)H.t(P.r("null playerTeamIds"))
return new U.pL(z,y,x,w)}}}],["","",,U,{"^":"",hr:{"^":"or;",
gn:function(a){return"OffBalanceOpportunitySituation"},
gbm:function(){return[$.$get$f5()]},
gaI:function(){return[$.$get$f4()]},
be:function(a,b){var z,y,x,w
if(a>0)return
z=b.Z(this.b)
y=b.a
y=H.d(new H.a7(y,new U.nm(this,z)),[H.k(y,0)])
x=P.a2(y,!0,H.w(y,"x",0))
if(x.length!==0){w=C.a.gM(x)
if($.$get$f4().eN(w,z,b)===!0)return w}return},
bf:function(a,b){return H.d(new H.a7(a,new U.nn(b.Z(this.b))),[H.k(a,0)])}},or:{"^":"bo+b7;"},nm:{"^":"a:0;a,b",
$1:function(a){var z,y
if(a.gcb())if(a.bO(this.b)){z=a.gA(a)
y=this.a.c
y=z==null?y!=null:z!==y
z=y}else z=!1
else z=!1
return z}},nn:{"^":"a:0;a",
$1:function(a){var z=this.a
return J.i(a,z)||a.bO(z)}},nl:{"^":"b;N:a@"},pM:{"^":"hr;N:a<,b,c",
ac:function(a){var z=new U.ik(0,null,null)
z.a=this.a
z.b=this.b
z.c=this.c
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.hr))return!1
if(this.a===b.a){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
y=z==null?y==null:z===y
z=y}else z=!1}else z=!1
return z},
gv:function(a){return X.a9([this.a,this.b,this.c])},
k:function(a){return"OffBalanceOpportunitySituation {time="+C.e.k(this.a)+"\nactorId="+J.A(this.b)+"\nculpritId="+J.A(this.c)+"\n}"}},ik:{"^":"nl;a,b,c",
G:function(){var z,y,x
z=this.b
if(z==null)throw H.c(P.r("null actorId"))
y=this.a
x=this.c
if(z==null)H.t(P.r("null actorId"))
return new U.pM(y,z,x)}}}],["","",,V,{"^":"",
np:function(a,b,c){var z=new V.il(0,null,null)
new V.tC(a,b,c).$1(z)
return z.G()},
hs:{"^":"os;",
gaI:function(){return[$.$get$ji(),$.$get$jp()]},
gn:function(a){return"OnGroundDefenseSituation"},
be:function(a,b){if(a===0)return b.Z(this.b)
return},
bf:function(a,b){return H.d(new H.a7(a,new V.nq(this)),[H.k(a,0)])}},
os:{"^":"bo+b7;"},
tC:{"^":"a:0;a,b,c",
$1:function(a){var z=this.a
a.b=z.gA(z)
a.c=J.Q(this.b)
a.a=this.c
return a}},
nq:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.i(z.gA(a),y.a)||J.i(z.gA(a),y.b)}},
no:{"^":"b;N:a@"},
pN:{"^":"hs;a,b,N:c<",
ac:function(a){var z=new V.il(0,null,null)
z.b=this.a
z.c=this.b
z.a=this.c
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof V.hs))return!1
z=this.a
y=b.a
return(z==null?y==null:z===y)&&J.i(this.b,b.b)&&this.c===b.c},
gv:function(a){return X.a9([this.a,this.b,this.c])},
k:function(a){return"OnGroundDefenseSituation {attacker="+J.A(this.a)+"\ntargetOnGround="+H.e(J.A(this.b))+"\ntime="+C.e.k(this.c)+"\n}"}},
il:{"^":"no;a,b,c",
G:function(){var z,y,x
z=this.b
if(z==null)throw H.c(P.r("null attacker"))
y=this.c
if(y==null)throw H.c(P.r("null targetOnGround"))
x=this.a
if(z==null)H.t(P.r("null attacker"))
if(y==null)H.t(P.r("null targetOnGround"))
return new V.pN(z,y,x)}}}],["","",,L,{"^":"",
hH:function(a,b,c){var z=new L.io(0,null,null)
new L.tT(a,b,c).$1(z)
return z.G()},
hG:{"^":"ot;",
gn:function(a){return"SlashDefenseSituation"},
gaI:function(){return[$.$get$j5(),$.$get$jj(),$.$get$j4()]},
be:function(a,b){if(a===0)return b.Z(this.c)
return},
bf:function(a,b){return H.d(new H.a7(a,new L.oA(this)),[H.k(a,0)])}},
ot:{"^":"bo+b7;"},
tT:{"^":"a:0;a,b,c",
$1:function(a){var z=this.a
a.b=z.gA(z)
a.c=J.Q(this.b)
a.a=this.c
return a}},
oA:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.i(z.gA(a),y.b)||J.i(z.gA(a),y.c)}},
oz:{"^":"b;N:a@"},
pP:{"^":"hG;N:a<,b,c",
ac:function(a){var z=new L.io(0,null,null)
z.a=this.a
z.b=this.b
z.c=this.c
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.hG))return!1
if(this.a===b.a){z=this.b
y=b.b
z=(z==null?y==null:z===y)&&J.i(this.c,b.c)}else z=!1
return z},
gv:function(a){return X.a9([this.a,this.b,this.c])},
k:function(a){return"SlashDefenseSituation {time="+C.e.k(this.a)+"\nattacker="+J.A(this.b)+"\ntarget="+H.e(J.A(this.c))+"\n}"}},
io:{"^":"oz;a,b,c",
G:function(){var z,y,x
z=this.b
if(z==null)throw H.c(P.r("null attacker"))
y=this.c
if(y==null)throw H.c(P.r("null target"))
x=this.a
if(z==null)H.t(P.r("null attacker"))
if(y==null)H.t(P.r("null target"))
return new L.pP(x,z,y)}}}],["","",,M,{"^":"",
hJ:function(a,b,c){var z=new M.ip(0,null,null)
new M.u8(a,b,c).$1(z)
return z.G()},
hI:{"^":"ou;",
gaI:function(){return[$.$get$j9()]},
gn:function(a){return"SlashSituation"},
be:function(a,b){if(a===0)return b.Z(this.a)
return},
bf:function(a,b){return H.d(new H.a7(a,new M.oC(this)),[H.k(a,0)])}},
ou:{"^":"bo+b7;"},
u8:{"^":"a:0;a,b,c",
$1:function(a){var z=this.a
a.b=z.gA(z)
a.c=J.Q(this.b)
a.a=this.c
return a}},
oC:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.i(z.gA(a),y.a)||J.i(z.gA(a),y.b)}},
oB:{"^":"b;N:a@"},
pQ:{"^":"hI;a,b,N:c<",
ac:function(a){var z=new M.ip(0,null,null)
z.b=this.a
z.c=this.b
z.a=this.c
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof M.hI))return!1
z=this.a
y=b.a
return(z==null?y==null:z===y)&&J.i(this.b,b.b)&&this.c===b.c},
gv:function(a){return X.a9([this.a,this.b,this.c])},
k:function(a){return"SlashSituation {attacker="+J.A(this.a)+"\ntarget="+H.e(J.A(this.b))+"\ntime="+C.e.k(this.c)+"\n}"}},
ip:{"^":"oB;a,b,c",
G:function(){var z,y,x
z=this.b
if(z==null)throw H.c(P.r("null attacker"))
y=this.c
if(y==null)throw H.c(P.r("null target"))
x=this.a
if(z==null)H.t(P.r("null attacker"))
if(y==null)H.t(P.r("null target"))
return new M.pQ(z,y,x)}}}],["","",,D,{"^":"",
pf:function(a,b,c){var z=new D.iq(0,null,null)
new D.tM(a,b,c).$1(z)
return z.G()},
hT:{"^":"ov;",
gn:function(a){return"StrikeDownSituation"},
gaI:function(){return[$.$get$ja()]},
be:function(a,b){if(a===0)return b.Z(this.b)
return},
bf:function(a,b){return H.d(new H.a7(a,new D.pg(this)),[H.k(a,0)])}},
ov:{"^":"bo+b7;"},
tM:{"^":"a:0;a,b,c",
$1:function(a){var z=this.a
a.b=z.gA(z)
a.c=J.Q(this.b)
a.a=this.c
return a}},
pg:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.i(z.gA(a),y.b)||J.i(z.gA(a),y.c)}},
pe:{"^":"b;N:a@"},
pR:{"^":"hT;N:a<,b,c",
ac:function(a){var z=new D.iq(0,null,null)
z.a=this.a
z.b=this.b
z.c=this.c
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof D.hT))return!1
if(this.a===b.a){z=this.b
y=b.b
z=(z==null?y==null:z===y)&&J.i(this.c,b.c)}else z=!1
return z},
gv:function(a){return X.a9([this.a,this.b,this.c])},
k:function(a){return"StrikeDownSituation {time="+C.e.k(this.a)+"\nattacker="+J.A(this.b)+"\ntargetOnGround="+H.e(J.A(this.c))+"\n}"}},
iq:{"^":"pe;a,b,c",
G:function(){var z,y,x
z=this.b
if(z==null)throw H.c(P.r("null attacker"))
y=this.c
if(y==null)throw H.c(P.r("null targetOnGround"))
x=this.a
if(z==null)H.t(P.r("null attacker"))
if(y==null)H.t(P.r("null targetOnGround"))
return new D.pR(x,z,y)}}}],["","",,U,{"^":"",
vv:function(a){switch(a){case C.Z:return"spear"
case C.a_:return"branch"
case C.a0:return"tent"
case C.h:return"sword"
default:throw H.c(P.r(a))}},
cX:{"^":"b;a",
k:function(a){return C.ag.h(0,this.a)}},
e5:{"^":"hq;",
gc5:function(){return U.vv(this.a)},
$isbL:1},
hq:{"^":"b+e_;"},
dg:{"^":"e5;b,c,cO:d<,ek:e<,ad:f<,n:r>,a",
gA:function(a){return H.aI(this)},
gbv:function(){return!1},
gU:function(){return!1},
gd1:function(){return!1},
gF:function(){return C.k},
$ase5:I.al,
$ashq:I.al}}],["","",,K,{"^":"",n6:{"^":"b;a,jk:b<,c"},n7:{"^":"b;"}}],["","",,B,{"^":"",cl:{"^":"b;cn:a<,b,f_:c<,kQ:d<,cV:e<,f,r,x,d3:y>",
gv:function(a){return X.a9([this.a,this.e,this.b,this.d,this.y,this.f,this.r,this.x])},
p:function(a,b){var z
if(b==null)return!1
z=J.m(b)
return!!z.$iscl&&this.gv(this)===z.gv(b)},
k:function(a){var z,y
z=this.a
y=J.m(z)
z="PlanConsequence<"+y.gv(z)+", "+y.k(z)+", "+J.A(this.b)+", "+H.e(this.d)+", "+H.e(this.y)+", "
return z+(this.x?"isSuccess":"")+">"},
f2:function(a,b,c,d,e,f,g,h){this.c.b=this.a.f},
q:{
ed:function(a,b,c,d,e,f,g,h){var z,y
z=b==null
y=z?0:J.P(b.gd3(b),1)
y=new B.cl(a,c,d,e,z?e:J.cH(e,b.gcV()),g,f,h,y)
y.f2(a,b,c,d,e,f,g,h)
return y}}},fy:{"^":"b;cr:a<,cV:b<,d3:c>"}}],["","",,G,{"^":"",kc:{"^":"b;a,b,c,d,e",
eP:function(){var z=this
return new P.dw(function(){var y=0,x=1,w,v,u,t,s
return function $async$eP(a,b){if(a===1){w=b
y=x}while(true)switch(y){case 0:v=z.e,u=v.gV(v),u=u.gE(u),t=0
case 2:if(!u.m()){y=3
break}s=u.gt()
y=4
return""+t+") "+H.e(s)+"\t"+J.k1(v.h(0,s),2)
case 4:++t
y=2
break
case 3:return P.ds()
case 1:return P.dt(w)}}})},
dS:function(a,b){return new P.dw(function(){var z=a,y=b
var x=0,w=1,v,u,t,s
return function $async$dS(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=y
x=2
return P.iD((u.geY().length!==0?C.a.gw(u.e):null).gbm())
case 2:u=y
u=(u.geY().length!==0?C.a.gw(u.e):null).gaI()
t=u.length
s=0
case 3:if(!(s<u.length)){x=5
break}x=6
return P.iD(u[s].jG(z,y))
case 6:case 4:u.length===t||(0,H.a3)(u),++s
x=3
break
case 5:return P.ds()
case 1:return P.dt(v)}}})},
d4:function(a,b){var z=0,y=new P.aQ(),x=1,w,v=this,u,t,s,r,q,p,o,n,m
var $async$d4=P.aM(function(c,d){if(c===1){w=d
z=x}while(true)switch(z){case 0:u=v.e
u.R(0)
t=v.b
s=t.a
r=s.a.b_(0,new G.kh(v))
q=r.bE(s)
p=new P.bU(v.dS(r,s).a(),null,null,null)
case 2:if(!p.m()){z=3
break}o=p.c
n=o==null?p.b:o.gt()
if(n.cZ(r,s)!==!0){z=2
break}else ;z=4
return P.z(v.bL(t,n,a,b).as(0),$async$d4,y)
case 4:m=d
if(J.fg(m)===!0){u.j(0,n,-1/0)
z=2
break}else ;u.j(0,n,v.jN(m,q,a))
z=2
break
case 3:v.d=!0
return P.z(null,0,y,null)
case 1:return P.z(w,1,y)}})
return P.z(null,$async$d4,y,null)},
jN:function(a,b,c){var z,y,x,w,v,u,t,s
z=H.d([],[P.R])
for(y=J.am(a),x=null;y.m()===!0;){w=y.gt()
if(J.a4(w.gcV(),0.3))if(x==null)x=w
else if(J.a4(w.gcr(),x.gcr()))x=w
z.push(J.cH(J.F(w.gcr(),b),w.b))}y=C.a.ab(z,0,new G.kg())
v=z.length
if(typeof y!=="number")return y.di()
if(x==null)u=0
else{t=x.gcr()
s=x.c
if(typeof t!=="number")return t.di()
if(typeof s!=="number")return H.n(s)
u=t/s}return u+y/v},
bL:function(a,b,c,d){var $async$bL=P.aM(function(e,f){switch(e){case 2:u=x
z=u.pop()
break
case 1:v=f
z=w}while(true)switch(z){case 0:s=a.a
r=s.a.b_(0,new G.kd(t))
r.bE(s)
q=P.b1(null,B.cl)
p=P.E(null,null,null,A.ak)
if(b.cZ(r,s)!==!0){z=1
break}else ;o=J.m(s)
n=o.gv(s)
for(m=new P.bU(b.cP(r,a,s).a(),null,null,null);m.m();){l=m.c
k=l==null?m.b:l.gt()
if(o.gv(s)!==n)throw H.c(new P.y("Action "+H.e(b)+" modified world state when producing "+H.e(k)+"."))
else ;q.a6(k)}case 3:if(!!q.gB(q)){z=4
break}z=1000*(Date.now()-$.$get$dT().a)>15e3?5:6
break
case 5:z=7
return P.cy(d.$0(),$async$bL,y)
case 7:$.dT=new P.bH(Date.now(),!1)
case 6:j=q.ci()
if(J.bA(J.jI(j),c)){z=4
break}else ;z=j.gcn().e.length===0?8:9
break
case 8:s=j.a
z=10
x=[1]
return P.cy(P.iC(new B.fy(s.a.b_(0,new G.ke(t)).bE(s),j.e,j.y)),$async$bL,y)
case 10:z=3
break
case 9:s=j.a
o=s.e
i=J.c5(o.length!==0?C.a.gw(o):null).dj(s)
r=s.a.b_(0,new G.kf(t))
J.i(i,r)
z=11
x=[1]
return P.cy(P.iC(new B.fy(r.bE(s),j.e,j.y)),$async$bL,y)
case 11:for(o=new P.bU(t.dS(i,s).a(),null,null,null);o.m();){m=o.c
h=m==null?o.b:m.gt()
if(h.cZ(i,s)!==!0)continue
else ;for(m=new P.bU(h.cP(i,j,s).a(),null,null,null);m.m();){l=m.c
g=l==null?m.b:l.gt();++t.c
if(J.aC(g.gcV(),0.05))continue
else ;if(p.D(0,g.gcn()))continue
else ;q.a6(g)}}p.l(0,s)
z=3
break
case 4:case 1:return P.cy(null,0,y)
case 2:return P.cy(v,1,y)}})
var z=0,y=P.q4($async$bL),x,w=2,v,u=[],t=this,s,r,q,p,o,n,m,l,k,j,i,h,g
return P.tj(y)}},kh:{"^":"a:0;a",
$1:function(a){return J.i(J.Q(a),this.a.a)}},kg:{"^":"a:3;",
$2:function(a,b){return J.P(a,b)}},kd:{"^":"a:0;a",
$1:function(a){return J.i(J.Q(a),this.a.a)}},ke:{"^":"a:0;a",
$1:function(a){return J.i(J.Q(a),this.a.a)}},kf:{"^":"a:0;a",
$1:function(a){return J.i(J.Q(a),this.a.a)}},ee:{"^":"b;a,bm:b<",
gB:function(a){return this.b.length===0},
q:{
wO:[function(a,b){return J.P(a,b)},"$2","jl",4,0,6],
nw:function(a){var z,y,x,w,v,u,t,s,r,q
z={}
if(a.gB(a)){P.a6("WARNING: no recommendations")
return new G.ee([],[])}y=a.gV(a)
x=P.a2(y,!0,H.w(y,"x",0))
C.a.aJ(x,"removeWhere")
C.a.e3(x,new G.uz(a),!0)
if(x.length===1)return new G.ee([1000],x)
C.a.cs(x,new G.uA(a))
w=a.gak(a).ab(0,1/0,P.vk())
v=a.gak(a).ab(0,-1/0,P.vj())
y=J.H(v)
u=J.H(w)
t=u.O(w,J.cH(y.O(v,w),0.1))
z.a=t
if(u.p(w,v)){t=J.F(t,1)
z.a=t
u=t}else u=t
s=y.O(v,u)
r=P.hg(x.length,new G.uC(z,a,x,s),!1,P.bz)
q=H.d(new H.aH(r,new G.uD(C.a.ab(r,0,G.jl()))),[null,null]).az(0,!1)
z=C.a.ab(q,0,G.jl())
if(typeof z!=="number")return H.n(z)
u=q.length
y=u-1
if(y<0)return H.f(q,y)
z=J.P(q[y],1000-z)
if(y>=q.length)return H.f(q,y)
q[y]=z
return new G.ee(q,x)}}},uz:{"^":"a:0;a",
$1:function(a){return J.i(this.a.h(0,a),-1/0)}},uA:{"^":"a:3;a",
$2:function(a,b){var z=this.a
return J.jx(J.cJ(z.h(0,a),z.h(0,b)))}},uC:{"^":"a:9;a,b,c,d",
$1:function(a){var z,y
z=this.c
if(a>=z.length)return H.f(z,a)
z=J.F(this.b.h(0,z[a]),this.a.a)
y=this.d
if(typeof z!=="number")return z.di()
if(typeof y!=="number")return H.n(y)
return z/y}},uD:{"^":"a:0;a",
$1:function(a){var z=this.a
if(typeof a!=="number")return a.di()
if(typeof z!=="number")return H.n(z)
return C.a1.cj(a/z*1000)}}}],["","",,S,{"^":"",
aX:function(a){var z=new S.im($.$get$eR().bx(1073741823),null)
new S.uB(a).$1(z)
return z.G()},
hE:{"^":"b;",
d2:function(a,b){this.b.d2(a,b)},
hg:function(a,b){this.b.toString},
gbm:function(){return this.b.gbm()},
gaI:function(){return this.b.gaI()}},
uB:{"^":"a:0;a",
$1:function(a){var z=this.a
a.b=z
return z}},
oo:{"^":"b;A:a>,at:b*"},
bo:{"^":"b;",
d2:function(a,b){},
hg:function(a,b){},
gbm:function(){return C.m},
gaI:function(){return C.m},
eW:function(a){return!0},
dj:function(a){return this.be(this.gN(),a)}},
b7:{"^":"b;",
ee:function(){return this.ac(new S.lj(this))}},
lj:{"^":"a;a",
$1:function(a){a.sN(a.gN()+1)
return a},
$signature:function(){return H.aq(function(a,b){return{func:1,args:[b]}},this.a,"b7")}},
pO:{"^":"hE;A:a>,at:b>",
ac:function(a){var z=new S.im($.$get$eR().bx(1073741823),null)
z.a=this.a
z.b=this.b
a.$1(z)
return z.G()},
p:function(a,b){if(b==null)return!1
if(!(b instanceof S.hE))return!1
return this.a===b.a&&J.i(this.b,b.b)},
gv:function(a){return X.a9([this.a,this.b])},
k:function(a){return"Situation {id="+C.e.k(this.a)+"\nstate="+J.A(this.b)+"\n}"}},
im:{"^":"oo;a,b",
G:function(){var z,y
z=this.b
if(z==null)throw H.c(P.r("null state"))
y=this.a
if(z==null)H.t(P.r("null state"))
return new S.pO(y,z)}}}],["","",,L,{"^":"",hX:{"^":"b;"},uf:{"^":"a:0;",
$1:function(a){a.a=0
return 0}},uI:{"^":"a:0;",
$1:function(a){a.a=1
return 1}},uq:{"^":"a:0;",
$1:function(a){a.a=2
return 2}},pl:{"^":"b;A:a>"},pS:{"^":"hX;A:a>",
ac:function(a){var z=new L.ir(null)
z.a=this.a
a.$1(z)
return z.G()},
p:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.hX))return!1
z=this.a
y=b.a
return z==null?y==null:z===y},
gv:function(a){return X.a9([this.a])},
k:function(a){return"Team {id="+J.A(this.a)+"\n}"},
q:{
es:function(a){var z=new L.ir(null)
a.$1(z)
return z.G()}}},ir:{"^":"pl;a",
G:function(){var z=this.a
if(z==null)throw H.c(P.r("null id"))
if(z==null)H.t(P.r("null id"))
return new L.pS(z)}}}],["","",,A,{"^":"",ak:{"^":"b;jm:a<,b,c,d,eY:e<,N:f<",
Z:function(a){return this.a.b_(0,new A.pI(a))},
aB:function(a,b){var z,y,x
z=this.Z(a)
y=z.ac(b)
x=this.a
x.C(0,z)
x.l(0,y)},
hs:function(a,b){var z,y,x
z=this.fo(a)
if(z==null)return
y=this.e
if(z!==(z|0)||z>=y.length)return H.f(y,z)
x=y[z].ac(b)
if(z!==(z|0)||z>=y.length)return H.f(y,z)
y[z]=x},
ee:function(){var z=this.f
if(typeof z!=="number")return z.I()
this.f=z+1},
gv:function(a){return X.jc(X.a9(this.a),X.a9(this.c),X.a9(this.e),this.f)},
p:function(a,b){var z
if(b==null)return!1
z=J.m(b)
return!!z.$isak&&this.gv(this)===z.gv(b)},
k:function(a){var z,y
z=this.a
y=z.fB()
y.H(0,z)
return"World<"+P.bk(y,"{","}")+">"},
ew:function(a){C.a.l(this.e,a)},
cg:function(a){var z=this.e
while(!0){if(!(z.length!==0&&!J.i(J.I(J.c5(C.a.gw(z))),a)))break
C.a.hl(z)}if(z.length===0)throw H.c(P.r("Tried to pop situations until "+a+" but none was found in stack."))},
fo:function(a){var z,y,x
y=this.e
x=0
while(!0){if(!(x<y.length)){z=null
break}if(J.i(J.Q(y[x]),a)){z=x
break}++x}return z},
hz:function(a){var z,y
z=this.fo(a)
if(z==null)return
y=this.e
if(z!==(z|0)||z>=y.length)return H.f(y,z)
return y[z]},
ic:function(a){var z
this.a.H(0,a.a)
z=a.c
this.c.H(0,H.d(new H.bJ(z,new A.pG()),[H.k(z,0),null]))
this.b.H(0,a.b)
z=a.d
this.d.H(0,H.d(new H.bJ(z,new A.pH()),[H.k(z,0),null]))
C.a.H(this.e,a.e)
this.f=a.f},
q:{
ih:function(a){var z,y
z=P.E(null,null,null,R.S)
y=P.E(null,null,null,O.cM)
y=new A.ak(z,P.E(null,null,null,U.e5),y,P.E(null,null,null,null),[],null)
y.ic(a)
return y}}},pG:{"^":"a:0;",
$1:function(a){var z,y,x,w,v,u
z=a.gN()
y=a.gfQ()
x=a.gc5()
w=a.ghj()
v=P.aU(a.gkx(),P.u)
u=R.k9(a.r,P.R)
return new O.cM(x,y,z,w,P.E(null,null,null,P.u),v,u)}},pH:{"^":"a:0;",
$1:function(a){var z=a.gjk()
return new K.n6(P.aU(a.a,K.n7),z,a.c)}},pI:{"^":"a:0;a",
$1:function(a){return J.i(J.Q(a),this.a)}}}],["","",,B,{"^":"",ht:{"^":"b;M:a>,w:b>"}}]]
setupProgram(dart,init.types.length)
var deferredTypes=[{func:1,ret:P.h,args:[R.S,A.ak,Y.ai]},{func:1,ret:Y.bL,args:[P.u]},{func:1,v:true,args:[P.h]},{func:1,ret:P.h,args:[P.u]},{func:1,ret:P.R,args:[R.S,A.ak]},{func:1,ret:P.u,args:[R.S]},{func:1,ret:P.R,args:[P.R,P.R]},{func:1,ret:L.ah,args:[P.h],named:{deferToChoiceList:P.G,deferToEndOfPage:P.G,goto:P.h,script:{func:1,ret:[P.ac,P.aW]},submenu:P.h}}]
init.types.push.apply(init.types,deferredTypes)
C.U=new P.qJ()
C.Z=new U.cX(0)
C.a_=new U.cX(1)
C.a0=new U.cX(2)
C.h=new U.cX(3)
C.z=new O.hb(0)
C.ad=new O.hb(1)
C.ag=new H.e3([0,"ItemType.SPEAR",1,"ItemType.BRANCH",2,"ItemType.TENT",3,"ItemType.SWORD"])
C.ah=new H.e3([0,"KnownToMode.ALL",1,"KnownToMode.PROTAGONIST_ONLY",2,"KnownToMode.CUSTOM"])
C.D=new H.e3([0,"Pose.standing",1,"Pose.offBalance",2,"Pose.onGround"])
C.c=new R.ef(0)
C.j=new R.ef(1)
C.n=new R.ef(2)
C.E=new Y.cm("he","him","his","himself")
C.k=new Y.cm("it","it","its","itself")
C.aj=new Y.cm("she","her","her","herself")
C.ak=new Y.cm("they","them","their","themselves")
C.F=new Y.cm("you","you","your","yourself")
C.o=H.uQ("dynamic")
C.ao=new P.bS(null,2);(function(a){for(var z=0;z<a.length;){var y=a[z++]
var x=a[z++]
var w=a[z++]
var v=a[z++]
I.$lazy(y,x,w,null,v)}})(["j3","$get$j3",function(){return new Q.aD("swing back at <object>",new G.u3(),new G.u5(),new G.u6(),new G.u7())},$,"iQ","$get$iQ",function(){return P.eh(null)},$,"j4","$get$j4",function(){return new Q.aD("step back and parry",new X.tV(),new X.tW(),new X.tX(),new X.tY())},$,"j5","$get$j5",function(){return new Q.aD("dodge and counter",new F.ug(),new F.uh(),new F.ui(),new F.uj())},$,"jg","$get$jg",function(){return new Q.aD("kick <object>",new Y.uk(),new Y.ul(),new Y.um(),new Y.un())},$,"eU","$get$eU",function(){var z,y
z=$.$get$bx()
y=H.d([],[P.h])
z==null
return new Y.bL(!0,"balance",y,!0,z,!0,!1,C.k)},$,"f4","$get$f4",function(){return new Q.aD("stab <object>",new A.uo(),new A.up(),new A.ur(),new A.us())},$,"ji","$get$ji",function(){return new Q.aD("parry it",new K.tH(),new K.tI(),new K.tK(),new K.tL())},$,"jj","$get$jj",function(){return new Q.aD("parry and counter",new G.tZ(),new G.u_(),new G.u0(),new G.u1())},$,"f5","$get$f5",function(){return Q.dX("Stand off.",new F.uc(),new F.ud(),new F.ue(),1)},$,"bn","$get$bn",function(){return P.eh(null)},$,"jn","$get$jn",function(){return Q.dX("Regain balance.",new B.uw(),new B.ux(),new B.uy(),1)},$,"jp","$get$jp",function(){return new Q.aD("roll out of way",new Y.tD(),new Y.tE(),new Y.tF(),new Y.tG())},$,"jt","$get$jt",function(){return new Q.aD("swing at <object>",new Y.tQ(),new Y.tR(),null,new Y.tS())},$,"j9","$get$j9",function(){return new Q.aD("kill <object>",new Y.u9(),new Y.ua(),null,new Y.ub())},$,"jq","$get$jq",function(){return new Q.aD("strike down at <object>",new T.uJ(),new T.tz(),null,new T.tA())},$,"ja","$get$ja",function(){return new Q.aD("kill <object>",new T.tN(),new T.tO(),null,new T.tP())},$,"jr","$get$jr",function(){return Q.dX("Stand up.",new Q.ut(),new Q.uu(),new Q.uv(),1)},$,"hQ","$get$hQ",function(){return P.ad("(\\w)([\\.\\?\\!])([\"'])\\.(?=$|\\s)",!0,!1)},$,"dT","$get$dT",function(){return P.kT()},$,"eR","$get$eR",function(){return P.eh(null)},$,"bx","$get$bx",function(){return L.es(new L.uf())},$,"f6","$get$f6",function(){return L.es(new L.uI())},$,"eX","$get$eX",function(){return L.es(new L.uq())},$])}
$dart_deferred_initializers$["v7b+GY1F/5kSFv1TWg6CFqdy3Bs="]=$dart_deferred_initializers$.current
