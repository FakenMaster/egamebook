self.$dart_deferred_initializers$=self.$dart_deferred_initializers$||Object.create(null)
$dart_deferred_initializers$.current=function($globals$,$){var A=$globals$.A
var B=$globals$.B
var C=$globals$.C
var D=$globals$.D
var E=$globals$.E
var F=$globals$.F
var G=$globals$.G
var H=$globals$.H
var J=$globals$.J
var K=$globals$.K
var L=$globals$.L
var M=$globals$.M
var N=$globals$.N
var O=$globals$.O
var P=$globals$.P
var Q=$globals$.Q
var R=$globals$.R
var S=$globals$.S
var T=$globals$.T
var U=$globals$.U
var V=$globals$.V
var W=$globals$.W
var X=$globals$.X
var Y=$globals$.Y
var Z=$globals$.Z
var init=$globals$.init
var setupProgram=$globals$.setupProgram
var I=$globals$.I
var dart=[["","",,P,{"^":"",
cE:function(a,b,c){var z,y,x
if(b===0){if(c.geC())J.jx(c.c)
else J.dT(c.a)
return}else if(b===1){if(c.geC())c.c.eu(H.E(a),H.O(a))
else{z=H.E(a)
y=H.O(a)
c.a.ct(z,y)
J.dT(c.a)}return}if(a instanceof P.bZ){if(c.geC()){b.$2(2,null)
return}z=a.b
if(z===0){z=a.a
J.fs(c.a,z)
P.cM(new P.t0(b,c))
return}else if(z===1){x=a.a
c.a.h6(x,!1).a1(new P.t1(b,c))
return}}P.iU(a,b)},
tu:function(a){return J.fy(a)},
t0:{"^":"a:1;a,b",
$0:function(){var z=this.b
if(z.a.gbc()){z.b=!0
return}this.a.$2(null,0)}},
t1:{"^":"a:0;a,b",
$1:function(a){var z=this.b.c!=null?2:0
this.a.$2(z,null)}},
qw:{"^":"c;a,b,c",
gce:function(a){return J.fy(this.a)},
gbc:function(){return this.a.gbc()},
geC:function(){return this.c!=null},
l:function(a,b){return J.fs(this.a,b)},
ct:function(a,b){return this.a.ct(a,b)},
aI:function(a){return J.dT(this.a)},
it:function(a){var z=new P.qz(a)
this.a=P.i9(new P.qB(this,a),new P.qC(z),null,new P.qD(this,z),!1,null)},
p:{
qx:function(a){var z=new P.qw(null,!1,null)
z.it(a)
return z}}},
qz:{"^":"a:1;a",
$0:function(){P.cM(new P.qA(this.a))}},
qA:{"^":"a:1;a",
$0:function(){this.a.$2(0,null)}},
qC:{"^":"a:1;a",
$0:function(){this.a.$0()}},
qD:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(z.b===!0){z.b=!1
this.b.$0()}}},
qB:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(!z.a.ghn()){z.c=new P.aX(new P.w(0,$.i,null,[null]),[null])
if(z.b===!0){z.b=!1
P.cM(new P.qy(this.b))}return z.c.ghj()}}},
qy:{"^":"a:1;a",
$0:function(){this.a.$2(2,null)}},
bZ:{"^":"c;ae:a>,b",
k:function(a){return"IterationMarker("+this.b+", "+H.b(this.a)+")"},
p:{
iM:function(a){return new P.bZ(a,1)},
cB:function(){return C.aM},
iL:function(a){return new P.bZ(a,0)},
cC:function(a){return new P.bZ(a,3)}}},
c0:{"^":"c;a,b,c,d",
gA:function(){var z=this.c
return z==null?this.b:z.gA()},
n:function(){var z,y,x,w
for(;!0;){z=this.c
if(z!=null)if(z.n()===!0)return!0
else this.c=null
y=function(a,b,c){var v,u=b
while(true)try{return a(u,v)}catch(t){v=t
u=c}}(this.a,0,1)
if(y instanceof P.bZ){x=y.b
if(x===2){z=this.d
if(z==null||z.length===0){this.b=null
return!1}if(0>=z.length)return H.e(z,-1)
this.a=z.pop()
continue}else{z=y.a
if(x===3)throw z
else{w=J.aE(z)
if(w instanceof P.c0){z=this.d
if(z==null){z=[]
this.d=z}z.push(this.a)
this.a=w.a
continue}else{this.c=w
continue}}}}else{this.b=y
return!0}}return!1}},
rS:{"^":"d5;a",
gH:function(a){return new P.c0(this.a(),null,null,null)},
$asd5:I.a_,
$asF:I.a_,
p:{
cD:function(a){return new P.rS(a)}}}}],["","",,P,{"^":"",rX:{"^":"c;$ti",
j:function(a,b,c){throw H.d(new P.C("Cannot modify unmodifiable map"))},
D:function(a,b){throw H.d(new P.C("Cannot modify unmodifiable map"))},
$isJ:1,
$asJ:null},ny:{"^":"c;$ti",
h:function(a,b){return this.a.h(0,b)},
j:function(a,b,c){this.a.j(0,b,c)},
L:function(a,b){return this.a.L(0,b)},
w:function(a,b){this.a.w(0,b)},
gC:function(a){var z=this.a
return z.gC(z)},
gV:function(a){var z=this.a
return z.gV(z)},
gi:function(a){var z=this.a
return z.gi(z)},
D:function(a,b){return this.a.D(0,b)},
k:function(a){return this.a.k(0)},
$isJ:1,
$asJ:null},qa:{"^":"ny+rX;a,$ti",$asJ:null,$isJ:1}}],["","",,P,{"^":"",
eu:function(a){return C.X},
rb:{"^":"c;",
aN:function(a){if(a<=0||a>4294967296)throw H.d(P.om("max must be in range 0 < max \u2264 2^32, was "+a))
return Math.random()*a>>>0},
hs:function(){return Math.random()}}}],["","",,S,{"^":"",e2:{"^":"c;iZ:a<,b,$ti",
aS:function(a){var z=new S.bq(null,null,this.$ti)
z.ba()
z.an(0,this)
a.$1(z)
return z.E()},
gu:function(a){var z=this.b
if(z==null){z=X.aC(this.a)
this.b=z}return z},
t:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.k(b)
if(!z.$ise2)return!1
y=b.a
x=this.a
if(y.length!==x.length)return!1
z=z.gu(b)
w=this.gu(this)
if(z==null?w!=null:z!==w)return!1
for(v=0;z=x.length,v!==z;++v){if(v>=y.length)return H.e(y,v)
w=y[v]
if(v>=z)return H.e(x,v)
if(!J.f(w,x[v]))return!1}return!0},
k:function(a){return J.v(this.a)},
h:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.e(z,b)
return z[b]},
gi:function(a){return this.a.length},
bx:function(a,b,c){var z=this.a
return(z&&C.a).bx(z,b,c)},
bw:function(a,b){return this.bx(a,b,0)},
gH:function(a){var z=this.a
return new J.bj(z,z.length,0,null,[H.p(z,0)])},
b2:function(a,b){var z=this.a
z.toString
return new H.ah(z,b,[null,null])},
F:function(a,b){var z=this.a
return(z&&C.a).F(z,b)},
w:function(a,b){var z=this.a
return(z&&C.a).w(z,b)},
gC:function(a){return this.a.length===0},
gV:function(a){return this.a.length!==0},
gO:function(a){var z=this.a
return(z&&C.a).gO(z)},
gB:function(a){var z=this.a
return(z&&C.a).gB(z)},
R:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.e(z,b)
return z[b]},
ba:function(){if(new H.aI(H.b_(H.p(this,0)),null).t(0,C.o))throw H.d(new P.C('explicit element type required, for example "new BuiltList<int>"'))}},bq:{"^":"c;a,b,$ti",
E:function(){var z,y
z=this.b
if(z==null){z=this.a
y=new S.e2(z,null,this.$ti)
y.ba()
this.a=z
this.b=y
z=y}return z},
an:function(a,b){if(H.fb(b,"$ise2",this.$ti,null)){this.a=b.giZ()
this.b=b}else{this.a=P.a6(b,!0,H.p(this,0))
this.b=null}},
j:function(a,b,c){var z
if(c==null)H.n(P.W("null element"))
z=this.gej()
if(b>>>0!==b||b>=z.length)return H.e(z,b)
z[b]=c},
l:function(a,b){var z
if(b==null)H.n(P.W("null element"))
z=this.gej();(z&&C.a).l(z,b)},
D:function(a,b){var z=this.gej();(z&&C.a).D(z,b)},
b2:function(a,b){var z=this.a
z.toString
z=new H.ah(z,b,[null,null]).aP(0,!0)
this.a=z
this.b=null
this.iE(z)},
gej:function(){if(this.b!=null){this.a=P.a6(this.a,!0,H.p(this,0))
this.b=null}return this.a},
ba:function(){if(new H.aI(H.b_(H.p(this,0)),null).t(0,C.o))throw H.d(new P.C('explicit element type required, for example "new ListBuilder<int>"'))},
iE:function(a){var z,y,x,w
for(z=a.length,y=H.p(this,0),x=0;x<a.length;a.length===z||(0,H.aa)(a),++x){w=a[x]
if(!H.fc(w,y))throw H.d(P.W("invalid element: "+H.b(w)))}}}}],["","",,A,{"^":"",cY:{"^":"c;j0:a<,b,c,d,$ti",
aS:function(a){var z=new A.cn(null,null,this.$ti)
z.bH()
z.an(0,this)
a.$1(z)
return z.E()},
gu:function(a){var z=this.b
if(z==null){z=this.a
z=z.gX(z)
z=H.br(z,new A.kG(this),H.A(z,"F",0),null)
z=P.a6(z,!1,H.A(z,"F",0))
C.a.hZ(z)
z=X.aC(z)
this.b=z}return z},
t:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.k(b)
if(!z.$iscY)return!1
y=b.a
x=this.a
if(y.gi(y)!==x.gi(x))return!1
z=z.gu(b)
w=this.gu(this)
if(z==null?w!=null:z!==w)return!1
for(z=this.gX(this),z=z.gH(z);z.n();){v=z.gA()
if(!J.f(y.h(0,v),x.h(0,v)))return!1}return!0},
k:function(a){return J.v(this.a)},
h:function(a,b){return this.a.h(0,b)},
w:function(a,b){this.a.w(0,b)},
gC:function(a){var z=this.a
return z.gC(z)},
gV:function(a){var z=this.a
return z.gV(z)},
gX:function(a){var z=this.c
if(z==null){z=this.a
z=z.gX(z)
this.c=z}return z},
gi:function(a){var z=this.a
return z.gi(z)},
bH:function(){if(new H.aI(H.b_(H.p(this,0)),null).t(0,C.o))throw H.d(new P.C('explicit key type required, for example "new BuiltMap<int, int>"'))
if(new H.aI(H.b_(H.p(this,1)),null).t(0,C.o))throw H.d(new P.C('explicit value type required, for example "new BuiltMap<int, int>"'))}},kG:{"^":"a:0;a",
$1:function(a){var z,y
z=J.x(a)
y=J.x(this.a.a.h(0,a))
return X.f1(X.bz(X.bz(0,J.x(z)),J.x(y)))}},cn:{"^":"c;a,b,$ti",
E:function(){var z=this.b
if(z==null){z=new A.cY(this.a,null,null,null,this.$ti)
z.bH()
this.b=z}return z},
an:function(a,b){var z
if(H.fb(b,"$iscY",this.$ti,null)){this.b=b
this.a=b.gj0()}else if(!!b.$iscY){z=P.ek(b.a,H.p(this,0),H.p(this,1))
this.b=null
this.a=z}else if(!!b.$isJ){z=P.ek(b,H.p(this,0),H.p(this,1))
this.b=null
this.a=z}else throw H.d(P.W("expected Map or BuiltMap, got "+H.b(b.ga_(b))))},
j:function(a,b,c){if(b==null)H.n(P.W("null key"))
if(c==null)H.n(P.W("null value"))
this.gd0().j(0,b,c)},
D:function(a,b){this.gd0().D(0,b)},
gd0:function(){if(this.b!=null){this.a=P.ek(this.a,H.p(this,0),H.p(this,1))
this.b=null}return this.a},
bH:function(){if(new H.aI(H.b_(H.p(this,0)),null).t(0,C.o))throw H.d(new P.C('explicit key type required, for example "new MapBuilder<int, int>"'))
if(new H.aI(H.b_(H.p(this,1)),null).t(0,C.o))throw H.d(new P.C('explicit value type required, for example "new MapBuilder<int, int>"'))}}}],["","",,Y,{"^":"",
y:function(a,b){if(typeof b!=="number")return H.m(b)
a=536870911&a+b
a=536870911&a+((524287&a)<<10)
return a^a>>>6},
b0:function(a){a=536870911&a+((67108863&a)<<3)
a^=a>>>11
return 536870911&a+((16383&a)<<15)}}],["","",,M,{"^":"",bM:{"^":"c;$ti",
h:function(a,b){var z
if(!this.cU(b))return
z=this.c.h(0,this.a.$1(H.fo(b,H.A(this,"bM",1))))
return z==null?null:J.cR(z)},
j:function(a,b,c){if(!this.cU(b))return
this.c.j(0,this.a.$1(b),new B.hK(b,c,[null,null]))},
L:function(a,b){if(!this.cU(b))return!1
return this.c.L(0,this.a.$1(H.fo(b,H.A(this,"bM",1))))},
w:function(a,b){this.c.w(0,new M.kH(b))},
gC:function(a){var z=this.c
return z.gC(z)},
gV:function(a){var z=this.c
return z.gV(z)},
gX:function(a){var z=this.c
z=z.gaA(z)
return H.br(z,new M.kI(),H.A(z,"F",0),null)},
gi:function(a){var z=this.c
return z.gi(z)},
D:function(a,b){var z
if(!this.cU(b))return
z=this.c.D(0,this.a.$1(H.fo(b,H.A(this,"bM",1))))
return z==null?null:J.cR(z)},
gaA:function(a){var z=this.c
z=z.gaA(z)
return H.br(z,new M.kJ(),H.A(z,"F",0),null)},
k:function(a){return P.d9(this)},
cU:function(a){var z
if(a==null||H.fc(a,H.A(this,"bM",1)))z=this.b.$1(a)===!0
else z=!1
return z},
$isJ:1,
$asJ:function(a,b,c){return[b,c]}},kH:{"^":"a:3;a",
$2:function(a,b){var z=J.aB(b)
return this.a.$2(z.gO(b),z.gB(b))}},kI:{"^":"a:0;",
$1:function(a){return J.fv(a)}},kJ:{"^":"a:0;",
$1:function(a){return J.cR(a)}}}],["","",,B,{"^":"",hK:{"^":"c;O:a>,B:b>,$ti"}}],["","",,N,{"^":"",oE:{"^":"oC;Q,ch,a,b,c,d,e,f,r,x,y,z",
k6:function(){this.ch=H.c6($.$get$c7().h(0,"game"),"$ish_")},
kl:function(){this.ch=null
var z=$.$get$c5()
z=new O.h_(N.bS("EdgeheadGame"),null,null,null,null,null,null,null,new Y.aV(H.t([],[Y.aG]),0,P.ak()),O.uN(),O.uM(),O.uL(),z,new P.b6(""),!1,null)
z.dI()
this.ch=z
z.r="endGame"},
hu:function(){$.$get$c7().j(0,"game",this.ch)},
ip:function(){var z,y
z=new O.dl(["You and Briana sprint through the giant worm\u2019s tunnel.","Suddenly, an **orc** and a **goblin** jump in front of you from a slimy crevice, swords in hands.","![Orc and Goblin](img/orc_and_goblin_sketch.jpg)",[null,P.aT(["goto","gameLoop"])]],0,null,!1,!1)
y=this.a.a
y.j(0,"start",z)
z.a="start"
z=new O.dl([new N.oG(this),[null,P.aT(["goto","gameLoop"])]],0,null,!1,!1)
y.j(0,"gameLoop",z)
z.a="gameLoop"
z=new O.dl(['<p class="meta">\n  Hit <strong>Restart</strong> (top left) to play again. It will be different.\n</p>'],0,null,!1,!1)
y.j(0,"endGame",z)
z.a="endGame"
this.b=y.h(0,"start")},
p:{
oF:function(){var z,y
z=P.h
y=new H.Z(0,null,null,null,null,null,0,[z,O.dl])
z=new N.oE("net.filiph.edgehead.0.0.1",null,new O.oH(y),null,null,null,P.I(null,null,null,z),!1,null,-9999,null,null)
z.ip()
return z}}},oG:{"^":"a:20;a",
$0:function(){var z=0,y=new P.aR(),x=1,w,v=this
var $async$$0=P.aN(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.D(v.a.ch.b8(),$async$$0,y)
case 2:return P.D(null,0,y)
case 1:return P.D(w,1,y)}})
return P.D(null,$async$$0,y)}}}],["","",,O,{"^":"",
xs:[function(a,b){var z,y
z=b.gjr()
z=new H.a5(z,new O.tC(a),[H.p(z,0)]).au(0,0,new O.tD())
if(typeof z!=="number")return H.m(z)
y=b.a
y=new H.a5(y,new O.tE(a),[H.p(y,0)]).au(0,0,new O.tF())
if(typeof y!=="number")return H.m(y)
return 0+z-y},"$2","je",4,0,5],
tC:{"^":"a:0;a",
$1:function(a){return J.f(a.gao(),this.a.gao())}},
tD:{"^":"a:3;",
$2:function(a,b){return J.P(a,b.gaL())}},
tE:{"^":"a:0;a",
$1:function(a){return a.c9(this.a)}},
tF:{"^":"a:3;",
$2:function(a,b){return J.P(a,b.gaL())}},
h_:{"^":"nx;x,y,z,Q,ch,cx,bC:cy<,db,fe:dx<,a,b,c,d,e,f,r",
dI:function(){var z,y,x,w
z=[P.h]
y=H.t([],z)
x=P.I(null,null,null,null)
w=$.$get$dO()
x=new R.cz(null,!0,y,null,null,C.c,1,null,100,!0,!1,x,null,!0,C.l,w,null)
new O.lu().$1(x)
this.y=x.E()
y=new R.cz(null,!0,H.t([],z),null,null,C.c,1,null,100,!0,!1,P.I(null,null,null,null),null,!0,C.l,w,null)
new O.lv().$1(y)
this.z=y.E()
y=new R.cz(null,!0,H.t([],z),null,null,C.c,1,null,100,!0,!1,P.I(null,null,null,null),null,!0,C.l,w,null)
new O.lw().$1(y)
this.Q=y.E()
z=new R.cz(null,!0,H.t([],z),null,null,C.c,1,null,100,!0,!1,P.I(null,null,null,null),null,!0,C.l,w,null)
new O.lx().$1(z)
z=z.E()
this.ch=z
y=new U.d3(null,null,null,null,null,null)
y.a=U.lM([this.y,this.z],[this.Q,z])
new O.ly().$1(y)
this.cx=y.E()
z=P.ax([this.y,this.z,this.Q,this.ch],null)
y=this.cx
x=P.I(null,null,null,null)
y=new A.aM(z,P.I(null,null,null,null),x,P.I(null,null,null,null),P.a6([y],!0,null),0)
this.cy=y
x=new Y.aV(H.t([],[Y.aG]),0,P.ak())
z=new B.cp(y,null,x,1,1,!0,!1,!1,0)
z.fg(y,null,null,x,1,!1,!0,!1)
this.db=z},
dv:function(){var z=0,y=new P.aR(),x,w=2,v,u=this,t,s,r,q,p,o,n,m,l,k,j,i,h,g
var $async$dv=P.aN(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:t=u.cy.e
if(t.length===0){u.f=!0
t=u.dx
t.b_(0,"\n\n",!0)
s=u.cy.a6(u.y.e)
if(s.gbU()){t.ep(0,"<subject> look<s> behind",s)
t.ep(0,"<subject> see<s> the giant worm's hideous head approaching",s)
if(u.cy.a6(u.z.e).gbU())t.b_(0,"You both start sprinting again.",!0)
else{t.ep(0,"<subject> take<s> a last look at Briana",s)
t.jv(0,"<subject> start<s> sprinting again, alone",!0,s)}t.b_(0,"\n\n",!0)
t.b_(0,"TO BE CONTINUED.",!0)}else t.b_(0,"You will soon be the giant worm's food.",!0)
u.e.a+=t.dn()
z=1
break}r=C.a.gB(t)
q=r.dC(u.cy)
t=u.cy
p=N.bS("ActorPlanner")
o=new H.Z(0,null,null,null,null,null,0,[null,null])
n=J.q(q)
m=n.gq(q)
l=new Y.aV(H.t([],[Y.aG]),0,P.ak())
l.b=t.f
k=new G.k8(p,m,new B.cp(t,null,l,1,1,!0,!1,!1,0),0,!1,o)
z=3
return P.D(k.kL(new O.lz()),$async$dv,y)
case 3:if(o.gC(o)){p.hI("There are no actions available for actorId="+H.b(m)+".")
m="Actions not available for "+H.b(m)+" and "
l=J.k(t)
t="PlanConsequence<"+l.gu(t)+", "+l.k(t)+", "+C.u.k(null)
t+", 1, 0, "
p.df(m+(t+", 1, 0, >")+".")}j=G.o4(o)
t=j.b
if(t.length===0){u.cy.hf(r.gq(r))
t=u.cy
p=t.f
if(typeof p!=="number"){x=p.G()
z=1
break}t.f=p+1
z=1
break}if(q.gW()){if(t.length===1){u.dR(C.a.gab(t),q,u.dx)
z=1
break}p=u.dx
u.e.a+=p.dn()
C.a.si(p.a,0)
u.x.df("planner.generateTable for "+H.b(n.gm(q)))
k.f4().w(0,new O.lA(u))
i=P.a6(new H.pR(t,0,4,[H.p(t,0)]),!0,null)
t=new O.lB()
p=i.length-1
if(p-0<=32)H.i3(i,0,p,t)
else H.i2(i,0,p,t)
for(t=i.length,p=u.c,h=0;h<i.length;i.length===t||(0,H.aa)(i),++h){g=i[h]
p.$3$helpMessage$script(J.H(g),g.ga4(),new O.lC(u,q,g))}z=1
break}else{p=S.ok(j.a,1000)
if(p>=t.length){x=H.e(t,p)
z=1
break}o=u.dx
u.dR(t[p],q,o)}if(o.gey()){u.e.a+=o.hx(!0)
o.kR()}case 1:return P.D(x,0,y)
case 2:return P.D(v,1,y)}})
return P.D(null,$async$dv,y)},
dR:function(a,b,c){var z,y,x
z=a.d6(b,this.db,this.cy)
y=P.a6(z,!0,H.A(z,"F",0))
x=S.oj(new H.ah(y,new O.lr(),[null,null]),1)
if(x>=y.length)return H.e(y,x)
z=y[x]
this.db=z
C.a.K(c.a,z.gfe().a)
this.cy=this.db.gbC()}},
lu:{"^":"a:0;",
$1:function(a){var z
a.gv()
a.r=1
a.gv()
a.z=!0
a.gv()
a.cy=C.I
a.gv()
a.ch="Filip"
z=$.$get$bE()
a.gv()
a.c=new U.dn(!1,10,!0,z,"sword",C.f)
a.gv()
a.f=2
a.gv()
a.x=1000
return a}},
lv:{"^":"a:0;",
$1:function(a){var z
a.gv()
a.r=100
a.gv()
a.cy=C.ar
a.gv()
a.ch="Briana"
z=$.$get$bE()
a.gv()
a.c=new U.dn(!1,10,!0,z,"longsword",C.f)
a.gv()
a.f=2
return a}},
lw:{"^":"a:0;",
$1:function(a){var z
a.gv()
a.r=1000
a.gv()
a.ch="orc"
a.gv()
a.cx=!1
a.gv()
a.cy=C.H
z=$.$get$bE()
a.gv()
a.c=new U.dn(!1,10,!0,z,"sword",C.f)
a.gv()
a.f=2
z=$.$get$fe()
a.gv()
a.db=z
a.gv()
a.dx=O.je()
return a}},
lx:{"^":"a:0;",
$1:function(a){var z
a.gv()
a.r=1001
a.gv()
a.ch="goblin"
a.gv()
a.cx=!1
a.gv()
a.cy=C.H
z=$.$get$bE()
a.gv()
a.c=new U.dn(!1,10,!0,z,"scimitar",C.f)
z=$.$get$fe()
a.gv()
a.db=z
a.gv()
a.dx=O.je()
return a}},
ly:{"^":"a:0;",
$1:function(a){var z,y
z=a.gah()
y=z.c
if(y==null){y=new A.cn(null,null,[P.r,{func:1,v:true,args:[A.aM,Y.aV]}])
y.bH()
y.an(0,C.w)
z.c=y
z=y}else z=y
z.gd0().j(0,2,new O.ls())
z=a.gah()
y=z.c
if(y==null){y=new A.cn(null,null,[P.r,{func:1,v:true,args:[A.aM,Y.aV]}])
y.bH()
y.an(0,C.w)
z.c=y
z=y}else z=y
z.gd0().j(0,6,new O.lt())
return a}},
ls:{"^":"a:3;",
$2:function(a,b){b.h4()
b.l(0,"You hear a horrible growling sound from behind.")
b.l(0,"The worm must be near.")
b.b_(0,"\n\n",!0)}},
lt:{"^":"a:3;",
$2:function(a,b){b.h4()
b.l(0,"The earth shatters and there's that sound again.")
b.b_(0,"\n\n",!0)}},
lz:{"^":"a:20;",
$0:function(){var z=0,y=new P.aR(),x=1,w
var $async$$0=P.aN(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.D(P.bQ(C.a_,null,null),$async$$0,y)
case 2:return P.D(null,0,y)
case 1:return P.D(w,1,y)}})
return P.D(null,$async$$0,y)}},
lA:{"^":"a:0;a",
$1:function(a){return this.a.x.df(a)}},
lB:{"^":"a:3;",
$2:function(a,b){return J.bG(J.H(a),J.H(b))}},
lC:{"^":"a:1;a,b,c",
$0:function(){var z=this.a
z.dR(this.c,this.b,z.dx)}},
lr:{"^":"a:0;",
$1:function(a){return a.gkN()}}}],["","",,Q,{"^":"",
jg:function(a,b,c){return new P.cD(function(){var z=a,y=b,x=c
var w=0,v=1,u,t,s,r
return function $async$jg(d,e){if(d===1){u=e
w=v}while(true)switch(w){case 0:t=y.e
t=t.length!==0?C.a.gB(t):null
s=t.bE(y.a,y)
t=s.gH(s),r=new H.eJ(t,new Q.uc(z),[H.p(s,0)])
case 2:if(!r.n()){w=3
break}w=4
return x.$1(t.gA())
case 4:w=2
break
case 3:return P.cB()
case 1:return P.cC(u)}}})},
uc:{"^":"a:0;a",
$1:function(a){var z,y
z=a.gao()
y=this.a.gao()
z=z.a
y=y.a
return z==null?y!=null:z!==y}},
cc:{"^":"c;",
d6:function(a,b,c){var z=this
return new P.cD(function(){var y=a,x=b,w=c
var v=0,u=1,t,s,r
return function $async$d6(d,e){if(d===1){t=e
v=u}while(true)switch(v){case 0:s=z.af(y,x.gbC())
v=s>0?2:3
break
case 2:r=A.iA(w)
v=4
return B.hL(r,x,z,z.iA(r,y,w,z.gak(),!0),s,!1,!1,!0)
case 4:case 3:v=s<1?5:6
break
case 5:r=A.iA(w)
v=7
return B.hL(r,x,z,z.iz(r,y,w,z.gaj(),!0),1-s,!0,!1,!1)
case 7:case 6:return P.cB()
case 1:return P.cC(t)}}})},
fk:function(a,b,c,d,e,f){var z,y,x,w,v,u,t
z=a.a.bj(0,new Q.k3(b))
y=new O.k1(null,null,null,C.C,null,null,null,null,null,null,null)
y.x=new H.aI(H.dJ(this),null).k(0)
y.r=this.gm(this)
y.a=b
y.f=P.ax(!!this.$isan?[this.b]:[],null)
y.y=f
y.z=e
y.kA(c)
x=new Y.aV(H.t([],[Y.aG]),0,P.ak())
w=a.e
v=J.Q(w.length!==0?C.a.gB(w):null)
u=a.gu(a);(w.length!==0?C.a.gB(w):null).ht(a,x)
if(a.gu(a)!==u)throw H.d(new P.z("Please don't change the world in onBeforeAction"))
this.a=d.$3(z,a,x)
if(a.e4(v)!=null)a.hf(v)
t=a.f
if(typeof t!=="number")return t.G()
a.f=t+1
t=a.hO(v)
if(!(t==null))t.kG(a,x)
while(!0){t=w.length!==0?C.a.gB(w):null
if((t==null?t:t.dC(a))!=null){t=w.length!==0?C.a.gB(w):null
t=!J.f(t==null?t:t.fb(a),!0)}else t=!0
if(!t)break
if((w.length!==0?C.a.gB(w):null)==null)break
C.a.hy(w)}if(this.a==null)H.n(new P.z("No description given when executing "+this.k(0)+". You should return it from your world-modifying function."))
y.e=a
y.b=this.a
y.Q=a.f
a.c.l(0,y.E())
return x},
iA:function(a,b,c,d,e){return this.fk(a,b,c,d,!1,e)},
iz:function(a,b,c,d,e){return this.fk(a,b,c,d,e,!1)}},
k3:{"^":"a:0;a",
$1:function(a){return J.f(J.Q(a),J.Q(this.a))}},
an:{"^":"cc;",
gm:function(a){var z=new Y.aV(H.t([],[Y.aG]),0,P.ak())
z.ju(0,this.gay(),this.b)
return z.dn()},
k:function(a){var z,y
z=this.b
y=J.q(z)
return"EnemyTargetAction<"+this.gay()+"::enemy="+H.b(y.gq(z))+"/"+H.b(y.gm(z))+">"}}}],["","",,O,{"^":"",
xn:[function(a){return J.Q(a)},"$1","j5",2,0,6],
cU:{"^":"c;bO:a<,h3:b<,eo:c<,N:d<,hw:e<,f,dM:r<,kw:x<,hJ:y<,z,Q",
gu:function(a){var z=this.e
return X.aC([this.d,this.a,X.aC(z==null?new P.iP(0,null,null,null,null,null,0,[null]):P.ax([z],null)),X.aC(this.r),X.aC(this.x),this.y,this.z])},
t:function(a,b){var z
if(b==null)return!1
z=J.k(b)
return!!z.$iscU&&this.gu(this)===z.gu(b)},
k:function(a){return"ActionRecord<"+H.b(this.c)+", "+H.b(this.b)+", "+H.b(this.a)+">"}},
k1:{"^":"c;a,b,c,d,e,dM:f<,h3:r<,eo:x<,hJ:y<,z,N:Q<",
gbO:function(){return this.b},
ghw:function(){return this.a},
E:function(){var z,y,x,w,v,u,t,s,r,q,p,o
z=this.d
switch(z){case C.C:y=this.e.a
break
case C.ag:z=R.ab
y=P.ax(H.t([this.a],[z]),z)
break
default:throw H.d(new P.aL("Mode "+z.k(0)+" not implemented"))}x=R.dY(P.T)
z=this.e.a
for(w=z.gH(z),z=new H.eJ(w,new O.k2(this),[H.p(z,0)]);z.n();){v=w.gA()
x.j(0,v,J.K(v.c1(this.e),this.c.h(0,v)))}z=this.Q
w=this.r
u=this.x
t=this.b
s=J.Q(this.a)
r=this.f
r.toString
r=P.ax(new H.bn(r,O.j5(),[H.p(r,0),null]),null)
q=P.ax(new H.bn(y,O.j5(),[H.p(y,0),null]),null)
p=this.y
o=this.z
return new O.cU(t,w,u,z,s,P.I(null,null,null,P.r),r,q,p,o,x)},
kA:function(a){var z,y,x
this.c=R.dY(P.T)
for(z=a.a,y=new P.aA(z,z.r,null,null,[null]),y.c=z.e;y.n();){x=y.d
this.c.j(0,x,x.c1(a))}}},
k2:{"^":"a:0;a",
$1:function(a){var z=this.a.c
return z.gX(z).F(0,a)}},
hq:{"^":"c;a",
k:function(a){return C.aq.h(0,this.a)}}}],["","",,R,{"^":"",ab:{"^":"nJ;",
gbU:function(){return this.d>0},
c1:function(a){var z,y,x,w
z=this.dx
if(z!=null)return z.$2(this,a)
y=10*this.d
z=$.$get$dO()
x=this.db.a
z=z.a
if(x==null?z!=null:x!==z)y=C.j.br(y,2)
z=a.a
x=[H.p(z,0)]
w=new H.a5(z,new R.kv(this),x).au(0,0,new R.kw())
if(typeof w!=="number")return H.m(w)
x=new H.a5(z,new R.kx(this),x).au(0,0,new R.ky())
if(typeof x!=="number")return H.m(x)
return y+w-x},
bg:function(a){var z=this.c
return z!=null&&z.a===a},
$isbP:1},nJ:{"^":"c+e6;"},kv:{"^":"a:0;a",
$1:function(a){return J.f(a.gao(),this.a.db)}},kw:{"^":"a:15;",
$2:function(a,b){return J.P(J.P(a,b.gbV()?2:0),2*b.gaL())}},kx:{"^":"a:0;a",
$1:function(a){return a.c9(this.a)}},ky:{"^":"a:15;",
$2:function(a,b){return J.P(J.P(a,b.gbV()?1:0),b.gaL())}},k4:{"^":"c;aw:c<,J:e@,aL:f@,q:r>,W:z<,m:ch*,I:cy<,ao:db<"},dX:{"^":"bM;a,b,c,$ti",
gu:function(a){var z=this.gaA(this)
return X.aC(P.a6(z,!1,H.A(z,"F",0)))},
t:function(a,b){var z,y
if(b==null)return!1
z=J.k(b)
if(!!z.$isdX){y=this.gaA(this)
y=X.aC(P.a6(y,!1,H.A(y,"F",0)))
z=z.gaA(b)
z=y===X.aC(P.a6(z,!1,H.A(z,"F",0)))}else z=!1
return z},
$asbM:function(a){return[P.r,R.ab,a]},
$asJ:function(a){return[R.ab,a]},
p:{
dY:function(a){var z=new H.Z(0,null,null,null,null,null,0,[P.r,[B.hK,R.ab,a]])
return new R.dX(new R.k6(),new R.k7(),z,[a])},
k5:function(a,b){var z=R.dY(b)
a.w(0,new R.tN(b,z))
return z}}},k6:{"^":"a:6;",
$1:function(a){return J.Q(a)}},k7:{"^":"a:0;",
$1:function(a){return a!=null}},tN:{"^":"a;a,b",
$2:function(a,b){this.b.j(0,a,b)
return b},
$signature:function(){return H.au(function(a){return{func:1,args:[R.ab,a]}},this,"dX")}},es:{"^":"c;a",
k:function(a){return C.F.h(0,this.a)}},qf:{"^":"ab;a,b,aw:c<,aL:d<,q:e>,f,eB:r<,W:x<,y,m:z>,dk:Q<,J:ch<,I:cx<,cy,ao:db<,dx",
aS:function(a){var z=new R.cz(null,!0,H.t([],[P.h]),null,null,C.c,1,null,100,!0,!1,P.I(null,null,null,null),null,!0,C.l,$.$get$dO(),null)
z.dy=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof R.ab))return!1
if(this.b===b.b){z=this.c
y=b.c
if(z==null?y==null:z===y)if(this.d===b.d){z=this.e
y=b.e
if(z==null?y==null:z===y)if(this.f===b.f)if(this.x===b.x)if(this.y===b.y)if(J.f(this.z,b.z))if(this.Q===b.Q)if(this.ch===b.ch)if(this.cx===b.cx)z=J.f(this.db,b.db)&&J.f(this.dx,b.dx)
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1}else z=!1
else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(Y.y(0,C.p.gu(!0)),H.al(this.b)),J.x(this.c)),this.d&0x1FFFFFFF),J.x(this.e)),this.f&0x1FFFFFFF),C.p.gu(!0)),C.p.gu(this.x)),H.al(this.y)),J.x(this.z)),C.p.gu(this.Q)),H.al(this.ch)),H.al(this.cx)),C.u.gu(this.cy)),J.x(this.db)),J.x(this.dx)))},
k:function(a){return"Actor {alreadyMentioned="+String(!0)+",\ncategories="+P.bp(this.b,"[","]")+",\ncurrentWeapon="+J.v(this.c)+",\nhitpoints="+C.j.k(this.d)+",\nid="+J.v(this.e)+",\ninitiative="+C.j.k(this.f)+",\nisActive="+String(!0)+",\nisPlayer="+String(this.x)+",\nitems="+P.bp(this.y,"{","}")+",\nname="+H.b(J.v(this.z))+",\nnameIsProperNoun="+String(this.Q)+",\npose="+H.b(C.F.h(0,this.ch.a))+",\npronoun="+this.cx.a+",\nshield="+C.u.k(this.cy)+",\nteam="+J.v(this.db)+",\nworldScoringFunction="+H.b(J.v(this.dx))+",\n}"}},cz:{"^":"k4;dy,a,b,c,d,e,f,r,x,y,z,Q,ch,cx,cy,db,dx",
gaw:function(){this.gv()
return this.c},
gaL:function(){this.gv()
return this.f},
saL:function(a){this.gv()
this.f=a},
gq:function(a){this.gv()
return this.r},
gW:function(){this.gv()
return this.z},
gm:function(a){this.gv()
return this.ch},
sm:function(a,b){this.gv()
this.ch=b},
gdk:function(){this.gv()
return this.cx},
gJ:function(){this.gv()
return this.e},
sJ:function(a){this.gv()
this.e=a},
gI:function(){this.gv()
return this.cy},
gao:function(){this.gv()
return this.db},
gv:function(){var z=this.dy
if(z!=null){z.a
this.a=!0
this.b=this.dy.b
this.c=this.dy.c
this.f=this.dy.d
this.r=this.dy.e
this.x=this.dy.f
this.dy.r
this.y=!0
this.z=this.dy.x
this.Q=this.dy.y
this.ch=this.dy.z
this.cx=this.dy.Q
this.e=this.dy.ch
this.cy=this.dy.cx
this.d=this.dy.cy
this.db=this.dy.db
this.dx=this.dy.dx
this.dy=null}return this},
E:function(){var z,y,x,w,v,u,t,s,r,q,p,o,n,m
z=this.dy
if(z==null){this.gv()
this.a
this.gv()
y=this.b
this.gv()
x=this.c
this.gv()
w=this.f
this.gv()
v=this.r
this.gv()
u=this.x
this.gv()
this.y
this.gv()
t=this.z
this.gv()
s=this.Q
this.gv()
r=this.ch
this.gv()
q=this.cx
this.gv()
p=this.e
this.gv()
o=this.cy
this.gv()
n=this.d
this.gv()
m=this.db
this.gv()
z=new R.qf(!0,y,x,w,v,u,!0,t,s,r,q,p,o,n,m,this.dx)
if(v==null)H.n(P.N("id"))
if(r==null)H.n(P.N("name"))
if(m==null)H.n(P.N("team"))}this.dy=z
return z}}}],["","",,U,{"^":"",
v0:function(a){switch(a){case C.a2:return"spear"
case C.a3:return"branch"
case C.a4:return"tent"
case C.f:return"sword"
default:throw H.d(P.W(a))}},
ec:{"^":"hG;$ti",
gbO:function(){return U.v0(this.a)},
$isbP:1},
hG:{"^":"c+e6;$ti"},
d4:{"^":"c;a",
k:function(a){return C.ap.h(0,this.a)}},
dn:{"^":"ec;b,c,eB:d<,ao:e<,m:f>,a",
gq:function(a){return H.al(this)},
gbU:function(){return!1},
gW:function(){return!1},
gdk:function(){return!1},
gI:function(){return C.l},
$asec:I.a_,
$ashG:I.a_}}],["","",,K,{"^":"",nu:{"^":"c;a,jq:b<,c"},nv:{"^":"c;"}}],["","",,G,{"^":"",nx:{"^":"c;",
b8:function(){var z=0,y=new P.aR(),x,w=2,v,u=this,t,s
var $async$b8=P.aN(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:if(u.r==null)throw H.d(new P.z("Cannot run a LoopedEvent before onFinishedGoto is defined."))
if(u.f){u.d.si(0,0)
u.a.$1(u.r)
z=1
break}t=u.d
s=u.e
case 3:if(!!0){z=4
break}if(!(!u.f&&t.gi(t)===0&&s.a.length===0)){z=4
break}z=5
return P.D(u.dv(),$async$b8,y)
case 5:z=3
break
case 4:t=s.a
if(t.length!==0){u.b.$1(t.charCodeAt(0)==0?t:t)
s.a=""}case 1:return P.D(x,0,y)
case 2:return P.D(v,1,y)}})
return P.D(null,$async$b8,y)}}}],["","",,B,{"^":"",fK:{"^":"c;cP:a<,dc:b<,cE:c>",
k:function(a){return"ConsequenceStats<order="+H.b(this.c)+", cumProb="+C.d.hE(this.b,3)+", score="+J.fA(this.a,2)+">"}},cp:{"^":"c;bC:a<,en:b>,fe:c<,kN:d<,dc:e<,f,r,x,cE:y>",
gu:function(a){return X.aC([this.a,this.e,this.b,this.d,this.y,this.f,this.r,this.x])},
t:function(a,b){var z
if(b==null)return!1
z=J.k(b)
return!!z.$iscp&&this.gu(this)===z.gu(b)},
k:function(a){var z,y
z=this.a
y=J.k(z)
z="PlanConsequence<"+y.gu(z)+", "+y.k(z)+", "+J.v(this.b)+", "+H.b(this.d)+", "+this.y+", "
return z+(this.x?"isSuccess":"")+">"},
fg:function(a,b,c,d,e,f,g,h){this.c.b=this.a.f},
p:{
hL:function(a,b,c,d,e,f,g,h){var z,y
z=b==null
y=z?0:b.gcE(b)+1
y=new B.cp(a,c,d,e,z?e:e*b.gdc(),g,f,h,y)
y.fg(a,b,c,d,e,f,g,h)
return y}}}}],["","",,G,{"^":"",k8:{"^":"c;a,b,c,d,e,f",
jM:function(a,b,c){var z,y,x,w,v,u,t,s,r,q
z=this.a
z.U("...")
z.U("combining scores")
y=H.t([],[P.T])
for(x=J.aE(a),w=null;x.n()===!0;){v=x.gA()
z.U(new G.kr(v))
if(v.gdc()>0.15)if(w==null){z.U("    - first _bestCase")
w=v}else if(J.a2(v.gcP(),w.gcP())){z.U("    - new _bestCase")
w=v}u=J.dQ(J.K(v.gcP(),b),v.b)
z.U(new G.ks(u))
y.push(u)}x=C.a.au(y,0,new G.kt())
t=y.length
if(typeof x!=="number")return x.dB()
s=x/t
x=w==null
r=x?0:J.K(w.gcP(),b)
x=x?w:w.gcE(w)
if(typeof r!=="number")return r.dB()
if(typeof x!=="number")return H.m(x)
x=r/x
z.U("- uplifts average = "+H.b(s))
z.U("- best = "+H.b(x))
q=x+s
z.U("- result = "+H.b(q))
return q},
f4:function(){var z=this
return new P.cD(function(){var y=0,x=1,w,v,u,t,s
return function $async$f4(a,b){if(a===1){w=b
y=x}while(true)switch(y){case 0:v=z.f,u=v.gX(v),u=u.gH(u),t=1
case 2:if(!u.n()){y=3
break}s=u.gA()
y=4
return""+t+") "+H.b(J.H(s))+"\t"+J.fA(v.h(0,s),2)
case 4:++t
y=2
break
case 3:return P.cB()
case 1:return P.cC(w)}}})},
dl:function(a,b,c){var z=0,y=new P.aR(),x=1,w,v=this,u,t,s,r,q,p,o,n,m,l,k,j,i
var $async$dl=P.aN(function(d,e){if(d===1){w=e
z=x}while(true)switch(z){case 0:u=v.f
u.a0(0)
t=v.c
s=t.a
r=s.a.bj(0,new G.ku(v))
q=r.c1(s)
p=v.a
o=r.z
p.df("Planning for "+H.b(o)+", initialScore="+H.b(q))
n=new P.c0(v.e6(r,s).a(),null,null,null)
case 2:if(!n.n()){z=3
break}m=n.c
l=m==null?n.b:m.gA()
m=J.q(l)
p.aQ("Evaluating action '"+H.b(m.gm(l))+"' for "+H.b(o))
if(!l.a5(r,s)){p.aQ("- action '"+m.gm(l)+"' isn't applicable")
z=2
break}z=4
return P.D(v.c6(t,l,b,a,c).ap(0),$async$dl,y)
case 4:k=e
j=J.S(k)
if(j.gC(k)===!0){p.aQ("- action '"+m.gm(l)+"' is possible but we couldn't get to any outcomes while planning. Scoring with negative infinity.")
u.j(0,l,-1/0)
z=2
break}p.aQ("- action '"+m.gm(l)+"' leads to "+H.b(j.gi(k))+" different ConsequenceStats, initialScore="+H.b(q))
i=v.jM(k,q,b)
u.j(0,l,i)
p.aQ("- action '"+m.gm(l)+"' was scored "+H.b(i))
z=2
break
case 3:v.e=!0
return P.D(null,0,y)
case 1:return P.D(w,1,y)}})
return P.D(null,$async$dl,y)},
kL:function(a){return this.dl(100,10,a)},
e6:function(a,b){return new P.cD(function(){var z=a,y=b
var x=0,w=1,v,u,t,s
return function $async$e6(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=y.e
x=2
return P.iM((u.length!==0?C.a.gB(u):null).gcs())
case 2:u=(u.length!==0?C.a.gB(u):null).gbt()
t=u.length
s=0
case 3:if(!(s<u.length)){x=5
break}x=6
return P.iM(Q.jg(z,y,u[s]))
case 6:case 4:u.length===t||(0,H.aa)(u),++s
x=3
break
case 5:return P.cB()
case 1:return P.cC(v)}}})},
c6:function(a1,a2,a3,a4,a5){var $async$c6=P.aN(function(a6,a7){switch(a6){case 2:u=x
z=u.pop()
break
case 1:v=a7
z=w}while(true)switch(z){case 0:s={}
r=a1.a
q=r.a.bj(0,new G.kd(t))
p=t.a
p.aQ("=====")
p.aQ(new G.ke(a2,q))
p.aQ(new G.kf(a2))
if(!a2.a5(q,r)){p.aQ("- firstAction not applicable")
z=1
break}o=q.c1(r)
p.aQ(new G.kj(a1,o))
p.aQ(new G.kk(a1))
n=P.b4(null,B.cp)
m=P.I(null,null,null,A.aM)
l=J.k(r)
k=l.gu(r)
for(j=new P.c0(a2.d6(q,a1,r).a(),null,null,null);j.n();){i=j.c
h=i==null?j.b:i.gA()
if(l.gu(r)!==k)throw H.d(new P.z("Action "+a2.k(0)+" modified world state when producing "+H.b(h)+"."))
n.ac(h)}s.a=0
case 3:if(!!n.gC(n)){z=4
break}++s.a
z=1000*(Date.now()-$.$get$dZ().a)>5000?5:6
break
case 5:z=7
return P.cE(a5.$0(),$async$c6,y)
case 7:$.dZ=new P.bN(Date.now(),!1)
case 6:g=n.cI()
p.U("----")
p.U(new G.kl(g))
p.U(new G.km(g))
r=J.fw(g)
if(typeof r!=="number"){r.ag()
z=1
break}if(r>a3||s.a>a4){p.U(new G.kn(s,a3,g))
p.U(new G.ko(g))
z=4
break}z=g.gbC().e.length===0?8:9
break
case 8:p.U("- leaf node: world.situations is empty (end of book)")
r=g.a
f=new B.fK(r.a.bj(0,new G.kp(t)).c1(r),g.e,g.y)
p.U(new G.kq(f))
z=10
x=[1]
return P.cE(P.iL(f),$async$c6,y)
case 10:z=3
break
case 9:r=g.a
l=r.e
e=(l.length!==0?C.a.gB(l):null).dC(r)
q=r.a.bj(0,new G.kg(t))
l=J.k(e)
d=l.t(e,q)
p.U("- actor: "+H.b(l.gm(e))+" (isMain=="+d+")")
p.U("- mainActor: "+H.b(J.H(q)))
f=new B.fK(q.c1(r),g.e,g.y)
p.U(new G.kh(o,f))
p.U(new G.ki(g))
z=11
x=[1]
return P.cE(P.iL(f),$async$c6,y)
case 11:p.U("- generating all actions for "+H.b(l.gm(e)))
l=J.K(n.c,n.b)
j=n.a
if(typeof l!=="number"){l.bh()
z=1
break}for(i=new P.c0(t.e6(e,r).a(),null,null,null);i.n();){c=i.c
b=c==null?i.b:c.gA()
if(!b.a5(e,r))continue
for(c=new P.c0(b.d6(e,g,r).a(),null,null,null);c.n();){a=c.c
a0=a==null?c.b:a.gA();++t.d
if(a0.gdc()<0.05)continue
if(m.F(0,a0.gbC()))continue
n.ac(a0)}}i=J.K(n.c,n.b)
c=n.a
if(typeof i!=="number"){i.bh()
z=1
break}p.U("- added "+(((i&c.length-1)>>>0)-((l&j.length-1)>>>0))+" new PlanConsequences")
m.l(0,r)
z=3
break
case 4:case 1:return P.cE(null,0,y)
case 2:return P.cE(v,1,y)}})
var z=0,y=P.qx($async$c6),x,w=2,v,u=[],t=this,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e,d,c,b,a,a0
return P.tu(y)}},kr:{"^":"a:1;a",
$0:function(){return"  - consequence: "+H.b(this.a)}},ks:{"^":"a:1;a",
$0:function(){return"    - uplift = "+H.b(this.a)}},kt:{"^":"a:3;",
$2:function(a,b){return J.P(a,b)}},ku:{"^":"a:0;a",
$1:function(a){return J.f(J.Q(a),this.a.b)}},kd:{"^":"a:0;a",
$1:function(a){return J.f(J.Q(a),this.a.b)}},ke:{"^":"a:1;a,b",
$0:function(){var z=this.a
return"_getConsequenceStats for firstAction '"+z.gm(z)+"' of "+H.b(J.H(this.b))}},kf:{"^":"a:1;a",
$0:function(){return"- firstAction == "+this.a.k(0)}},kj:{"^":"a:1;a,b",
$0:function(){var z=this.a
return"- current: initialScore="+H.b(this.b)+", cumProb="+H.b(z.e)+" (prob="+H.b(z.d)+", ord="+z.y+")"}},kk:{"^":"a:1;a",
$0:function(){var z=this.a
return"- initial action: "+C.b.bF(" ",z.y)+"- "+J.v(z.b)}},kl:{"^":"a:1;a",
$0:function(){return"evaluating a PlanConsequence of '"+J.H(J.jB(this.a))+"'"}},km:{"^":"a:1;a",
$0:function(){var z=this.a.gbC().e
return"- situation: "+H.b(J.jG(z.length!==0?C.a.gB(z):null))}},kn:{"^":"a:1;a,b,c",
$0:function(){return"- order ("+H.b(J.fw(this.c))+") higher than maximum ("+this.b+"), or consequences ("+this.a.a+") higher than maximum"}},ko:{"^":"a:1;a",
$0:function(){var z=this.a.gbC().c.ap(0)
C.a.c2(z,new G.kb())
return"- how we got here: "+new H.ah(z,new G.kc(),[null,null]).am(0," <- ")}},kb:{"^":"a:3;",
$2:function(a,b){var z=a==null?a:a.gN()
if(!(z==null))z=J.bG(z,b==null?b:b.gN())
return z==null?1:z}},kc:{"^":"a:0;",
$1:function(a){return a.gbO()}},kp:{"^":"a:0;a",
$1:function(a){return J.f(J.Q(a),this.a.b)}},kq:{"^":"a:1;a",
$0:function(){return"- "+this.a.k(0)}},kg:{"^":"a:0;a",
$1:function(a){return J.f(J.Q(a),this.a.b)}},kh:{"^":"a:1;a,b",
$0:function(){return"- mainActor's score == "+this.b.k(0)+" (initial="+H.b(this.a)+")"}},ki:{"^":"a:1;a",
$0:function(){var z=this.a.gbC().c.ap(0)
C.a.c2(z,new G.k9())
return"- how we got here: "+new H.ah(z,new G.ka(),[null,null]).am(0," <- ")}},k9:{"^":"a:3;",
$2:function(a,b){var z=a==null?a:a.gN()
if(!(z==null))z=J.bG(z,b==null?b:b.gN())
return z==null?1:z}},ka:{"^":"a:0;",
$1:function(a){return a.gbO()}},er:{"^":"c;a,cs:b<",
gC:function(a){return this.b.length===0},
p:{
o4:function(a){var z,y,x,w,v,u,t,s,r,q
z={}
if(a.gC(a)){$.$get$hM().hI("Created with no recommendations.")
return new G.er([],[])}y=a.gX(a)
x=P.a6(y,!0,H.A(y,"F",0))
C.a.b0(x,"removeWhere")
C.a.ei(x,new G.tS(a),!0)
if(x.length===1)return new G.er([1000],x)
C.a.c2(x,new G.tT(a))
w=a.gaA(a).au(0,1/0,P.uF())
v=a.gaA(a).au(0,-1/0,P.uE())
y=J.M(v)
u=J.M(w)
t=u.P(w,J.dQ(y.P(v,w),0.1))
z.a=t
if(u.t(w,v)){t=J.K(t,1)
z.a=t
u=t}else u=t
s=y.P(v,u)
r=P.hv(x.length,new G.tU(z,a,x,s),!1,P.aD)
q=new H.ah(r,new G.tW(C.a.au(r,0,G.jn())),[null,null]).aP(0,!1)
z=C.a.au(q,0,G.jn())
if(typeof z!=="number")return H.m(z)
u=q.length
y=u-1
if(y<0)return H.e(q,y)
z=J.P(q[y],1000-z)
if(y>=q.length)return H.e(q,y)
q[y]=z
return new G.er(q,x)},
wB:[function(a,b){return J.P(a,b)},"$2","jn",4,0,7]}},tS:{"^":"a:0;a",
$1:function(a){return J.f(this.a.h(0,a),-1/0)}},tT:{"^":"a:3;a",
$2:function(a,b){var z=this.a
return J.jv(J.bG(z.h(0,a),z.h(0,b)))}},tU:{"^":"a:4;a,b,c,d",
$1:function(a){var z,y
z=this.c
if(a>=z.length)return H.e(z,a)
z=J.K(this.b.h(0,z[a]),this.a.a)
y=this.d
if(typeof z!=="number")return z.dB()
if(typeof y!=="number")return H.m(y)
return z/y}},tW:{"^":"a:0;a",
$1:function(a){var z=this.a
if(typeof a!=="number")return a.dB()
if(typeof z!=="number")return H.m(z)
return C.a5.ds(a/z*1000)}}}],["","",,S,{"^":"",bv:{"^":"c;",
gbt:function(){return C.k},
gcs:function(){return C.k},
dC:function(a){return this.bD(this.gN(),a)},
kG:function(a,b){},
ht:function(a,b){},
fb:function(a){return!0}}}],["","",,S,{"^":"",
hR:function(a){var z=$.$get$bu().aN(3)
if(z<0||z>=3)return H.e(a,z)
return a[z]},
oj:function(a,b){var z,y,x,w,v
z=$.$get$bu().hs()*b
for(y=new H.bR(a,a.gi(a),0,null,[H.A(a,"aK",0)]),x=0,w=0;y.n();){v=y.d
if(typeof v!=="number")return H.m(v)
x+=v
if(x>=z)return w;++w}throw H.d(P.W("The weights do not add up to total="+b))},
ok:function(a,b){var z,y,x,w,v,u,t
z=$.$get$bu().aN(b)
for(y=a.length,x=0,w=0,v=0;u=a.length,v<u;u===y||(0,H.aa)(a),++v){t=a[v]
if(typeof t!=="number")return H.m(t)
x+=t
if(x>=z)return w;++w}throw H.d(P.W("The weights do not add up to total="+b))},
dg:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m
z=J.S(a)
y=z.bw(a,"{")
if(y!==-1){x=J.K(z.gi(a),1)
if(typeof x!=="number")return H.m(x)
x=y<x}else x=!1
if(x){w=H.t([],[P.r])
w.push(y)
u=y+1
t=null
s=1
while(!0){x=z.gi(a)
if(typeof x!=="number")return H.m(x)
if(!(u<x)){v=null
break}r=z.h(a,u)
x=J.k(r)
if(x.t(r,"{"))++s
else if(x.t(r,"|")&&s===1)w.push(u)
else if(x.t(r,"}")){--s
if(s===0){w.push(u)
v=u
t=v
break}}q=u+1
t=u
u=q}p=w.length-1
if(p>1){o=$.$get$bu().aN(p)
z=z.a2(a,0,y)
x=w.length
if(o<0||o>=x)return H.e(w,o)
n=w[o]
m=o+1
if(m>=x)return H.e(w,m)
m=z+H.b(S.dg(C.b.a2(a,n+1,w[m])))
if(typeof v!=="number")return v.G()
n=a.length
m+=C.b.a2(a,v+1,n)
z=m.charCodeAt(0)==0?m:m
if(t===n-1)return z
else return S.dg(z)}else if(t===J.K(z.gi(a),1))return a
else{if(typeof t!=="number")return t.G()
x=t+1
return z.a2(a,0,x)+H.b(S.dg(C.b.bk(a,x)))}}else return a},
cr:function(a,b,c,d){switch($.$get$bu().aN(2)){case 0:a.$0()
break
case 1:b.$0()
break
case 2:c.$0()
break
case 4:d.$0()
break}},
ol:function(a){if(a<0||a>1)throw H.d(P.a1(a,0,1,"Probability needs to be within <0,1>.",null))
if(a===0)return!1
if(a===1)return!0
return $.$get$bu().hs()<a}}],["","",,Y,{"^":"",aG:{"^":"c;aq:a<,av:b<,aO:c<,kI:d<,e,d7:f@,bA:r<,by:x<,k0:y<,i1:z<,cL:Q<,ch,kt:cx<,N:cy<",
h:function(a,b){switch(b){case"string":return this.a
case"subject":return this.b
case"object":return this.c
case"owner":return this.d
case"but":return this.f
case"positive":return this.r
case"negative":return this.x
case"endSentence":return this.y
case"startSentence":return!1
case"wholeSentence":return this.Q
case"time":return this.cy
default:throw H.d(P.W("Invalid key "+H.b(b)+"."))}}},aV:{"^":"c;a,N:b<,c",
gey:function(){return C.a.aH(this.a,new Y.pn())},
bM:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(b==null||J.f(b,""))return
n=this.b
if((J.am(b).de(b,".")||C.b.de(b,"!")||C.b.de(b,"?"))&&C.b.cd(b,P.G("[A-Z]",!0,!1)))o=!0
this.a.push(new Y.aG(b,m,h,j,i,d,k,g,e,!1,o,c,!1,n))},
l:function(a,b){return this.bM(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,null,!1)},
b_:function(a,b,c){return this.bM(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,null,c)},
ep:function(a,b,c){return this.bM(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,c,null,!1)},
jv:function(a,b,c,d){return this.bM(a,b,null,!1,c,!1,!1,null,null,null,!1,!1,d,null,!1)},
a7:function(a,b,c,d,e,f,g,h,i){return this.bM(a,b,null,c,d,!1,e,f,g,null,h,!1,i,null,!1)},
jw:function(a,b,c,d){return this.bM(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,d,null,!1)},
ju:function(a,b,c){return this.bM(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,null,null,!1)},
h4:function(){return this.b_(0,"\n\n",!0)},
d5:function(a,b,c,d,e){var z,y
if(!c.gdk()){z=this.c
y=z.h(0,c.gq(c))
if(y==null)y=-1
if(typeof y!=="number")return y.Y()
if(typeof e!=="number")return H.m(e)
if(y<e)a=J.ca(a,b,"the "+b)
else{y=J.am(a)
a=J.cT(c.gm(c),P.G("[aeiouy]",!1,!1))?y.eR(a,b,"an "+b):y.eR(a,b,"a "+b)
z.j(0,c.gq(c),e)}}return a},
ew:function(a,b){var z,y,x
if(!this.aV(a)||!this.aV(b))return!1
z=this.a
if(a<0||a>=z.length)return H.e(z,a)
if(z[a].gav()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gav()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
if(z[a].gaO()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaO()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.Q(z[a].gav())
if(b<0||b>=z.length)return H.e(z,b)
x=J.Q(z[b].gaO())
if(y==null?x==null:y===x){if(a>=z.length)return H.e(z,a)
y=J.Q(z[a].gaO())
if(b>=z.length)return H.e(z,b)
z=J.f(y,J.Q(z[b].gav()))}else z=!1
return z},
az:[function(a){var z=J.M(a)
if(z.Y(a,0)||z.bi(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaO()}},"$1","gaO",2,0,2],
kH:function(a,b){var z,y
if(!this.aV(a)||!this.aV(b))return!1
if(this.ew(a,b)&&this.T(a).c9(this.T(b))){z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gbA()){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gbA()}else y=!1
if(y)return!0
if(a>=z.length)return H.e(z,a)
if(z[a].gby()){if(b<0||b>=z.length)return H.e(z,b)
z=z[b].gby()}else z=!1
if(z)return!0}z=this.a
if(a>=z.length)return H.e(z,a)
y=z[a].gav()
if(b<0||b>=z.length)return H.e(z,b)
if(this.jg(y,z[b].gav())){if(a>=z.length)return H.e(z,a)
if(z[a].gbA()){if(b>=z.length)return H.e(z,b)
y=z[b].gby()}else y=!1
if(y)return!0
if(a>=z.length)return H.e(z,a)
if(z[a].gby()){if(b>=z.length)return H.e(z,b)
z=z[b].gbA()}else z=!1
if(z)return!0}return!1},
hx:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e
z=this.a
y=C.a.au(z,[],new Y.po())
C.a.b0(z,"retainWhere")
C.a.ei(z,new Y.pp(y),!1)
x=a&&this.gey()?C.a.bw(z,C.a.hh(z,new Y.pq()))+1:z.length
if(x<1)return""
for(w=-1,v=!0,u=!1,t=!1,s=0,r="";s<x;++s){q=s===0
if(!q){p=s-1
o=this.ew(p,s)
if(s>=z.length)return H.e(z,s)
if(z[s].gd7()||this.kH(s,p)){if(p<0||p>=z.length)return H.e(z,p)
t=!z[p].gd7()}else t=!1
if(s>=z.length)return H.e(z,s)
z[s].sd7(t)
n=s-w
if(n<3)if(!u){if(s>=z.length)return H.e(z,s)
z[s].gi1()
if(p<0||p>=z.length)return H.e(z,p)
if(!z[p].gk0()){if(s>=z.length)return H.e(z,s)
if(!z[s].gcL())if(this.d1(s,p)||o)if(!(t&&n>1)){if(t){if(p>=z.length)return H.e(z,p)
n=z[p].gd7()}else n=!1
n=n||this.l2(s)>4}else n=!0
else n=!0
else n=!0}else n=!0
v=n}else v=!0
else v=!0
if(v){if(p<0||p>=z.length)return H.e(z,p)
if(z[p].gcL()){r+=" "
p=r}else{r+=". "
p=r}if(t){if(s>=z.length)return H.e(z,s)
n=!z[s].gcL()}else n=!1
r=n?r+"But ":p
u=!1}else if(t){r+=S.hR([" but "," but ",", but "])
u=!this.hP(s,s+1)&&!0}else{r+=S.hR([" and "," and ",", and "])
u=!0}}m=this.dK(s)
p=!v
if(p){n=s-1
if(this.d1(s,n))if(J.cT(this.dK(n),"<subject> "))if(J.cT(m,"<subject> "))m=H.js(m,"<subject> ","",0)}l=J.u(m,"<action>",this.dK(s))
if(this.jf(s,s-1))n=!(this.az(s).gI()===C.l&&this.T(s).gI()===C.l)
else n=!1
if(n)l=J.u(J.u(J.u(J.u(l,"<object-owner's> <object>",this.az(s).gI().b),"<object-ownerPronoun's> <object>",this.az(s).gI().b),"<object>",this.az(s).gI().b),"<object's>",this.az(s).gI().c)
if(this.d1(s,s-1))l=J.u(J.u(J.u(J.u(l,"<owner's> <subject>",this.T(s).gI().a),"<ownerPronoun's> <subject>",this.T(s).gI().a),"<subject>",this.T(s).gI().a),"<subject's>",this.T(s).gI().c)
n=s-1
if(this.az(n)!=null&&this.T(s)!=null&&this.T(n)!=null&&J.f(J.Q(this.az(n)),J.Q(this.T(s)))&&this.T(n).gI()!==this.T(s).gI())l=J.u(J.u(J.u(J.u(l,"<owner's> <subject>",this.T(s).gI().a),"<ownerPronoun's> <subject>",this.T(s).gI().a),"<subject>",this.T(s).gI().a),"<subject's>",this.T(s).gI().c)
if(this.T(n)!=null)if(this.az(s)!=null){k=J.Q(this.T(n))
j=J.Q(this.az(s))
n=(k==null?j==null:k===j)&&this.T(n).gI()!==this.T(s).gI()}else n=!1
else n=!1
if(n)l=J.u(J.u(J.u(J.u(l,"<object-owner's> <object>",this.az(s).gI().a),"<object-ownerPronoun's> <object>",this.az(s).gI().a),"<object>",this.az(s).gI().b),"<object's>",this.az(s).gI().c)
if(s>=z.length)return H.e(z,s)
n=z[s]
i=n.gav()
h=n.gaO()
g=n.gkI()
f=n.e
if(i!=null){e=i.gW()?J.u(J.u(l,"<subject>","you"),"<subject's>","your"):l
k=i.gI()===C.I||i.gI()===C.as
j=J.am(e)
e=J.ca(k?J.u(J.u(J.u(J.u(J.u(j.cb(e,"<s>",""),"<es>",""),"<ies>","y"),"<does>","do"),"<is>","are"),"<has>","have"):J.u(J.u(J.u(J.u(J.u(j.cb(e,"<s>","s"),"<es>","es"),"<ies>","ies"),"<does>","does"),"<is>","is"),"<has>","has"),"<subject>","<subjectNoun>")
j=i.gI()
e=H.cN(e,"<subject>",j.a)
k=n.cy
e=J.ca(this.d5(e,"<subjectNoun>",i,g,k),"<subjectNoun>",i.gm(i))
j=i.gI()
e=H.cN(e,"<subjectPronoun>",j.a)
e=J.ca(this.d5(J.cO(l,P.G("<subject>.+<subject's>",!0,!1))===!0?J.u(e,"<subject's>",i.gI().c):e,"<subject's>",i,g,k),"<subject's>",H.b(i.gm(i))+"'s")
k=i.gI()
e=J.u(H.cN(e,"<subject's>",k.c),"<subjectPronoun's>",i.gI().c)}else e=l
if(h!=null){e=h.gW()?J.u(J.u(e,"<object>","you"),"<object's>","your"):J.u(this.d5(e,"<object>",h,f,n.cy),"<object>",h.gm(h))
e=J.u(e,"<objectPronoun>",h.gI().b)
if(J.cO(l,P.G("<object>.+<object's>",!0,!1))===!0)e=J.u(e,"<object's>",h.gI().c)
e=J.ca(this.d5(e,"<object's>",h,f,n.cy),"<object's>",H.b(h.gm(h))+"'s")
k=h.gI()
e=J.u(H.cN(e,"<object's>",k.c),"<objectPronoun's>",h.gI().c)}n=n.cy
m=S.dg(this.fP(f,this.fP(g,e,l,"<owner>","<owner's>","<ownerPronoun>","<ownerPronoun's>",n),l,"<object-owner>","<object-owner's>","<object-ownerPronoun>","<object-ownerPronoun's>",n))
r+=H.b((!p||q)&&!t?Y.pm(m):m)
if(v)w=s
if(s>=z.length)return H.e(z,s)
if(z[s].gcL())u=!0}q=x-1
if(q>>>0!==q||q>=z.length)return H.e(z,q)
z=!z[q].gcL()?r+".":r
return H.uY(z.charCodeAt(0)==0?z:z,$.$get$i8(),new Y.pr(),null)},
dn:function(){return this.hx(!1)},
kR:function(){if(!this.gey()){C.a.si(this.a,0)
return}var z=this.a
C.a.dq(z,0,C.a.bw(z,C.a.hh(z,new Y.ps()))+1)},
hP:function(a,b){var z,y
if(!this.aV(a)||!this.aV(b))return!1
if(this.ew(a,b)&&this.T(a).c9(this.T(b))){z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gbA()){if(b>=z.length)return H.e(z,b)
y=z[b].gby()}else y=!1
if(y)return!0
if(a>=z.length)return H.e(z,a)
if(z[a].gby()){if(b>=z.length)return H.e(z,b)
z=z[b].gbA()}else z=!1
if(z)return!0}if(!this.d1(a,b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gbA()){if(b>=z.length)return H.e(z,b)
y=z[b].gbA()}else y=!1
if(y)return!0
if(a>=z.length)return H.e(z,a)
if(z[a].gby()){if(b>=z.length)return H.e(z,b)
z=z[b].gby()}else z=!1
if(z)return!0
else return!1},
dK:[function(a){var z=J.M(a)
if(z.Y(a,0)||z.bi(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaq()}},"$1","gaq",2,0,4],
T:[function(a){var z=J.M(a)
if(z.Y(a,0)||z.bi(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gav()}},"$1","gav",2,0,2],
l2:function(a){var z,y,x
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gN()!=null){y=a-1
if(this.aV(y)){if(y<0||y>=z.length)return H.e(z,y)
y=z[y].gN()==null}else y=!0}else y=!0
if(y)return 1000
else{if(a>=z.length)return H.e(z,a)
y=z[a].gN()
x=a-1
if(x<0||x>=z.length)return H.e(z,x)
x=z[x].gN()
if(typeof y!=="number")return y.P()
if(typeof x!=="number")return H.m(x)
return y-x}},
k:function(a){return this.dn()},
aV:function(a){if(a>=this.a.length||a<0)return!1
else return!0},
fP:function(a,b,c,d,e,f,g,h){b=J.u(J.u(J.u(J.u(b,d,""),e,""),f,""),g,"")
return b},
jf:function(a,b){var z,y
if(!this.aV(a)||!this.aV(b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gaO()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaO()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.Q(z[a].gaO())
if(b<0||b>=z.length)return H.e(z,b)
return J.f(y,J.Q(z[b].gaO()))},
d1:function(a,b){var z,y
if(!this.aV(a)||!this.aV(b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gav()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gav()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.Q(z[a].gav())
if(b<0||b>=z.length)return H.e(z,b)
z=J.Q(z[b].gav())
return y==null?z==null:y===z},
jg:function(a,b){if(a==null||b==null)return!1
return J.f(a.gao(),b.gao())},
p:{
pm:function(a){var z,y
z=J.S(a)
if(z.F(a,"\n\n")!==!0)a=z.l6(a)
z=J.S(a)
if(z.gC(a)===!0)return a
y=J.k0(z.h(a,0))
if(J.f(z.gi(a),1))return y
else return y+z.bk(a,1)}}},pn:{"^":"a:0;",
$1:function(a){return J.f(a.gaq(),"\n\n")}},po:{"^":"a:41;",
$2:function(a,b){var z,y
z=J.S(a)
y=z.gV(a)?z.gB(a):null
if(y!=null)y.gkt()
z.l(a,b)
return a}},pp:{"^":"a:42;a",
$1:function(a){return J.cO(this.a,a)}},pq:{"^":"a:0;",
$1:function(a){return J.f(a.gaq(),"\n\n")}},pr:{"^":"a:43;",
$1:function(a){return H.b(a.h(0,1))+H.b(a.h(0,2))+H.b(a.h(0,3))}},ps:{"^":"a:0;",
$1:function(a){return J.f(a.gaq(),"\n\n")}},bP:{"^":"nK;dk:a<,m:b>,c,ao:d<,W:e<,I:f<",
gq:function(a){return H.al(this)},
geB:function(){return!0},
gbU:function(){return!0}},nK:{"^":"c+e6;"},e6:{"^":"c;",
gbV:function(){if(this.gbU()){this.geB()
var z=!0}else z=!1
return z},
c9:function(a){var z,y
z=this.gao()
y=$.$get$bE()
if(J.f(z,y)||J.f(a.gao(),y))return!1
return!J.f(this.gao(),a.gao())},
b7:function(a,b,c,d,e,f,g,h){a.a7(0,b,c,d,e,f,g,h,H.c6(this,"$isbP"))},
bY:function(a,b,c){return this.b7(a,b,!1,!1,!1,c,null,!1)},
kW:function(a,b,c,d){return this.b7(a,b,c,!1,!1,null,null,d)},
b6:function(a,b){return this.b7(a,b,!1,!1,!1,null,null,!1)},
eS:function(a,b,c){return this.b7(a,b,!1,!1,!1,null,null,c)},
dr:function(a,b,c,d){return this.b7(a,b,c,!1,!1,d,null,!1)},
bX:function(a,b,c){return this.b7(a,b,!1,!1,c,null,null,!1)},
bZ:function(a,b,c,d){return this.b7(a,b,!1,!1,!1,c,null,d)},
kX:function(a,b,c,d){return this.b7(a,b,!1,c,d,null,null,!1)},
kV:function(a,b,c){return this.b7(a,b,!1,c,!1,null,null,!1)},
kY:function(a,b,c,d){return this.b7(a,b,!1,!1,c,d,null,!1)}},cq:{"^":"c;a,b,c,d",
k:function(a){return this.a}}}],["","",,L,{"^":"",u2:{"^":"a:0;",
$1:function(a){a.gcr().b=2
return 2}},u1:{"^":"a:0;",
$1:function(a){a.gcr().b=0
return 0}},u4:{"^":"a:0;",
$1:function(a){a.gcr().b=1
return 1}},ie:{"^":"c;"},qn:{"^":"ie;q:a>",
aS:function(a){var z=new L.ig(null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.ie))return!1
z=this.a
y=b.a
return z==null?y==null:z===y},
gu:function(a){return Y.b0(Y.y(0,J.x(this.a)))},
k:function(a){return"Team {id="+J.v(this.a)+",\n}"},
p:{
eK:function(a){var z=new L.ig(null,null)
a.$1(z)
return z.E()}}},ig:{"^":"c;a,b",
gq:function(a){return this.gcr().b},
gcr:function(){var z=this.a
if(z!=null){this.b=z.a
this.a=null}return this},
E:function(){var z,y
z=this.a
if(z==null){y=this.gcr().b
z=new L.qn(y)
if(y==null)H.n(P.N("id"))}this.a=z
return z}}}],["","",,X,{"^":"",
j6:function(a,b){return new P.cD(function(){var z=a,y=b
var x=0,w=1,v,u,t,s,r,q
return function $async$j6(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=z.a
t=new J.bj(u,u.length,0,null,[H.p(u,0)])
u=y.a
s=new J.bj(u,u.length,0,null,[H.p(u,0)])
case 2:if(!!0){x=3
break}r=t.n()
q=s.n()
x=r?4:5
break
case 4:x=6
return t.d
case 6:case 5:x=q?7:8
break
case 7:x=9
return s.d
case 9:case 8:if(!r&&!q){x=3
break}x=2
break
case 3:return P.cB()
case 1:return P.cC(v)}}})}}],["","",,A,{"^":"",aM:{"^":"c;jr:a<,b,c,d,e,N:f<",
gu:function(a){var z,y,x,w
z=X.aC(this.a)
y=X.aC(this.c)
x=X.aC(this.e)
w=this.f
return X.f1(X.bz(X.bz(X.bz(X.bz(0,z&0x1FFFFFFF),y&0x1FFFFFFF),x&0x1FFFFFFF),J.x(w)))},
t:function(a,b){var z
if(b==null)return!1
z=J.k(b)
return!!z.$isaM&&this.gu(this)===z.gu(b)},
hf:function(a){var z,y,x
z=this.e4(a)
if(z==null)throw H.d(new P.z("Tried to elapseSituationTime of situation id="+H.b(a)+" that doesn't exist in situations ("+H.b(this.e)+")."))
y=this.e
if(z!==(z|0)||z>=y.length)return H.e(y,z)
x=y[z].bu()
if(z!==(z|0)||z>=y.length)return H.e(y,z)
y[z]=x},
bu:function(){var z=this.f
if(typeof z!=="number")return z.G()
this.f=z+1},
a6:function(a){return this.a.bj(0,new A.qe(a))},
hO:function(a){var z,y
z=this.e4(a)
if(z==null)return
y=this.e
if(z!==(z|0)||z>=y.length)return H.e(y,z)
return y[z]},
cH:function(a){var z=this.e
while(!0){if(!(z.length!==0&&!J.f(J.H(C.a.gB(z)),a)))break
C.a.hy(z)}if(z.length===0)throw H.d(P.W("Tried to pop situations until "+a+" but none was found in stack."))},
k:function(a){var z,y
z=this.a
y=z.fM()
y.K(0,z)
return"World<"+P.bp(y,"{","}")+">"},
aU:function(a,b){var z,y,x
z=this.a6(a)
y=z.aS(b)
x=this.a
x.D(0,z)
x.l(0,y)},
e4:function(a){var z,y,x
y=this.e
x=0
while(!0){if(!(x<y.length)){z=null
break}if(J.f(J.Q(y[x]),a)){z=x
break}++x}return z},
is:function(a){var z
this.a.K(0,a.a)
z=a.c
this.c.K(0,new H.bn(z,new A.qc(),[H.p(z,0),null]))
this.b.K(0,a.b)
z=a.d
this.d.K(0,new H.bn(z,new A.qd(),[H.p(z,0),null]))
C.a.K(this.e,a.e)
this.f=a.f},
p:{
iA:function(a){var z,y
z=P.I(null,null,null,R.ab)
y=P.I(null,null,null,O.cU)
y=new A.aM(z,P.I(null,null,null,U.ec),y,P.I(null,null,null,null),[],null)
y.is(a)
return y}}},qc:{"^":"a:0;",
$1:function(a){var z,y,x,w,v,u,t,s,r,q,p
z=a.gN()
y=a.gh3()
x=a.geo()
w=a.gbO()
v=a.ghw()
u=P.r
t=P.ax(a.gdM(),u)
s=P.ax(a.gkw(),u)
r=a.y
q=a.z
p=R.k5(a.Q,P.T)
return new O.cU(w,y,x,z,v,P.I(null,null,null,u),t,s,r,q,p)}},qd:{"^":"a:0;",
$1:function(a){var z=a.gjq()
return new K.nu(P.ax(a.a,K.nv),z,a.c)}},qe:{"^":"a:0;a",
$1:function(a){return J.f(J.Q(a),this.a)}}}],["","",,S,{"^":"",
fO:function(a,b){var z=new S.e3(null,null,null,null,null)
new S.tP(a,b).$1(z)
return z.E()},
fN:{"^":"bv;",
gbt:function(){return[G.u9()]},
gcs:function(){return[$.$get$eq()]},
gm:function(a){return"CounterAttackSituation"},
bu:function(){var z=new S.e3(null,null,null,null,null)
z.a=this
new S.kW().$1(z)
return z.E()},
bD:function(a,b){if(a===0)return b.a6(this.a)
return},
bE:function(a,b){return new H.a5(a,new S.kX(this),[H.p(a,0)])}},
tP:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().aN(1073741823)
a.gaB().c=z
a.gaB().e=0
z=this.a
z=z.gq(z)
a.gaB().b=z
z=J.Q(this.b)
a.gaB().d=z
return a}},
kW:{"^":"a:0;",
$1:function(a){var z=a.gaB().e
if(typeof z!=="number")return z.G()
a.gaB().e=z+1
return a}},
kX:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.f(z.gq(a),y.a)||J.f(z.gq(a),y.c)}},
qg:{"^":"fN;a,q:b>,c,N:d<",
aS:function(a){var z=new S.e3(null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof S.fN))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
k:function(a){return"CounterAttackSituation {counterAttacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntarget="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
e3:{"^":"c;a,b,c,d,e",
gq:function(a){return this.gaB().c},
gN:function(){return this.gaB().e},
gaB:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaB().b
x=this.gaB().c
w=this.gaB().d
v=this.gaB().e
z=new S.qg(y,x,w,v)
if(y==null)H.n(P.N("counterAttacker"))
if(x==null)H.n(P.N("id"))
if(w==null)H.n(P.N("target"))
if(v==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,G,{"^":"",kY:{"^":"an;a4:c<,b,a",
gay:function(){return"swing back at <object>"},
as:[function(a,b,c){a.b6(c,"<subject> tr<ies> to swing back")
a.toString
c.a7(0,"<subject> {go<es> wide|miss<es>}",!0,!1,!1,null,null,!1,a)
if(a.gJ()===C.c){b.aU(a.e,new G.kZ())
c.a7(0,"<subject> lose<s> balance because of that",!1,!0,!0,null,null,!1,a)}return H.b(a.z)+" fails to swing back at "+H.b(J.H(this.b))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z,y
z=this.b
a.bY(c,"<subject> swing<s> back at <object>",z)
y=b.e
C.a.l(y,M.i1(a,z))
C.a.l(y,L.i_(a,z))
return H.b(a.gm(a))+" swings back at "+H.b(J.H(z))},"$3","gak",6,0,0],
af:function(a,b){return this.b.gJ()===C.c?0.7:0.9},
a5:function(a,b){return a.bg(C.f)},
p:{
vd:[function(a){return new G.kY("You can deal serious damage when countering because your opponent is often caught off guard. On the other hand, counters require fast reaction and could throw you out of balance.",a,null)},"$1","u9",2,0,1]}},kZ:{"^":"a:0;",
$1:function(a){a.sJ(C.i)
return a}}}],["","",,X,{"^":"",
jq:function(a,b){switch($.$get$iY().aN(3)){case 0:b.kX(a,"<subject> collapse<s>, dead",!0,!0)
break
case 1:b.bX(a,"<subject> fall<s> backward",!0)
b.toString
a.a7(0,"<subject> twist<s>",!1,!1,!0,null,null,!1,b)
a.a7(0,"<subject> hit<s> the ground face down",!1,!0,!0,null,null,!1,b)
break
case 2:b.bX(a,"<subject> drop<s> to <subject's> knees",!0)
b.toString
a.a7(0,"<subject> keel<s> over",!1,!1,!0,null,null,!1,b)
break}a.b_(0,"\n\n",!0)}}],["","",,X,{"^":"",l8:{"^":"an;a4:c<,b,a",
gay:function(){return"step back and parry"},
as:[function(a,b,c){a.b6(c,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.gaw().f+"|fend it off}")
if(a.ch===C.i)c.a7(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a)
else S.cr(new X.l9(a,c),new X.la(this,a,c),null,null)
return H.b(a.z)+" fails to parry "+H.b(J.H(this.b))},"$3","gaj",6,0,0],
at:[function(a,b,c){if(a.gW())a.b6(c,"<subject> {step<s>|take<s> a step} back")
a.eS(c,"<subject> {parr<ies> it|deflect<s> it|meet<s> it with <subject's> "+a.gaw().f+"|fend<s> it off}",!0)
if(a.ch!==C.c){b.aU(a.e,new X.lb())
if(a.x)c.a7(0,"<subject> regain<s> balance",!1,!1,!1,null,null,!1,a)}b.cH("FightSituation")
return H.b(a.z)+" steps back and parries "+H.b(J.H(this.b))},"$3","gak",6,0,0],
af:function(a,b){if(a.gW())return 1
return 0.5-(a.gJ()===C.c?0:0.2)},
a5:function(a,b){return a.bg(C.f)},
p:{
vf:[function(a){return new X.l8("Stepping back is the safest way to get out of harm's way.",a,null)},"$1","ua",2,0,1]}},l9:{"^":"a:1;a,b",
$0:function(){this.b.a7(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a)
return}},la:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dr(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},lb:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return a}}}],["","",,F,{"^":"",lj:{"^":"an;a4:c<,b,a",
gay:function(){return"dodge and counter"},
as:[function(a,b,c){a.b6(c,"<subject> tr<ies> to {dodge|sidestep}")
if(a.gJ()===C.i)c.a7(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a)
else S.cr(new F.lk(a,c),new F.ll(this,a,c),null,null)
return H.b(a.z)+" fails to dodge "+H.b(J.H(this.b))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z=this.b
a.bZ(c,"<subject> {dodge<s>|sidestep<s>} it",z,!0)
if(z.gJ()===C.c){z.kV(c,"<subject> lose<s> balance because of that",!0)
b.aU(z.e,new F.lm())}b.cH("FightSituation")
if(a.gW())c.l(0,"this opens an opportunity for a counter attack")
C.a.l(b.e,S.fO(a,z))
return H.b(a.gm(a))+" dodges "+H.b(z.gm(z))},"$3","gak",6,0,0],
af:function(a,b){var z=a.gJ()===C.c?0:0.2
if(a.gW())return 0.7-z
return 0.4-z},
a5:function(a,b){return a.gJ()!==C.n},
p:{
vi:[function(a){return new F.lj("Dodging means moving your body out of harm's way. When done correctly, it will throw your opponent off balance and it will open an opportunity for a counter attack. When botched, it can get you killed.",a,null)},"$1","ub",2,0,1]}},lk:{"^":"a:1;a,b",
$0:function(){this.b.a7(0,"<subject> {can't|fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a)
return}},ll:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dr(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},lm:{"^":"a:0;",
$1:function(a){a.sJ(C.i)
return C.i}}}],["","",,U,{"^":"",
lM:function(a,b){var z=new U.d3(null,null,null,null,null,null)
new U.u3(a,b).$1(z)
return z.E()},
h6:{"^":"bv;",
gbt:function(){return[Y.uv(),Y.uQ(),T.uS()]},
gcs:function(){return H.t([$.$get$hU(),$.$get$i5()],[Q.cc])},
gm:function(a){return"FightSituation"},
bu:function(){var z=new U.d3(null,null,null,null,null,null)
z.a=this
new U.lN().$1(z)
return z.E()},
bD:function(a,b){var z,y,x
z=X.j6(this.d,this.a)
y=H.A(z,"F",0)
x=P.a6(new H.a5(z,new U.lO(b),[y]),!1,y)
y=x.length
if(typeof a!=="number")return a.f6()
return b.a6(x[C.j.f6(a,y)])},
bE:function(a,b){return new H.a5(a,new U.lP(this),[H.p(a,0)])},
ht:function(a,b){var z,y
z=this.e
y=this.b.a
if(y.L(0,z))y.h(0,z).$2(a,b)},
fb:function(a){var z,y
z=new U.lQ(a)
y=this.d
if(z.$1(y)===!0)if(z.$1(this.a)===!0){z=y.a
z=(z&&C.a).aH(z,new U.lS(a))}else z=!1
else z=!1
return z}},
u3:{"^":"a:0;a,b",
$1:function(a){var z,y,x
z=$.$get$bg().aN(1073741823)
a.gah().d=z
a.gah().f=0
z=a.gah()
y=z.e
if(y==null){y=new S.bq(null,null,[P.r])
y.ba()
y.an(0,C.k)
z.e=y
z=y}else z=y
y=[null,null]
z.an(0,new H.ah(this.a,new U.t9(),y))
z=a.gah()
x=z.b
if(x==null){x=new S.bq(null,null,[P.r])
x.ba()
x.an(0,C.k)
z.b=x
z=x}else z=x
z.an(0,new H.ah(this.b,new U.ta(),y))
return a}},
t9:{"^":"a:0;",
$1:function(a){return J.Q(a)}},
ta:{"^":"a:0;",
$1:function(a){return J.Q(a)}},
lN:{"^":"a:0;",
$1:function(a){var z=a.gah().f
if(typeof z!=="number")return z.G()
a.gah().f=z+1
return a}},
lO:{"^":"a:0;a",
$1:function(a){return this.a.a6(a).gbV()}},
lP:{"^":"a:6;a",
$1:function(a){var z,y,x
if(a.gbV()){z=this.a
y=a.gq(a)
x=z.d.a
if(!(x&&C.a).F(x,y)){y=a.gq(a)
z=z.a.a
y=(z&&C.a).F(z,y)
z=y}else z=!0}else z=!1
return z}},
lQ:{"^":"a:44;a",
$1:function(a){var z=a.a
return(z&&C.a).aH(z,new U.lR(this.a))}},
lR:{"^":"a:0;a",
$1:function(a){return this.a.a6(a).gbV()}},
lS:{"^":"a:45;a",
$1:function(a){var z=this.a.a6(a)
return z.gW()&&z.gbV()}},
qh:{"^":"h6;a,b,q:c>,d,N:e<",
aS:function(a){var z=new U.d3(null,null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.h6))return!1
if(J.f(this.a,b.a))if(J.f(this.b,b.b)){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
k:function(a){return"FightSituation {enemyTeamIds="+J.v(this.a)+",\nevents="+J.v(this.b)+",\nid="+J.v(this.c)+",\nplayerTeamIds="+J.v(this.d)+",\ntime="+J.v(this.e)+",\n}"}},
d3:{"^":"c;a,b,c,d,e,f",
gq:function(a){return this.gah().d},
gN:function(){return this.gah().f},
gah:function(){var z,y
z=this.a
if(z!=null){z=z.a
if(!(z==null)){y=new S.bq(null,null,[H.p(z,0)])
y.ba()
y.an(0,z)
z=y}this.b=z
z=this.a.b
if(!(z==null)){y=new A.cn(null,null,[H.p(z,0),H.p(z,1)])
y.bH()
y.an(0,z)
z=y}this.c=z
z=this.a
this.d=z.c
z=z.d
if(!(z==null)){y=new S.bq(null,null,[H.p(z,0)])
y.ba()
y.an(0,z)
z=y}this.e=z
this.f=this.a.e
this.a=null}return this},
E:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gah()
x=y.b
if(x==null){x=new S.bq(null,null,[P.r])
x.ba()
x.an(0,C.k)
y.b=x
y=x}else y=x
y=y==null?y:y.E()
x=this.gah()
w=x.c
if(w==null){w=new A.cn(null,null,[P.r,{func:1,v:true,args:[A.aM,Y.aV]}])
w.bH()
w.an(0,C.w)
x.c=w
x=w}else x=w
x=x==null?x:x.E()
w=this.gah().d
v=this.gah()
u=v.e
if(u==null){u=new S.bq(null,null,[P.r])
u.ba()
u.an(0,C.k)
v.e=u
v=u}else v=u
v=v==null?v:v.E()
u=this.gah().f
z=new U.qh(y,x,w,v,u)
if(y==null)H.n(P.N("enemyTeamIds"))
if(x==null)H.n(P.N("events"))
if(w==null)H.n(P.N("id"))
if(v==null)H.n(P.N("playerTeamIds"))
if(u==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,Y,{"^":"",hp:{"^":"an;a4:c<,b,a",
gay:function(){return"kick <object>"},
as:[function(a,b,c){var z=this.b
a.bY(c,"<subject> kick<s> <object>",z)
if(z.gJ()===C.c){if(a.gW())z.kY(c,"<subject> lose<s> <object>",!0,$.$get$fa())
b.aU(z.gq(z),new Y.nb())}if(b.a6(z.gq(z)).gJ()===C.i)C.a.l(b.e,U.nL(z,a))
return H.b(a.gm(a))+" kicks "+H.b(z.gm(z))+" off balance"},"$3","gaj",6,0,0],
at:[function(a,b,c){var z=this.b
if(z.gJ()===C.c||z.gJ()===C.i){S.cr(new Y.nc(this,a,c),new Y.nd(this,a,c),null,null)
b.aU(z.gq(z),new Y.ne())}else a.bY(c,"<subject> kick<s> <object> on the ground",z)
return H.b(J.H(a))+" kicks "+H.b(z.gm(z))+" to ground"},"$3","gak",6,0,0],
af:function(a,b){var z=a.gJ()===C.c?0:0.2
if(a.gW())return 0.7-z
return 0.5-z},
a5:function(a,b){return a.gJ()===C.c},
p:{
w2:[function(a){return new Y.hp("Kicking opponents doesn't deal much damage but it can put them off balance or even to the ground. Such opponents are much easier targets for you and your allies.",a,null)},"$1","uv",2,0,1]}},nb:{"^":"a:0;",
$1:function(a){a.sJ(C.i)
return a}},nc:{"^":"a:1;a,b,c",
$0:function(){var z,y
z=this.c
y=this.a.b
this.b.bY(z,"<subject> kick<s> <object>",y)
if(S.ol(0.5))y.b6(z,"<subject> flail<s> <subject's> arms")
y.bX(z,"<subject> fall<s>{| to the ground}",!0)}},nd:{"^":"a:1;a,b,c",
$0:function(){var z,y
z=this.c
y=this.a.b
this.b.bZ(z,"<subject> kick<s> <object> off <object's> feet",y,!0)
if(y.gW())y.bX(z,"<subject> land<s> on the ground",!0)}},ne:{"^":"a:0;",
$1:function(a){a.sJ(C.n)
return a}}}],["","",,U,{"^":"",
nL:function(a,b){var z=new U.eo(null,null,null,null,null)
new U.tR(a,b).$1(z)
return z.E()},
hH:{"^":"bv;",
gbt:function(){return[A.uG()]},
gcs:function(){return[$.$get$eq()]},
gm:function(a){return"OffBalanceOpportunitySituation"},
bu:function(){var z=new U.eo(null,null,null,null,null)
z.a=this
new U.nM().$1(z)
return z.E()},
bD:function(a,b){var z,y,x,w,v
if(typeof a!=="number")return a.ag()
if(a>0)return
z=b.a6(this.a)
y=b.a
x=H.p(y,0)
w=P.a6(new H.a5(y,new U.nN(this,z),[x]),!0,x)
if(w.length===0)return
v=C.a.gO(w)
if(new A.hI("When an opponent is out of balance they are the most vulnerable.",z,null).a5(v,b))return v
return},
bE:function(a,b){return new H.a5(a,new U.nO(b.a6(this.a)),[H.p(a,0)])}},
tR:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().aN(1073741823)
a.gaC().d=z
a.gaC().e=0
z=J.Q(this.a)
a.gaC().b=z
z=this.b
z=z==null?z:z.gq(z)
a.gaC().c=z
return a}},
nM:{"^":"a:0;",
$1:function(a){var z=a.gaC().e
if(typeof z!=="number")return z.G()
a.gaC().e=z+1
return a}},
nN:{"^":"a:6;a,b",
$1:function(a){var z,y
if(a.gbV())if(a.c9(this.b)){z=a.gq(a)
y=this.a.b
y=z==null?y!=null:z!==y
z=y}else z=!1
else z=!1
return z}},
nO:{"^":"a:0;a",
$1:function(a){var z=this.a
return J.f(a,z)||a.c9(z)}},
qi:{"^":"hH;a,b,q:c>,N:d<",
aS:function(a){var z=new U.eo(null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.hH))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1}else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
k:function(a){return"OffBalanceOpportunitySituation {actorId="+H.b(J.v(this.a))+",\nculpritId="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntime="+J.v(this.d)+",\n}"}},
eo:{"^":"c;a,b,c,d,e",
gq:function(a){return this.gaC().d},
gN:function(){return this.gaC().e},
gaC:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaC().b
x=this.gaC().c
w=this.gaC().d
v=this.gaC().e
z=new U.qi(y,x,w,v)
if(y==null)H.n(P.N("actorId"))
if(w==null)H.n(P.N("id"))
if(v==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,A,{"^":"",hI:{"^":"an;a4:c<,b,a",
gay:function(){return"stab <object>"},
as:[function(a,b,c){var z=this.b
a.bY(c,"<subject> tr<ies> to stab <object>",z)
a.toString
c.a7(0,"<subject> {go<es> wide|fail<s>|miss<es>}",!0,!1,!1,null,null,!1,a)
return H.b(a.gm(a))+" fails to stab "+H.b(J.H(z))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z,y
z=this.b
y=J.q(z)
b.aU(y.gq(z),new A.nP())
if(b.a6(y.gq(z)).gbU()){a.bZ(c,"<subject> thrust<s> {|<subject's> "+a.gaw().f+"} deep into <object's> {shoulder|hip|thigh}",z,!0)
z.bX(c,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.bZ(c,"<subject> {stab<s>|run<s> <subject's> "+a.gaw().f+" through} <object>",z,!0)
X.jq(c,z)}return H.b(J.H(a))+" stabs "+H.b(y.gm(z))},"$3","gak",6,0,0],
af:function(a,b){if(a.gW())return 0.6
return 0.5},
a5:function(a,b){return a.gJ()===C.c&&this.b.gJ()===C.i&&a.bg(C.f)},
p:{
wt:[function(a){return new A.hI("When an opponent is out of balance they are the most vulnerable.",a,null)},"$1","uG",2,0,1]}},nP:{"^":"a:0;",
$1:function(a){a.saL(a.gaL()-1)
return a}}}],["","",,V,{"^":"",
nQ:function(a,b){var z=new V.ep(null,null,null,null,null)
new V.tL(a,b).$1(z)
return z.E()},
hJ:{"^":"bv;",
gbt:function(){return[K.uH(),Y.uK()]},
gm:function(a){return"OnGroundDefenseSituation"},
bu:function(){var z=new V.ep(null,null,null,null,null)
z.a=this
new V.nR().$1(z)
return z.E()},
bD:function(a,b){if(a===0)return b.a6(this.c)
return},
bE:function(a,b){return new H.a5(a,new V.nS(this),[H.p(a,0)])}},
tL:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().aN(1073741823)
a.gaD().c=z
a.gaD().e=0
z=this.a
z=z.gq(z)
a.gaD().b=z
z=J.Q(this.b)
a.gaD().d=z
return a}},
nR:{"^":"a:0;",
$1:function(a){var z=a.gaD().e
if(typeof z!=="number")return z.G()
a.gaD().e=z+1
return a}},
nS:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.f(z.gq(a),y.a)||J.f(z.gq(a),y.c)}},
qj:{"^":"hJ;a,q:b>,c,N:d<",
aS:function(a){var z=new V.ep(null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof V.hJ))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
k:function(a){return"OnGroundDefenseSituation {attacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntargetOnGround="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
ep:{"^":"c;a,b,c,d,e",
gq:function(a){return this.gaD().c},
gN:function(){return this.gaD().e},
gaD:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaD().b
x=this.gaD().c
w=this.gaD().d
v=this.gaD().e
z=new V.qj(y,x,w,v)
if(y==null)H.n(P.N("attacker"))
if(x==null)H.n(P.N("id"))
if(w==null)H.n(P.N("targetOnGround"))
if(v==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,K,{"^":"",nT:{"^":"an;a4:c<,b,a",
gay:function(){return"parry it"},
as:[function(a,b,c){a.b6(c,"<subject> tr<ies> to {parry|deflect it|stop it{| with <subject's> "+a.gaw().f+"}}")
S.cr(new K.nU(a,c),new K.nV(this,a,c),null,null)
return H.b(a.z)+" fails to parry "+H.b(J.H(this.b))},"$3","gaj",6,0,0],
at:[function(a,b,c){a.eS(c,"<subject> {parr<ies> it|stop<s> it with <subject's> "+a.gaw().f+"}",!0)
b.cH("FightSituation")
return H.b(a.z)+" parries "+H.b(J.H(this.b))},"$3","gak",6,0,0],
af:function(a,b){if(a.gW())return 0.6
return 0.3},
a5:function(a,b){return a.bg(C.f)},
p:{
wu:[function(a){return new K.nT("You can deal serious damage when countering because your opponent is often caught off guard. On the other hand, counters require fast reaction and could throw you out of balance.",a,null)},"$1","uH",2,0,1]}},nU:{"^":"a:1;a,b",
$0:function(){var z=this.a
z.toString
this.b.a7(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,z)
return}},nV:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dr(this.c,"<subject> <is> too quick for <object>",!0,this.b)}}}],["","",,Y,{"^":"",os:{"^":"an;a4:c<,b,a",
gay:function(){return"roll out of way"},
as:[function(a,b,c){a.b6(c,"<subject> tr<ies> to roll out of the way")
a.toString
c.a7(0,"<subject> can't",!0,!1,!1,null,null,!1,a)
return H.b(a.gm(a))+" fails to roll out of the way"},"$3","gaj",6,0,0],
at:[function(a,b,c){a.kW(c,"<subject> <is> able to roll out of the way",!0,!0)
if(a.gW()){b.aU(a.gq(a),new Y.ot())
c.a7(0,"<subject> jump<s> up on <subject's> feet",!1,!1,!1,null,null,!0,a)}b.cH("FightSituation")
return H.b(a.gm(a))+" rolls out of the way of "+H.b(J.H(this.b))+"'s strike"},"$3","gak",6,0,0],
af:function(a,b){if(a.gW())return 1
return 0.5},
a5:function(a,b){return!0},
p:{
wE:[function(a){return new Y.os(null,a,null)},"$1","uK",2,0,1]}},ot:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return a}}}],["","",,T,{"^":"",lX:{"^":"an;a4:c<,b,a",
gay:function(){return"kill <object> (WARNING should not be user-visible)"},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z,y
z=this.b
y=J.q(z)
b.aU(y.gq(z),new T.lY())
c.jw(0,"<subject> {cuts|slashes|slits} <object's> {throat|neck|side}",z,a.gaw())
z.bX(c,"<subject> die<s>",!0)
c.b_(0,"\n\n",!0)
return H.b(a.gm(a))+" slains "+H.b(y.gm(z))+" on the ground"},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){return this.b.gJ()===C.n&&a.bg(C.f)},
p:{
vK:[function(a){return new T.lX(null,a,null)},"$1","uR",2,0,1]}},lY:{"^":"a:0;",
$1:function(a){a.saL(0)
return a}},pc:{"^":"an;a4:c<,b,a",
gay:function(){return"strike down at <object>"},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z,y
z=this.b
a.bY(c,"<subject> strike<s> down {with <subject's> "+a.gaw().f+" |}at <object>",z)
y=b.e
C.a.l(y,D.pN(a,z))
C.a.l(y,V.nQ(a,z))
return H.b(a.z)+" strikes down at "+H.b(J.H(z))+" on the ground"},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){return this.b.gJ()===C.n&&a.bg(C.f)},
p:{
wL:[function(a){return new T.pc("Opponents on the ground are often the most vulnerable.",a,null)},"$1","uS",2,0,1]}}}],["","",,Q,{"^":"",p9:{"^":"cc;a4:b<,a",
gm:function(a){return"Stand up."},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){a.b6(c,"<subject> stand<s> up")
b.aU(a.gq(a),new Q.pa())
return H.b(a.gm(a))+" stands up"},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){var z
if(a.gJ()!==C.n)return!1
z=b.c
if(J.f(z.gB(z).geo(),new H.aI(H.dJ(new Y.hp("Kicking opponents doesn't deal much damage but it can put them off balance or even to the ground. Such opponents are much easier targets for you and your allies.",a,null)),null).k(0))&&z.gB(z).gdM().F(0,a.gq(a))&&z.gB(z).ghJ()===!0)return!1
return!0}},pa:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return C.c}}}],["","",,D,{"^":"",
pN:function(a,b){var z=new D.eD(null,null,null,null,null)
new D.tM(a,b).$1(z)
return z.E()},
ia:{"^":"bv;",
gbt:function(){return[T.uR()]},
gm:function(a){return"StrikeDownSituation"},
bu:function(){var z=new D.eD(null,null,null,null,null)
z.a=this
new D.pO().$1(z)
return z.E()},
bD:function(a,b){if(a===0)return b.a6(this.a)
return},
bE:function(a,b){return new H.a5(a,new D.pP(this),[H.p(a,0)])}},
tM:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().aN(1073741823)
a.gaG().c=z
a.gaG().e=0
z=this.a
z=z.gq(z)
a.gaG().b=z
z=J.Q(this.b)
a.gaG().d=z
return a}},
pO:{"^":"a:0;",
$1:function(a){var z=a.gaG().e
if(typeof z!=="number")return z.G()
a.gaG().e=z+1
return a}},
pP:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.f(z.gq(a),y.a)||J.f(z.gq(a),y.c)}},
qm:{"^":"ia;a,q:b>,c,N:d<",
aS:function(a){var z=new D.eD(null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof D.ia))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
k:function(a){return"StrikeDownSituation {attacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntargetOnGround="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
eD:{"^":"c;a,b,c,d,e",
gq:function(a){return this.gaG().c},
gN:function(){return this.gaG().e},
gaG:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaG().b
x=this.gaG().c
w=this.gaG().d
v=this.gaG().e
z=new D.qm(y,x,w,v)
if(y==null)H.n(P.N("attacker"))
if(x==null)H.n(P.N("id"))
if(w==null)H.n(P.N("targetOnGround"))
if(v==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,G,{"^":"",o_:{"^":"an;a4:c<,b,a",
gay:function(){return"parry and counter"},
as:[function(a,b,c){a.b6(c,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.gaw().f+"|fend it off}")
if(a.ch===C.i)c.a7(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a)
else S.cr(new G.o0(a,c),new G.o1(this,a,c),null,null)
return H.b(a.z)+" fails to dodge "+H.b(J.H(this.b))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z
a.eS(c,"<subject> {parr<ies> it|meet<s> it with <subject's> "+a.gaw().f+"|fend<s> it off}",!0)
b.cH("FightSituation")
if(a.x)c.l(0,"this opens an opportunity for a counter attack")
z=this.b
C.a.l(b.e,S.fO(a,z))
return H.b(a.z)+" parries "+H.b(J.H(z))},"$3","gak",6,0,0],
af:function(a,b){var z=a.gJ()===C.c?0:0.2
if(a.gW())return 0.6-z
return 0.3-z},
a5:function(a,b){return a.bg(C.f)},
p:{
wz:[function(a){return new G.o_("Parrying means deflecting your opponent's move with your weapon. When successful, it will give you an opportunity for a counter attack. It won't throw your opponent off balance like dodging does, but it's also slightly easier to do.",a,null)},"$1","uI",2,0,1]}},o0:{"^":"a:1;a,b",
$0:function(){this.b.a7(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a)
return}},o1:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dr(this.c,"<subject> <is> too quick for <object>",!0,this.b)}}}],["","",,F,{"^":"",o2:{"^":"cc;a4:b<,a",
gm:function(a){return"Stand off."},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){if(a.gW())a.b6(c,"<subject> stand<s> off")
return H.b(a.gm(a))+" passes the opportunity"},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){return!0}}}],["","",,B,{"^":"",oq:{"^":"cc;a4:b<,a",
gm:function(a){return"Regain balance."},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){if(a.gW())a.bZ(c,"<subject> regain<s> <object>",$.$get$fa(),!0)
b.aU(a.gq(a),new B.or())
return H.b(a.gm(a))+" regains balance"},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){return a.gJ()===C.i}},or:{"^":"a:0;",
$1:function(a){a.sJ(C.c)
return C.c}}}],["","",,Y,{"^":"",lW:{"^":"an;a4:c<,b,a",
gay:function(){return"kill <object> (WARNING should not be user-visible)"},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z,y
z=this.b
y=J.q(z)
b.aU(y.gq(z),new Y.lZ())
if(b.a6(y.gq(z)).gbU()){a.bZ(c,"<subject> {slash<es>|cut<s>} <object's> {shoulder|abdomen|thigh}",z,!0)
z.bX(c,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.bZ(c,"<subject> {slash<es>|cut<s>} {across|through} <object's> {neck|abdomen|lower body}",z,!0)
X.jq(c,z)}return H.b(J.H(a))+" slains "+H.b(y.gm(z))},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){return a.bg(C.f)},
p:{
vL:[function(a){return new Y.lW(null,a,null)},"$1","uP",2,0,1]}},lZ:{"^":"a:0;",
$1:function(a){a.saL(a.gaL()-1)
return a}},pb:{"^":"an;a4:c<,b,a",
gay:function(){return"swing at <object>"},
as:[function(a,b,c){throw H.d(new P.aL(null))},"$3","gaj",6,0,0],
at:[function(a,b,c){var z,y
z=this.b
a.bY(c,"<subject> swing<s> {<subject's> "+a.gaw().f+" |}at <object>",z)
y=b.e
C.a.l(y,M.i1(a,z))
C.a.l(y,L.i_(a,z))
return H.b(a.z)+" slashes at "+H.b(J.H(z))},"$3","gak",6,0,0],
af:function(a,b){return 1},
a5:function(a,b){return a.gJ()===C.c&&this.b.gJ()!==C.n&&a.bg(C.f)},
p:{
wM:[function(a){return new Y.pb("The basic swordfighting move is also often the most effective.",a,null)},"$1","uQ",2,0,1]}}}],["","",,L,{"^":"",
i_:function(a,b){var z=new L.ex(null,null,null,null,null)
new L.tO(a,b).$1(z)
return z.E()},
hZ:{"^":"bv;",
gbt:function(){return[F.ub(),G.uI(),X.ua()]},
gm:function(a){return"SlashDefenseSituation"},
bu:function(){var z=new L.ex(null,null,null,null,null)
z.a=this
new L.p3().$1(z)
return z.E()},
bD:function(a,b){if(a===0)return b.a6(this.c)
return},
bE:function(a,b){return new H.a5(a,new L.p4(this),[H.p(a,0)])}},
tO:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().aN(1073741823)
a.gaE().c=z
a.gaE().e=0
z=this.a
z=z.gq(z)
a.gaE().b=z
z=J.Q(this.b)
a.gaE().d=z
return a}},
p3:{"^":"a:0;",
$1:function(a){var z=a.gaE().e
if(typeof z!=="number")return z.G()
a.gaE().e=z+1
return a}},
p4:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.f(z.gq(a),y.a)||J.f(z.gq(a),y.c)}},
qk:{"^":"hZ;a,q:b>,c,N:d<",
aS:function(a){var z=new L.ex(null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.hZ))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
k:function(a){return"SlashDefenseSituation {attacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntarget="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
ex:{"^":"c;a,b,c,d,e",
gq:function(a){return this.gaE().c},
gN:function(){return this.gaE().e},
gaE:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaE().b
x=this.gaE().c
w=this.gaE().d
v=this.gaE().e
z=new L.qk(y,x,w,v)
if(y==null)H.n(P.N("attacker"))
if(x==null)H.n(P.N("id"))
if(w==null)H.n(P.N("target"))
if(v==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,M,{"^":"",
i1:function(a,b){var z=new M.ey(null,null,null,null,null)
new M.tQ(a,b).$1(z)
return z.E()},
i0:{"^":"bv;",
gbt:function(){return[Y.uP()]},
gm:function(a){return"SlashSituation"},
bu:function(){var z=new M.ey(null,null,null,null,null)
z.a=this
new M.p5().$1(z)
return z.E()},
bD:function(a,b){if(a===0)return b.a6(this.a)
return},
bE:function(a,b){return new H.a5(a,new M.p6(this),[H.p(a,0)])}},
tQ:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().aN(1073741823)
a.gaF().c=z
a.gaF().e=0
z=this.a
z=z.gq(z)
a.gaF().b=z
z=J.Q(this.b)
a.gaF().d=z
return a}},
p5:{"^":"a:0;",
$1:function(a){var z=a.gaF().e
if(typeof z!=="number")return z.G()
a.gaF().e=z+1
return a}},
p6:{"^":"a:0;a",
$1:function(a){var z,y
z=J.q(a)
y=this.a
return J.f(z.gq(a),y.a)||J.f(z.gq(a),y.c)}},
ql:{"^":"i0;a,q:b>,c,N:d<",
aS:function(a){var z=new M.ey(null,null,null,null,null)
z.a=this
a.$1(z)
return z.E()},
t:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof M.i0))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gu:function(a){return Y.b0(Y.y(Y.y(Y.y(Y.y(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
k:function(a){return"SlashSituation {attacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntarget="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
ey:{"^":"c;a,b,c,d,e",
gq:function(a){return this.gaF().c},
gN:function(){return this.gaF().e},
gaF:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
E:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaF().b
x=this.gaF().c
w=this.gaF().d
v=this.gaF().e
z=new M.ql(y,x,w,v)
if(y==null)H.n(P.N("attacker"))
if(x==null)H.n(P.N("id"))
if(w==null)H.n(P.N("target"))
if(v==null)H.n(P.N("time"))}this.a=z
return z}}}],["","",,O,{"^":"",
xu:[function(a){var z,y
z=$.$get$fp()
y=z.a
if(y.length>0){y+=" "
z.a=y}z.a=y+a},"$1","uM",2,0,3],
v2:[function(a){$.fh=a},"$1","uN",2,0,3],
jc:[function(a,b,c,d,e,f,g){var z=L.fG(a,!1,!1,d,e,f,g)
$.$get$c5().l(0,z)
return z},function(a){return O.jc(a,!1,!1,null,null,null,null)},function(a,b,c){return O.jc(a,!1,!1,null,b,c,null)},"$7$deferToChoiceList$deferToEndOfPage$goto$helpMessage$script$submenu","$1","$3$helpMessage$script","uL",2,13,8,0,0,0,1,1,0]}],["","",,N,{"^":"",em:{"^":"c;m:a>,b,c,iG:d>,a3:e>,f",
ghi:function(){var z,y,x
z=this.b
y=z==null||J.f(J.H(z),"")
x=this.a
return y?x:z.ghi()+"."+x},
geF:function(){if($.fi){var z=this.b
if(z!=null)return z.geF()}return $.j_},
kz:function(a,b,c,d,e){var z,y,x,w,v,u,t,s,r,q,p,o
x=a.b
if(x>=this.geF().b){if(!!J.k(b).$isbo)b=b.$0()
w=b
if(typeof w!=="string"){v=b
b=J.v(b)}else v=null
if(d==null&&x>=$.jp.b)try{x="autogenerated stack trace for "+a.k(0)+" "+H.b(b)
throw H.d(x)}catch(u){x=H.E(u)
z=x
y=H.O(u)
d=y
if(c==null)c=z}e=$.i
x=b
w=this.ghi()
t=c
s=d
r=Date.now()
q=$.el
$.el=q+1
p=new N.nw(a,x,v,w,new P.bN(r,!1),q,t,s,e)
if($.fi)for(o=this;o!=null;){o.fO(p)
o=o.b}else $.$get$hx().fO(p)}},
di:function(a,b,c,d){return this.kz(a,b,c,d,null)},
k9:function(a,b,c){return this.di(C.ai,a,b,c)},
U:function(a){return this.k9(a,null,null)},
k8:function(a,b,c){return this.di(C.ah,a,b,c)},
aQ:function(a){return this.k8(a,null,null)},
k7:function(a,b,c){return this.di(C.aj,a,b,c)},
df:function(a){return this.k7(a,null,null)},
lb:function(a,b,c){return this.di(C.am,a,b,c)},
hI:function(a){return this.lb(a,null,null)},
fO:function(a){},
p:{
bS:function(a){return $.$get$hw().eN(0,a,new N.u5(a))}}},u5:{"^":"a:1;a",
$0:function(){var z,y,x,w
z=this.a
if(C.b.cd(z,"."))H.n(P.W("name shouldn't start with a '.'"))
y=C.b.ho(z,".")
if(y===-1)x=z!==""?N.bS(""):null
else{x=N.bS(C.b.a2(z,0,y))
z=C.b.bk(z,y+1)}w=new H.Z(0,null,null,null,null,null,0,[P.h,N.em])
w=new N.em(z,x,null,w,new P.qa(w,[null,null]),null)
if(x!=null)J.jA(x).j(0,z,w)
return w}},nw:{"^":"c;eF:a<,b,aO:c<,d,N:e<,f,bv:r>,aX:x<,y",
k:function(a){return"["+this.a.a+"] "+this.d+": "+H.b(this.b)}}}],["","",,X,{"^":"",
aC:function(a){return X.f1(J.jz(a,0,new X.uf()))},
bz:function(a,b){var z=J.P(a,b)
if(typeof z!=="number")return H.m(z)
a=536870911&z
a=536870911&a+((524287&a)<<10)
return a^a>>>6},
f1:function(a){if(typeof a!=="number")return H.m(a)
a=536870911&a+((67108863&a)<<3)
a^=a>>>11
return 536870911&a+((16383&a)<<15)},
uf:{"^":"a:3;",
$2:function(a,b){return X.bz(a,J.x(b))}}}]]
setupProgram(dart,init.types.length)
var deferredTypes=[{func:1,ret:P.h,args:[R.ab,A.aM,Y.aV]},{func:1,ret:Q.an,args:[R.ab]},{func:1,ret:Y.bP,args:[P.r]},{func:1,v:true,args:[P.h]},{func:1,ret:P.h,args:[P.r]},{func:1,ret:P.T,args:[R.ab,A.aM]},{func:1,ret:P.r,args:[R.ab]},{func:1,ret:P.T,args:[P.T,P.T]},{func:1,ret:L.ag,args:[P.h],named:{deferToChoiceList:P.U,deferToEndOfPage:P.U,goto:P.h,helpMessage:P.h,script:{func:1,ret:[P.ae,P.aU]},submenu:P.h}}]
init.types.push.apply(init.types,deferredTypes)
C.X=new P.rb()
C.a_=new P.ai(2000)
C.a2=new U.d4(0)
C.a3=new U.d4(1)
C.a4=new U.d4(2)
C.f=new U.d4(3)
C.C=new O.hq(0)
C.ag=new O.hq(1)
C.ah=new N.bc("FINER",400)
C.ai=new N.bc("FINEST",300)
C.aj=new N.bc("FINE",500)
C.al=new N.bc("OFF",2000)
C.ap=new H.ea([0,"ItemType.SPEAR",1,"ItemType.BRANCH",2,"ItemType.TENT",3,"ItemType.SWORD"],[null,null])
C.aq=new H.ea([0,"KnownToMode.ALL",1,"KnownToMode.PROTAGONIST_ONLY",2,"KnownToMode.CUSTOM"],[null,null])
C.F=new H.ea([0,"Pose.standing",1,"Pose.offBalance",2,"Pose.onGround"],[null,null])
C.c=new R.es(0)
C.i=new R.es(1)
C.n=new R.es(2)
C.H=new Y.cq("he","him","his","himself")
C.l=new Y.cq("it","it","its","itself")
C.ar=new Y.cq("she","her","her","herself")
C.as=new Y.cq("they","them","their","themselves")
C.I=new Y.cq("you","you","your","yourself")
C.o=H.af("dynamic")
C.aM=new P.bZ(null,2)
$.fi=!1
$.jp=C.al
$.j_=C.ak
$.el=0;(function(a){for(var z=0;z<a.length;){var y=a[z++]
var x=a[z++]
var w=a[z++]
var v=a[z++]
I.$lazy(y,x,w,null,v)}})(["dZ","$get$dZ",function(){return P.l5()},$,"hM","$get$hM",function(){return N.bS("PlannerRecommendation")},$,"bg","$get$bg",function(){return P.eu(null)},$,"bu","$get$bu",function(){return P.eu(null)},$,"i8","$get$i8",function(){return P.G("(\\w)([\\.\\?\\!])([\"'])\\.(?=$|\\s)",!0,!1)},$,"fe","$get$fe",function(){return L.eK(new L.u2())},$,"bE","$get$bE",function(){return L.eK(new L.u1())},$,"dO","$get$dO",function(){return L.eK(new L.u4())},$,"iY","$get$iY",function(){return P.eu(null)},$,"fa","$get$fa",function(){var z,y
z=$.$get$bE()
y=H.t([],[P.h])
z==null
return new Y.bP(!0,"balance",y,z,!1,C.l)},$,"i5","$get$i5",function(){return new Q.p9(null,null)},$,"eq","$get$eq",function(){return new F.o2("Sometimes, patience pays off. Especially when the other option is potentially dangerous.",null)},$,"hU","$get$hU",function(){return new B.oq("Most moves are easier and more effective when you are firmly in balance.",null)},$,"hx","$get$hx",function(){return N.bS("")},$,"hw","$get$hw",function(){return P.ao(P.h,N.em)},$])}
$dart_deferred_initializers$["vUc9SVz/b1TBtkuaqIWdSoqMAtQ="]=$dart_deferred_initializers$.current
