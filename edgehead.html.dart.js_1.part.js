self.$dart_deferred_initializers$=self.$dart_deferred_initializers$||Object.create(null)
$dart_deferred_initializers$.current=function($globals$,$){var A=$globals$.A
var B=$globals$.B
var C=$globals$.C
var D=$globals$.D
var E=$globals$.E
var F=$globals$.F
var G=$globals$.G
var H=$globals$.H
var J=$globals$.J
var K=$globals$.K
var L=$globals$.L
var M=$globals$.M
var N=$globals$.N
var O=$globals$.O
var P=$globals$.P
var Q=$globals$.Q
var R=$globals$.R
var S=$globals$.S
var T=$globals$.T
var U=$globals$.U
var V=$globals$.V
var W=$globals$.W
var X=$globals$.X
var Y=$globals$.Y
var Z=$globals$.Z
var init=$globals$.init
var setupProgram=$globals$.setupProgram
var I=$globals$.I
var dart=[["","",,P,{"^":"",
cP:function(a,b,c){var z,y,x
if(b===0){if(c.geZ())J.k0(c.c)
else J.e6(c.a)
return}else if(b===1){if(c.geZ())c.c.eP(H.H(a),H.U(a))
else{z=H.H(a)
y=H.U(a)
c.a.cK(z,y)
J.e6(c.a)}return}if(a instanceof P.ca){if(c.geZ()){b.$2(2,null)
return}z=a.b
if(z===0){z=a.a
J.fK(c.a,z)
P.cY(new P.u4(b,c))
return}else if(z===1){x=a.a
c.a.hE(x,!1).W(new P.u5(b,c))
return}}P.jk(a,b)},
uy:function(a){return J.fR(a)},
u4:{"^":"a:1;a,b",
$0:function(){var z=this.b
if(z.a.gbt()){z.b=!0
return}this.a.$2(null,0)}},
u5:{"^":"a:0;a,b",
$1:function(a){var z=this.b.c!=null?2:0
this.a.$2(z,null)}},
rz:{"^":"c;a,b,c",
gcv:function(a){return J.fR(this.a)},
gbt:function(){return this.a.gbt()},
geZ:function(){return this.c!=null},
l:function(a,b){return J.fK(this.a,b)},
cK:function(a,b){return this.a.cK(a,b)},
aW:function(a){return J.e6(this.a)},
jb:function(a){var z=new P.rC(a)
this.a=P.iA(new P.rE(this,a),new P.rF(z),null,new P.rG(this,z),!1,null)},
p:{
rA:function(a){var z=new P.rz(null,!1,null)
z.jb(a)
return z}}},
rC:{"^":"a:1;a",
$0:function(){P.cY(new P.rD(this.a))}},
rD:{"^":"a:1;a",
$0:function(){this.a.$2(0,null)}},
rF:{"^":"a:1;a",
$0:function(){this.a.$0()}},
rG:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(z.b===!0){z.b=!1
this.b.$0()}}},
rE:{"^":"a:1;a,b",
$0:function(){var z=this.a
if(!z.a.gi_()){z.c=new P.aU(new P.y(0,$.i,null,[null]),[null])
if(z.b===!0){z.b=!1
P.cY(new P.rB(this.b))}return z.c.ghV()}}},
rB:{"^":"a:1;a",
$0:function(){this.a.$2(2,null)}},
ca:{"^":"c;as:a>,b",
j:function(a){return"IterationMarker("+this.b+", "+H.b(this.a)+")"},
p:{
dL:function(a){return new P.ca(a,1)},
bp:function(){return C.be},
ja:function(a){return new P.ca(a,0)},
bq:function(a){return new P.ca(a,3)}}},
bt:{"^":"c;a,b,c,d",
gw:function(){var z=this.c
return z==null?this.b:z.gw()},
n:function(){var z,y,x,w
for(;!0;){z=this.c
if(z!=null)if(z.n()===!0)return!0
else this.c=null
y=function(a,b,c){var v,u=b
while(true)try{return a(u,v)}catch(t){v=t
u=c}}(this.a,0,1)
if(y instanceof P.ca){x=y.b
if(x===2){z=this.d
if(z==null||z.length===0){this.b=null
return!1}if(0>=z.length)return H.e(z,-1)
this.a=z.pop()
continue}else{z=y.a
if(x===3)throw z
else{w=J.ax(z)
if(w instanceof P.bt){z=this.d
if(z==null){z=[]
this.d=z}z.push(this.a)
this.a=w.a
continue}else{this.c=w
continue}}}}else{this.b=y
return!0}}return!1}},
tW:{"^":"dg;a",
gK:function(a){return new P.bt(this.a(),null,null,null)},
$asdg:I.a4,
$asL:I.a4,
p:{
bs:function(a){return new P.tW(a)}}}}],["","",,P,{"^":"",u0:{"^":"c;$ti",
k:function(a,b,c){throw H.d(new P.D("Cannot modify unmodifiable map"))},
D:function(a,b){throw H.d(new P.D("Cannot modify unmodifiable map"))},
$isN:1,
$asN:null},o5:{"^":"c;$ti",
h:function(a,b){return this.a.h(0,b)},
k:function(a,b,c){this.a.k(0,b,c)},
M:function(a,b){return this.a.M(0,b)},
B:function(a,b){this.a.B(0,b)},
gE:function(a){var z=this.a
return z.gE(z)},
ga3:function(a){var z=this.a
return z.ga3(z)},
gi:function(a){var z=this.a
return z.gi(z)},
D:function(a,b){return this.a.D(0,b)},
j:function(a){return this.a.j(0)},
$isN:1,
$asN:null},r3:{"^":"o5+u0;a,$ti",$asN:null,$isN:1}}],["","",,S,{"^":"",eh:{"^":"c;hd:a<,b,$ti",
aG:function(a){var z=new S.b0(null,null,this.$ti)
z.aP()
z.ar(0,this)
a.$1(z)
return z.C()},
gq:function(a){var z=this.b
if(z==null){z=X.ar(this.a)
this.b=z}return z},
v:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.n(b)
if(!z.$iseh)return!1
y=b.a
x=this.a
if(y.length!==x.length)return!1
z=z.gq(b)
w=this.gq(this)
if(z==null?w!=null:z!==w)return!1
for(v=0;z=x.length,v!==z;++v){if(v>=y.length)return H.e(y,v)
w=y[v]
if(v>=z)return H.e(x,v)
if(!J.f(w,x[v]))return!1}return!0},
j:function(a){return J.v(this.a)},
h:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.e(z,b)
return z[b]},
gi:function(a){return this.a.length},
bQ:function(a,b,c){var z=this.a
return(z&&C.a).bQ(z,b,c)},
b_:function(a,b){return this.bQ(a,b,0)},
gK:function(a){var z=this.a
return new J.bj(z,z.length,0,null,[H.p(z,0)])},
be:function(a,b){var z=this.a
z.toString
return new H.am(z,b,[null,null])},
G:function(a,b){var z=this.a
return(z&&C.a).G(z,b)},
B:function(a,b){var z=this.a
return(z&&C.a).B(z,b)},
a2:function(a,b,c){var z=this.a
return(z&&C.a).a2(z,b,c)},
gE:function(a){return this.a.length===0},
ga3:function(a){return this.a.length!==0},
gO:function(a){var z=this.a
return(z&&C.a).gO(z)},
gA:function(a){var z=this.a
return(z&&C.a).gA(z)},
T:function(a,b){var z=this.a
if(b>>>0!==b||b>=z.length)return H.e(z,b)
return z[b]},
aP:function(){if(new H.aT(H.b5(H.p(this,0)),null).v(0,C.p))throw H.d(new P.D('explicit element type required, for example "new BuiltList<int>"'))}},b0:{"^":"c;hd:a<,b,$ti",
C:function(){var z,y
z=this.b
if(z==null){z=this.a
y=new S.eh(z,null,this.$ti)
y.aP()
this.a=z
this.b=y
z=y}return z},
ar:function(a,b){if(H.fs(b,"$iseh",this.$ti,null)){this.a=b.ghd()
this.b=b}else{this.a=P.ac(b,!0,H.p(this,0))
this.b=null}},
k:function(a,b,c){var z
if(c==null)H.j(P.O("null element"))
z=this.geE()
if(b>>>0!==b||b>=z.length)return H.e(z,b)
z[b]=c},
l:function(a,b){var z
if(b==null)H.j(P.O("null element"))
z=this.geE();(z&&C.a).l(z,b)},
D:function(a,b){var z=this.geE();(z&&C.a).D(z,b)},
be:function(a,b){var z=this.a
z.toString
z=new H.am(z,b,[null,null]).b6(0,!0)
this.a=z
this.b=null
this.jn(z)},
geE:function(){if(this.b!=null){this.a=P.ac(this.a,!0,H.p(this,0))
this.b=null}return this.a},
aP:function(){if(new H.aT(H.b5(H.p(this,0)),null).v(0,C.p))throw H.d(new P.D('explicit element type required, for example "new ListBuilder<int>"'))},
jn:function(a){var z,y,x,w
for(z=a.length,y=H.p(this,0),x=0;x<a.length;a.length===z||(0,H.a9)(a),++x){w=a[x]
if(!H.ft(w,y))throw H.d(P.O("invalid element: "+H.b(w)))}}}}],["","",,A,{"^":"",d7:{"^":"c;jN:a<,b,c,d,$ti",
aG:function(a){var z=new A.eB(null,null,this.$ti)
z.cF()
z.ar(0,this)
a.$1(z)
return z.C()},
gq:function(a){var z=this.b
if(z==null){z=this.a
z=z.gV(z)
z=H.bm(z,new A.l9(this),H.E(z,"L",0),null)
z=P.ac(z,!1,H.E(z,"L",0))
C.a.iK(z)
z=X.ar(z)
this.b=z}return z},
v:function(a,b){var z,y,x,w,v
if(b==null)return!1
if(b===this)return!0
z=J.n(b)
if(!z.$isd7)return!1
y=b.a
x=this.a
if(y.gi(y)!==x.gi(x))return!1
z=z.gq(b)
w=this.gq(this)
if(z==null?w!=null:z!==w)return!1
for(z=this.gV(this),z=z.gK(z);z.n();){v=z.gw()
if(!J.f(y.h(0,v),x.h(0,v)))return!1}return!0},
j:function(a){return J.v(this.a)},
h:function(a,b){return this.a.h(0,b)},
B:function(a,b){this.a.B(0,b)},
gE:function(a){var z=this.a
return z.gE(z)},
ga3:function(a){var z=this.a
return z.ga3(z)},
gV:function(a){var z=this.c
if(z==null){z=this.a
z=z.gV(z)
this.c=z}return z},
gi:function(a){var z=this.a
return z.gi(z)},
cF:function(){if(new H.aT(H.b5(H.p(this,0)),null).v(0,C.p))throw H.d(new P.D('explicit key type required, for example "new BuiltMap<int, int>"'))
if(new H.aT(H.b5(H.p(this,1)),null).v(0,C.p))throw H.d(new P.D('explicit value type required, for example "new BuiltMap<int, int>"'))}},l9:{"^":"a:0;a",
$1:function(a){var z,y
z=J.x(a)
y=J.x(this.a.a.h(0,a))
return X.cc(X.aL(X.aL(0,J.x(z)),J.x(y)))}},eB:{"^":"c;a,b,$ti",
C:function(){var z=this.b
if(z==null){z=new A.d7(this.a,null,null,null,this.$ti)
z.cF()
this.b=z}return z},
ar:function(a,b){var z
if(H.fs(b,"$isd7",this.$ti,null)){this.b=b
this.a=b.gjN()}else if(!!b.$isd7){z=P.ey(b.a,H.p(this,0),H.p(this,1))
this.b=null
this.a=z}else if(!!b.$isN){z=P.ey(b,H.p(this,0),H.p(this,1))
this.b=null
this.a=z}else throw H.d(P.O("expected Map or BuiltMap, got "+H.b(b.ga8(b))))},
k:function(a,b,c){if(b==null)H.j(P.O("null key"))
if(c==null)H.j(P.O("null value"))
this.ghs().k(0,b,c)},
D:function(a,b){this.ghs().D(0,b)},
ghs:function(){if(this.b!=null){this.a=P.ey(this.a,H.p(this,0),H.p(this,1))
this.b=null}return this.a},
cF:function(){if(new H.aT(H.b5(H.p(this,0)),null).v(0,C.p))throw H.d(new P.D('explicit key type required, for example "new MapBuilder<int, int>"'))
if(new H.aT(H.b5(H.p(this,1)),null).v(0,C.p))throw H.d(new P.D('explicit value type required, for example "new MapBuilder<int, int>"'))}}}],["","",,Y,{"^":"",
z:function(a,b){if(typeof b!=="number")return H.m(b)
a=536870911&a+b
a=536870911&a+((524287&a)<<10)
return a^a>>>6},
aW:function(a){a=536870911&a+((67108863&a)<<3)
a^=a>>>11
return 536870911&a+((16383&a)<<15)}}],["","",,M,{"^":"",bX:{"^":"c;$ti",
h:function(a,b){var z
if(!this.de(b))return
z=this.c.h(0,this.a.$1(H.fH(b,H.E(this,"bX",1))))
return z==null?null:J.d1(z)},
k:function(a,b,c){if(!this.de(b))return
this.c.k(0,this.a.$1(b),new B.i9(b,c,[null,null]))},
M:function(a,b){if(!this.de(b))return!1
return this.c.M(0,this.a.$1(H.fH(b,H.E(this,"bX",1))))},
B:function(a,b){this.c.B(0,new M.la(b))},
gE:function(a){var z=this.c
return z.gE(z)},
ga3:function(a){var z=this.c
return z.ga3(z)},
gV:function(a){var z=this.c
z=z.gaO(z)
return H.bm(z,new M.lb(),H.E(z,"L",0),null)},
gi:function(a){var z=this.c
return z.gi(z)},
D:function(a,b){var z
if(!this.de(b))return
z=this.c.D(0,this.a.$1(H.fH(b,H.E(this,"bX",1))))
return z==null?null:J.d1(z)},
gaO:function(a){var z=this.c
z=z.gaO(z)
return H.bm(z,new M.lc(),H.E(z,"L",0),null)},
j:function(a){return P.dj(this)},
de:function(a){var z
if(a==null||H.ft(a,H.E(this,"bX",1)))z=this.b.$1(a)===!0
else z=!1
return z},
$isN:1,
$asN:function(a,b,c){return[b,c]}},la:{"^":"a:3;a",
$2:function(a,b){var z=J.aE(b)
return this.a.$2(z.gO(b),z.gA(b))}},lb:{"^":"a:0;",
$1:function(a){return J.fN(a)}},lc:{"^":"a:0;",
$1:function(a){return J.d1(a)}}}],["","",,B,{"^":"",i9:{"^":"c;O:a>,A:b>,$ti"}}],["","",,N,{"^":"",pj:{"^":"ph;ch,cx,b,c,d,e,f,r,x,y,z,Q,a",
ia:function(){$.$get$ci().k(0,"game",this.cx)},
l1:function(){this.cx=H.b4($.$get$ci().h(0,"game"),"$ishm")},
lh:function(){this.cx=null
var z=$.$get$cg()
z=new O.hm(N.bD("EdgeheadGame"),null,!1,null,null,null,null,null,null,null,null,null,new Y.bd(H.r([],[Y.aJ]),0,P.aj()),O.vY(),O.vX(),O.vW(),z,this.giI(),new P.be(""),!1,null)
z.e1()
this.cx=z
z.x="endGame"},
j6:function(){var z,y
z=new O.dw(["You and Briana sprint through the giant worm\u2019s tunnel.","Suddenly, an **orc** and a **goblin** jump in front of you from a slimy crevice, swords in hands.","![Orc and Goblin](img/orc_and_goblin_sketch.jpg)",[null,P.b_(["goto","gameLoop"])]],0,null,!1,!1)
y=this.b.a
y.k(0,"start",z)
z.a="start"
z=new O.dw([new N.pl(this),[null,P.b_(["goto","gameLoop"])]],0,null,!1,!1)
y.k(0,"gameLoop",z)
z.a="gameLoop"
z=new O.dw(['<p class="meta">\n  Hit <strong>Restart</strong> (top left) to play again. It will be different.\n</p>'],0,null,!1,!1)
y.k(0,"endGame",z)
z.a="endGame"
this.c=y.h(0,"start")},
p:{
pk:function(){var z,y
z=P.h
y=new H.a1(0,null,null,null,null,null,0,[z,O.dw])
z=new N.pj("net.filiph.edgehead.0.0.1",null,new O.pm(y),null,null,null,P.P(null,null,null,z),!1,null,-9999,null,null,null)
z.j6()
return z}}},pl:{"^":"a:41;a",
$0:function(){var z=0,y=new P.as(),x=1,w,v=this
var $async$$0=P.ap(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.w(v.a.cx.bj(),$async$$0,y)
case 2:return P.w(null,0,y)
case 1:return P.w(w,1,y)}})
return P.w(null,$async$$0,y)}}}],["","",,O,{"^":"",
yM:[function(a,b){var z=b.gki()
z=new H.a3(z,new O.uH(a),[H.p(z,0)]).a2(0,0,new O.uI())
if(typeof z!=="number")return H.m(z)
return 0+z-J.fU(b.a.a2(0,0,new O.uJ(a,b)))},"$2","jF",4,0,6],
uH:{"^":"a:0;a",
$1:function(a){return J.f(a.gb5(),this.a.gb5())}},
uI:{"^":"a:3;",
$2:function(a,b){return J.S(a,b.gaE())}},
uJ:{"^":"a:3;a,b",
$2:function(a,b){return J.S(a,this.a.eU(b,this.b)*b.gaE())}},
hm:{"^":"o4;y,z,Q,ch,cx,cy,db,dx,dy,fr,bU:fx<,fy,fI:go<,a,b,c,d,e,f,r,x",
e1:function(){var z,y,x,w,v,u
z=[P.h]
y=H.r([],z)
x=P.P(null,null,null,null)
w=$.$get$e0()
x=new R.cM(null,!0,y,null,null,C.c,1,null,100,!0,!1,x,null,null,!0,C.n,null,w,null)
new O.lY().$1(x)
this.cy=x.C()
y=new R.cM(null,!0,H.r([],z),null,null,C.c,1,null,100,!0,!1,P.P(null,null,null,null),null,null,!0,C.n,null,w,null)
new O.lZ().$1(y)
this.db=y.C()
y=new K.cF(null,"deadEscapee","UNUSED because this is the first choice","",null,null,"ground")
x=[Q.bz]
v=new S.b0(null,null,x)
v.aP()
v.ar(0,[new Q.bz("tunnel","Run towards freedom",null)])
y.a=v.C()
this.dx=y
y=$.$get$fw()
v=y.b
u=new K.cF(null,"tunnel","You run and see a goblin and an orc.","",new O.m_(this),null,"{rock|cavern} floor")
x=new S.b0(null,null,x)
x.aP()
x.ar(0,[new Q.bz(v,"End book",null)])
u.a=x.C()
this.dy=u
u=new R.cM(null,!0,H.r([],z),null,null,C.c,1,null,100,!0,!1,P.P(null,null,null,null),null,null,!0,C.n,null,w,null)
new O.m0(this).$1(u)
this.ch=u.C()
z=new R.cM(null,!0,H.r([],z),null,null,C.c,1,null,100,!0,!1,P.P(null,null,null,null),null,null,!0,C.n,null,w,null)
new O.m1(this).$1(z)
this.cx=z.C()
z=F.p3(this.dx)
this.fr=z
x=this.ch
w=this.cx
v=this.dx
u=this.dy
w=P.aH([x,w],R.a_)
x=P.aS(null,O.cm)
z=new A.bf(w,P.P(null,null,null,U.de),x,P.aH([v,u,y],K.cF),P.ac([z],!0,S.bc),0)
this.fx=z
y=new Y.bd(H.r([],[Y.aJ]),0,P.aj())
x=new B.cA(z,null,y,1,1,!0,!1,!1,0)
x.fM(z,null,null,y,1,!1,!0,!1)
this.fy=x},
dQ:function(){var z=0,y=new P.as(),x,w=2,v,u=this,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e,d
var $async$dQ=P.ap(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:t=u.go
s=u.gkW()
if(t.i8(s)){z=1
break}r=u.y
r.lf("update() for world at time "+H.b(u.fx.f))
q=u.fx.e
if(q.length===0){u.r=!0
t.bb(0,"\n\n",!0)
if(u.fx.hY(u.ch.r)){p=u.fx.aj(u.ch.r)
t.eL(0,"<subject> look<s> behind",p)
t.eL(0,"<subject> see<s> the giant worm's hideous head approaching",p)
if(u.fx.hY(u.cx.r))t.bb(0,"You both start sprinting again.",!0)
else{t.eL(0,"<subject> take<s> a last look at Briana",p)
t.km(0,"<subject> start<s> sprinting again, alone",!0,p)}t.bb(0,"\n\n",!0)
t.bb(0,"TO BE CONTINUED.",!0)}else t.bb(0,"You will soon be the giant worm's food.",!0)
u.f.a+=t.cX()
z=1
break}o=C.a.gA(q)
n=o.dW(u.fx)
q=u.fx
m=N.bD("ActorPlanner")
l=new H.a1(0,null,null,null,null,null,0,[null,null])
k=n==null
j=k?n:J.F(n)
i=new Y.bd(H.r([],[Y.aJ]),0,P.aj())
i.b=q.f
h=new G.kE(m,j,new B.cA(q,null,i,1,1,!0,!1,!1,0),0,!1,l)
if(k)H.j(P.O("Called ActorPlanner with actor == null. That may mean that a Situation returns getCurrentActor as null. Some action that you added should make sure it removes the Situation. World: "+J.v(q)+". Situation: "+H.b(q.gkN())))
z=3
return P.w(h.lI(R.uA()),$async$dQ,y)
case 3:if(l.gE(l)){m.ip("There are no actions available for actorId="+H.b(j)+".")
k="Actions not available for "+H.b(j)+" and "
j=J.n(q)
q="PlanConsequence<"+j.gq(q)+", "+j.j(q)+", "+C.x.j(null)
m.dC(k+(q+", 1, 0, >")+".")}g=G.oE(l)
q=g.b
if(q.length===0){r.fE("No recommendation for "+H.b(J.B(n)))
u.fx.hP(o.gu(o))
t=u.fx
s=t.f
if(typeof s!=="number"){x=s.H()
z=1
break}t.f=s+1
z=1
break}if(n.gN()){if(q.length===1){u.ea(C.a.gak(q),n,t)
z=1
break}u.f.a+=t.cX()
C.a.si(t.a,0)
r.dC("planner.generateTable for "+H.b(n.gm(n)))
h.fw().B(0,new O.m2(u))
f=P.ac(new H.qF(q,0,4,[H.p(q,0)]),!0,null)
t=new O.m3()
s=f.length-1
if(s-0<=32)H.iu(f,0,s,t)
else H.it(f,0,s,t)
for(t=f.length,s=u.c,e=0;e<f.length;f.length===t||(0,H.a9)(f),++e){d=f[e]
s.$3$helpMessage$script(J.B(d),d.gY(),new O.m4(u,n,d))}z=1
break}else{r=S.oU(g.a,1000)
if(r>=q.length){x=H.e(q,r)
z=1
break}u.ea(q[r],n,t)}t.i8(s)
case 1:return P.w(x,0,y)
case 2:return P.w(v,1,y)}})
return P.w(null,$async$dQ,y)},
ea:function(a,b,c){var z,y,x,w,v
z=a.dr(b,this.fy,this.fx)
y=P.ac(z,!0,H.E(z,"L",0))
x=S.oT(new H.am(y,new O.lX(),[null,null]),1)
if(x>=y.length)return H.e(y,x)
this.fy=y[x]
if(b.gN()){w=a.a4(b,this.fx)
if(w<1){z=this.fy.glq()?C.q:C.t
v=a.bC(b,this.fx)
this.hk()
this.e.$3(w,z,v)}}C.a.L(c.a,this.fy.gfI().a)
this.fx=this.fy.gbU()}},
lY:{"^":"a:0;",
$1:function(a){var z
a.gt()
a.r=1000
a.gt()
a.ch="orc"
a.gt()
a.cy=!1
a.gt()
a.db=C.L
z=$.$get$bv()
a.gt()
a.c=new U.dA(!1,10,!0,z,"sword",C.i)
a.gt()
a.f=2
z=$.$get$fv()
a.gt()
a.dy=z
a.gt()
a.fr=O.jF()
return a}},
lZ:{"^":"a:0;",
$1:function(a){var z
a.gt()
a.r=1001
a.gt()
a.ch="goblin"
a.gt()
a.cy=!1
a.gt()
a.db=C.L
z=$.$get$bv()
a.gt()
a.c=new U.dA(!1,10,!0,z,"scimitar",C.i)
z=$.$get$fv()
a.gt()
a.dy=z
a.gt()
a.fr=O.jF()
return a}},
m_:{"^":"a:0;a",
$1:function(a){var z=this.a
return[z.cy,z.db]}},
m0:{"^":"a:0;a",
$1:function(a){var z
a.gt()
a.r=1
a.gt()
a.z=!0
a.gt()
a.db=C.M
a.gt()
a.ch="Filip"
z=$.$get$bv()
a.gt()
a.c=new U.dA(!1,10,!0,z,"sword",C.i)
a.gt()
a.f=2
a.gt()
a.x=1000
z=this.a.dx.b
a.gt()
a.cx=z
return a}},
m1:{"^":"a:0;a",
$1:function(a){var z,y
a.gt()
a.r=100
a.gt()
a.db=C.aU
a.gt()
a.ch="Briana"
z=$.$get$bv()
a.gt()
a.c=new U.dA(!1,10,!0,z,"longsword",C.i)
a.gt()
a.f=2
z=this.a
y=z.dx.b
a.gt()
a.cx=y
z=z.ch.r
a.gt()
a.dx=z
return a}},
m2:{"^":"a:0;a",
$1:function(a){return this.a.y.dC(a)}},
m3:{"^":"a:3;",
$2:function(a,b){return J.cZ(J.B(a),J.B(b))}},
m4:{"^":"a:1;a,b,c",
$0:function(){var z=this.a
z.ea(this.c,this.b,z.go)}},
lX:{"^":"a:0;",
$1:function(a){return a.glK()}}}],["","",,Q,{"^":"",
jH:function(a,b,c){return new P.bs(function(){var z=a,y=b,x=c
var w=0,v=1,u,t,s,r,q,p
return function $async$jH(d,e){if(d===1){u=e
w=v}while(true)switch(w){case 0:t=y.e
t=t.length!==0?C.a.gA(t):null
s=J.kw(t.bB(y.a,y),new Q.vk(z))
t=J.ax(s.a),r=new H.f0(t,s.b,[H.p(s,0)])
case 2:if(!r.n()){w=3
break}q=t.gw()
p=x.$1(q)
if(p.ga6()&&!z.eV(q,y)){w=2
break}w=4
return p
case 4:w=2
break
case 3:return P.bp()
case 1:return P.bq(u)}}})},
jI:function(a,b,c){return new P.bs(function(){var z=a,y=b,x=c
var w=0,v=1,u,t
return function $async$jI(d,e){if(d===1){u=e
w=v}while(true)switch(w){case 0:t=y.e
t=y.fB((t.length!==0?C.a.gA(t):null).gbd()).gl_().a,t=new J.bj(t,t.length,0,null,[H.p(t,0)])
case 2:if(!t.n()){w=3
break}w=4
return x.$1(t.d)
case 4:w=2
break
case 3:return P.bp()
case 1:return P.bq(u)}}})},
vk:{"^":"a:0;a",
$1:function(a){return!J.f(a,this.a)&&a.gbs()}},
b6:{"^":"c;",
dr:function(a,b,c){var z=this
return new P.bs(function(){var y=a,x=b,w=c
var v=0,u=1,t,s,r
return function $async$dr(d,e){if(d===1){t=e
v=u}while(true)switch(v){case 0:s=z.a4(y,x.gbU())
v=s>0?2:3
break
case 2:r=A.j0(w)
v=4
return B.ia(r,x,z,z.jj(r,y,w,z.gaa(),!0),s,!1,!1,!0)
case 4:case 3:v=s<1?5:6
break
case 5:r=A.j0(w)
v=7
return B.ia(r,x,z,z.ji(r,y,w,z.ga9(),!0),1-s,!0,!1,!1)
case 7:case 6:return P.bp()
case 1:return P.bq(t)}}})},
fQ:function(a,b,c,d,e,f){var z,y,x,w,v,u,t
z=a.a.bD(0,new Q.kz(b))
y=new O.kx(null,null,null,null,null,null,null,null,null,null,C.F,null)
y.e=new H.aT(H.fy(this),null).j(0)
y.d=this.gm(this)
y.ch=b
y.c=P.aH(!!this.$isaf?[this.b]:[],null)
y.f=f
y.r=e
y.x=this.ga6()
y.ly(c)
x=new Y.bd(H.r([],[Y.aJ]),0,P.aj())
w=a.e
v=J.F(w.length!==0?C.a.gA(w):null)
u=a.gq(a);(w.length!==0?C.a.gA(w):null).i7(a,x)
if(a.gq(a)!==u)throw H.d(new P.A("Please don't change the world in onBeforeAction"))
this.a=d.$3(z,a,x)
if(a.eo(v)!=null)a.hP(v)
t=a.f
if(typeof t!=="number")return t.H()
a.f=t+1
t=a.iw(v)
if(!(t==null))t.i6(a,x)
while(!0){t=w.length!==0?C.a.gA(w):null
if((t==null?t:t.dW(a))!=null){t=w.length!==0?C.a.gA(w):null
t=!J.f(t==null?t:t.e2(a),!0)}else t=!0
if(!t)break
if((w.length!==0?C.a.gA(w):null)==null)break
C.a.cp(w)}if(this.a==null)H.j(new P.A("No description given when executing "+this.j(0)+". You should return it from your world-modifying function."))
y.b=a
y.z=this.a
y.y=a.f
a.c.hC(y.C())
return x},
jj:function(a,b,c,d,e){return this.fQ(a,b,c,d,!1,e)},
ji:function(a,b,c,d,e){return this.fQ(a,b,c,d,e,!1)}},
kz:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),J.F(this.a))}},
af:{"^":"b6;",
gm:function(a){var z=new Y.bd(H.r([],[Y.aJ]),0,P.aj())
z.eK(0,this.gav(),this.b)
return z.cX()},
bC:function(a,b){var z=new Y.bd(H.r([],[Y.aJ]),0,P.aj())
z.kr(0,this.gaH(),this.b,a,!0)
return z.cX()},
j:function(a){var z,y
z=this.b
y=J.l(z)
return"EnemyTargetAction<"+this.gav()+"::enemy="+H.b(y.gu(z))+"/"+H.b(y.gm(z))+">"}},
dd:{"^":"b6;",
gm:function(a){return this.b.gaY()},
j:function(a){return"ExitAction<"+H.b(this.b.gaY())+">"}}}],["","",,O,{"^":"",
yH:[function(a){return J.F(a)},"$1","jw",2,0,7],
cm:{"^":"c;aY:a<,hB:b<,eJ:c<,R:d<,dI:e<,f,e5:r<,lu:x<,ir:y<,z,iq:Q<,ch",
gq:function(a){var z=this.e
return X.ar([this.d,this.a,X.ar(z==null?new P.jd(0,null,null,null,null,null,0,[null]):P.aH([z],null)),X.ar(this.r),X.ar(this.x),this.y,this.z])},
v:function(a,b){var z
if(b==null)return!1
z=J.n(b)
return!!z.$iscm&&this.gq(this)===z.gq(b)},
j:function(a){return"ActionRecord<"+H.b(this.c)+", "+H.b(this.b)+", "+H.b(this.a)+">"}},
kx:{"^":"c;a,b,e5:c<,hB:d<,eJ:e<,ir:f<,r,iq:x<,R:y<,aY:z<,Q,dI:ch<",
C:function(){var z,y,x,w,v,u,t,s,r,q,p,o,n
z=this.Q
switch(z){case C.F:y=this.b.a
break
case C.am:z=R.a_
y=P.aH(H.r([this.ch],[z]),z)
break
default:throw H.d(new P.aO("Mode "+z.j(0)+" not implemented"))}x=R.ec(P.R)
z=this.b.a
for(w=z.gK(z),z=new H.f0(w,new O.ky(this),[H.p(z,0)]);z.n();){v=w.gw()
x.k(0,v,J.J(v.cb(this.b),this.a.h(0,v)))}z=this.y
w=this.d
u=this.e
t=this.z
s=J.F(this.ch)
r=this.c
r.toString
r=P.aH(new H.co(r,O.jw(),[H.p(r,0),null]),null)
q=P.aH(new H.co(y,O.jw(),[H.p(y,0),null]),null)
p=this.f
o=this.r
n=this.x
return new O.cm(t,w,u,z,s,P.P(null,null,null,P.t),r,q,p,o,n,x)},
ly:function(a){var z,y,x
this.a=R.ec(P.R)
for(z=a.a,y=new P.aC(z,z.r,null,null,[null]),y.c=z.e;y.n();){x=y.d
this.a.k(0,x,x.cb(a))}}},
ky:{"^":"a:0;a",
$1:function(a){var z=this.a.a
return z.gV(z).G(0,a)}},
hP:{"^":"c;a",
j:function(a){return C.aT.h(0,this.a)}}}],["","",,R,{"^":"",
jK:function(a,b){return new P.bs(function(){var z=a,y=b
var x=0,w=1,v,u
return function $async$jK(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:x=2
return z
case 2:u=y.a
x=3
return P.dL(new H.a3(u,new R.vl(z),[H.p(u,0)]))
case 3:return P.bp()
case 1:return P.bq(v)}}})},
vl:{"^":"a:0;a",
$1:function(a){var z,y
z=a.geS()
y=J.F(this.a)
return z==null?y==null:z===y}},
a_:{"^":"og;",
gbR:function(){return this.f>0},
eV:function(a,b){return this.eU(a,b)>0},
eU:function(a,b){var z,y
if(this.f_(b)){z=a.gb5()
y=this.dy.a
z=z.a
z=y==null?z==null:y===z}else z=!1
if(z)return 10
if(this.jH(a,b,10))return 1
z=a.gb5()
y=this.dy.a
z=z.a
return(y==null?z!=null:y!==z)?1:0},
f_:function(a){var z,y
z=a.dO("Confuse",this,!0)
if(z==null)return!1
y=a.lY("Unconfuse",this,!0)
if(y==null)return!0
return y<z},
cb:function(a){var z,y,x
z=this.fr
if(z!=null)return z.$2(this,a)
y=10*this.f
z=$.$get$e0()
x=this.dy.a
z=z.a
if(x==null?z!=null:x!==z)y=C.e.bN(y,2)
z=a.a
x=new H.a3(z,new R.l_(this),[H.p(z,0)]).a2(0,0,new R.l0())
if(typeof x!=="number")return H.m(x)
return y+x-J.fU(z.a2(0,0,new R.l1(this,a)))},
bk:function(a){var z=this.d
return z!=null&&z.a===a},
jH:function(a,b,c){var z=b.lZ(a,this,!0)
if(z==null)return!1
return z<=c},
$isc_:1},
og:{"^":"c+el;"},
l_:{"^":"a:0;a",
$1:function(a){return J.f(a.gb5(),this.a.dy)}},
l0:{"^":"a:42;",
$2:function(a,b){return J.S(J.S(a,b.gbs()?2:0),2*b.gaE())}},
l1:{"^":"a:43;a,b",
$2:function(a,b){var z=b.gbs()?1:0
return J.S(a,(z+b.gaE())*this.a.eU(b,this.b))}},
kA:{"^":"c;a1:c<,I:e@,aE:f@,u:r>,N:z<,m:ch*,bd:cx@,F:db<,eS:dx<,b5:dy<"},
eb:{"^":"bX;a,b,c,$ti",
gq:function(a){var z,y
z=X.ar(this.gaO(this))
y=X.ar(this.gV(this))
return X.cc(X.aL(X.aL(0,C.e.gq(z)),C.e.gq(y)))},
v:function(a,b){var z,y,x
if(b==null)return!1
z=J.n(b)
if(!!z.$iseb){y=X.ar(this.gaO(this))
x=X.ar(this.gV(this))
x=X.cc(X.aL(X.aL(0,C.e.gq(y)),C.e.gq(x)))
y=X.ar(z.gaO(b))
z=X.ar(z.gV(b))
z=x===X.cc(X.aL(X.aL(0,C.e.gq(y)),C.e.gq(z)))}else z=!1
return z},
$asbX:function(a){return[P.t,R.a_,a]},
$asN:function(a){return[R.a_,a]},
p:{
ec:function(a){var z=new H.a1(0,null,null,null,null,null,0,[P.t,[B.i9,R.a_,a]])
return new R.eb(new R.kC(),new R.kD(),z,[a])},
kB:function(a,b){var z=R.ec(b)
a.B(0,new R.uW(b,z))
return z}}},
kC:{"^":"a:6;",
$1:function(a){return J.F(a)}},
kD:{"^":"a:0;",
$1:function(a){return a!=null}},
uW:{"^":"a;a,b",
$2:function(a,b){this.b.k(0,a,b)
return b},
$signature:function(){return H.aD(function(a){return{func:1,args:[R.a_,a]}},this,"eb")}},
eI:{"^":"c;a",
j:function(a){return C.J.h(0,this.a)}},
rh:{"^":"a_;a,b,bd:c<,a1:d<,eS:e<,aE:f<,u:r>,x,eY:y<,N:z<,Q,m:ch>,dG:cx<,I:cy<,F:db<,dx,b5:dy<,fr",
aG:function(a){var z=new R.cM(null,!0,H.r([],[P.h]),null,null,C.c,1,null,100,!0,!1,P.P(null,null,null,null),null,null,!0,C.n,null,$.$get$e0(),null)
z.fx=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof R.a_))return!1
if(this.b===b.b)if(J.f(this.c,b.c)){z=this.d
y=b.d
if(z==null?y==null:z===y){z=this.e
y=b.e
if(z==null?y==null:z===y)if(this.f===b.f){z=this.r
y=b.r
if(z==null?y==null:z===y)if(this.x===b.x)if(this.z===b.z)if(this.Q===b.Q)if(J.f(this.ch,b.ch))if(this.cx===b.cx)if(this.cy===b.cy)if(this.db===b.db)z=J.f(this.dy,b.dy)&&J.f(this.fr,b.fr)
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1
else z=!1}else z=!1
else z=!1}else z=!1}else z=!1
else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(0,C.r.gq(!0)),H.ao(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)),this.f&0x1FFFFFFF),J.x(this.r)),this.x&0x1FFFFFFF),C.r.gq(!0)),C.r.gq(this.z)),H.ao(this.Q)),J.x(this.ch)),C.r.gq(this.cx)),H.ao(this.cy)),H.ao(this.db)),C.x.gq(this.dx)),J.x(this.dy)),J.x(this.fr)))},
j:function(a){return"Actor {alreadyMentioned="+String(!0)+",\ncategories="+P.bC(this.b,"[","]")+",\ncurrentRoomName="+H.b(J.v(this.c))+",\ncurrentWeapon="+J.v(this.d)+",\nfollowingActorId="+J.v(this.e)+",\nhitpoints="+C.e.j(this.f)+",\nid="+J.v(this.r)+",\ninitiative="+C.e.j(this.x)+",\nisActive="+String(!0)+",\nisPlayer="+String(this.z)+",\nitems="+P.bC(this.Q,"{","}")+",\nname="+H.b(J.v(this.ch))+",\nnameIsProperNoun="+String(this.cx)+",\npose="+H.b(C.J.h(0,this.cy.a))+",\npronoun="+this.db.a+",\nshield="+C.x.j(this.dx)+",\nteam="+J.v(this.dy)+",\nworldScoringFunction="+H.b(J.v(this.fr))+",\n}"}},
cM:{"^":"kA;fx,a,b,c,d,e,f,r,x,y,z,Q,ch,cx,cy,db,dx,dy,fr",
gbd:function(){this.gt()
return this.cx},
sbd:function(a){this.gt()
this.cx=a},
ga1:function(){this.gt()
return this.c},
geS:function(){this.gt()
return this.dx},
gaE:function(){this.gt()
return this.f},
saE:function(a){this.gt()
this.f=a},
gu:function(a){this.gt()
return this.r},
gN:function(){this.gt()
return this.z},
gm:function(a){this.gt()
return this.ch},
sm:function(a,b){this.gt()
this.ch=b},
gdG:function(){this.gt()
return this.cy},
gI:function(){this.gt()
return this.e},
sI:function(a){this.gt()
this.e=a},
gF:function(){this.gt()
return this.db},
gb5:function(){this.gt()
return this.dy},
gt:function(){var z=this.fx
if(z!=null){z.a
this.a=!0
this.b=this.fx.b
this.cx=this.fx.c
this.c=this.fx.d
this.dx=this.fx.e
this.f=this.fx.f
this.r=this.fx.r
this.x=this.fx.x
this.fx.y
this.y=!0
this.z=this.fx.z
this.Q=this.fx.Q
this.ch=this.fx.ch
this.cy=this.fx.cx
this.e=this.fx.cy
this.db=this.fx.db
this.d=this.fx.dx
this.dy=this.fx.dy
this.fr=this.fx.fr
this.fx=null}return this},
C:function(){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k
z=this.fx
if(z==null){this.gt()
this.a
this.gt()
y=this.b
this.gt()
x=this.cx
this.gt()
w=this.c
this.gt()
v=this.dx
this.gt()
u=this.f
this.gt()
t=this.r
this.gt()
s=this.x
this.gt()
this.y
this.gt()
r=this.z
this.gt()
q=this.Q
this.gt()
p=this.ch
this.gt()
o=this.cy
this.gt()
n=this.e
this.gt()
m=this.db
this.gt()
l=this.d
this.gt()
k=this.dy
this.gt()
z=new R.rh(!0,y,x,w,v,u,t,s,!0,r,q,p,o,n,m,l,k,this.fr)
if(t==null)H.j(P.G("id"))
if(p==null)H.j(P.G("name"))
if(k==null)H.j(P.G("team"))}this.fx=z
return z}}}],["","",,U,{"^":"",
wb:function(a){switch(a){case C.a9:return"spear"
case C.aa:return"branch"
case C.ab:return"tent"
case C.i:return"sword"
default:throw H.d(P.O(a))}},
de:{"^":"i5;$ti",
gaY:function(){return U.wb(this.a)},
$isc_:1},
i5:{"^":"c+el;$ti"},
df:{"^":"c;a",
j:function(a){return C.aR.h(0,this.a)}},
dA:{"^":"de;b,c,eY:d<,b5:e<,m:f>,a",
gu:function(a){return H.ao(this)},
gbR:function(){return!1},
gN:function(){return!1},
gdG:function(){return!1},
gF:function(){return C.n},
$asde:I.a4,
$asi5:I.a4}}],["","",,G,{"^":"",o4:{"^":"c;",
hk:function(){var z,y
z=this.f
y=z.a
if(y.length!==0){this.b.$1(y.charCodeAt(0)==0?y:y)
z.a=""}},
ms:[function(a){this.f.a+=a},"$1","gkW",2,0,4],
bj:function(){var z=0,y=new P.as(),x,w=2,v,u=this,t,s
var $async$bj=P.ap(function(a,b){if(a===1){v=b
z=w}while(true)switch(z){case 0:if(u.x==null)throw H.d(new P.A("Cannot run a LoopedEvent before onFinishedGoto is defined."))
if(u.r){u.d.si(0,0)
u.a.$1(u.x)
z=1
break}t=u.d
s=u.f
case 3:if(!!0){z=4
break}if(!(!u.r&&t.gi(t)===0&&s.a.length===0)){z=4
break}z=5
return P.w(u.dQ(),$async$bj,y)
case 5:z=3
break
case 4:u.hk()
case 1:return P.w(x,0,y)
case 2:return P.w(v,1,y)}})
return P.w(null,$async$bj,y)}}}],["","",,B,{"^":"",h6:{"^":"c;d6:a<,dz:b<,cU:c>",
j:function(a){return"ConsequenceStats<order="+H.b(this.c)+", cumProb="+C.d.ik(this.b,3)+", score="+J.fX(this.a,2)+">"}},cA:{"^":"c;bU:a<,eI:b>,fI:c<,lK:d<,dz:e<,f,r,lq:x<,cU:y>",
gq:function(a){return X.ar([this.a,this.e,this.b,this.d,this.y,this.f,this.r,this.x])},
v:function(a,b){var z
if(b==null)return!1
z=J.n(b)
return!!z.$iscA&&this.gq(this)===z.gq(b)},
j:function(a){var z,y
z=this.a
y=J.n(z)
z="PlanConsequence<"+y.gq(z)+", "+y.j(z)+", "+J.v(this.b)+", "+H.b(this.d)+", "+this.y+", "
return z+(this.x?"isSuccess":"")+">"},
fM:function(a,b,c,d,e,f,g,h){this.c.b=this.a.f},
p:{
ia:function(a,b,c,d,e,f,g,h){var z,y
z=b==null
y=z?0:b.gcU(b)+1
y=new B.cA(a,c,d,e,z?e:e*b.gdz(),g,f,h,y)
y.fM(a,b,c,d,e,f,g,h)
return y}}}}],["","",,G,{"^":"",kE:{"^":"c;a,b,c,d,e,f",
kH:function(a,b,c){var z,y,x,w,v,u,t,s,r,q
z=this.a
z.X("...")
z.X("combining scores")
y=H.r([],[P.R])
for(x=J.ax(a),w=null;x.n()===!0;){v=x.gw()
z.X(new G.kW(v))
if(v.gdz()>0.15)if(w==null){z.X("    - first _bestCase")
w=v}else if(J.a5(v.gd6(),w.gd6())){z.X("    - new _bestCase")
w=v}u=J.e3(J.J(v.gd6(),b),v.b)
z.X(new G.kX(u))
y.push(u)}x=C.a.a2(y,0,new G.kY())
t=y.length
if(typeof x!=="number")return x.d2()
s=x/t
x=w==null
r=x?0:J.J(w.gd6(),b)
x=x?w:w.gcU(w)
if(typeof r!=="number")return r.d2()
if(typeof x!=="number")return H.m(x)
x=r/x
z.X("- uplifts average = "+H.b(s))
z.X("- best = "+H.b(x))
q=x+s
z.X("- result = "+H.b(q))
return q},
fw:function(){var z=this
return new P.bs(function(){var y=0,x=1,w,v,u,t,s
return function $async$fw(a,b){if(a===1){w=b
y=x}while(true)switch(y){case 0:v=z.f,u=v.gV(v),u=u.gK(u),t=1
case 2:if(!u.n()){y=3
break}s=u.gw()
y=4
return""+t+") "+H.b(J.B(s))+"\t"+J.fX(v.h(0,s),2)
case 4:++t
y=2
break
case 3:return P.bp()
case 1:return P.bq(w)}}})},
dH:function(a,b,c){var z=0,y=new P.as(),x=1,w,v=this,u,t,s,r,q,p,o,n,m,l,k,j,i
var $async$dH=P.ap(function(d,e){if(d===1){w=e
z=x}while(true)switch(z){case 0:u=v.f
u.ab(0)
t=v.c
s=t.a
r=s.a.bD(0,new G.kZ(v))
q=r.cb(s)
p=v.a
o=r.ch
p.dC("Planning for "+H.b(o)+", initialScore="+H.b(q))
n=new P.bt(v.eq(r,s).a(),null,null,null)
case 2:if(!n.n()){z=3
break}m=n.c
l=m==null?n.b:m.gw()
m=J.l(l)
p.b3("Evaluating action '"+H.b(m.gm(l))+"' for "+H.b(o))
if(!l.Z(r,s)){p.b3("- action '"+H.b(m.gm(l))+"' isn't applicable")
z=2
break}z=4
return P.w(v.cf(t,l,b,a,c).b2(0),$async$dH,y)
case 4:k=e
j=J.Q(k)
if(j.gE(k)===!0){p.b3("- action '"+H.b(m.gm(l))+"' is possible but we couldn't get to any outcomes while planning. Scoring with negative infinity.")
u.k(0,l,-1/0)
z=2
break}p.b3("- action '"+H.b(m.gm(l))+"' leads to "+H.b(j.gi(k))+" different ConsequenceStats, initialScore="+H.b(q))
i=v.kH(k,q,b)
u.k(0,l,i)
p.b3("- action '"+H.b(m.gm(l))+"' was scored "+H.b(i))
z=2
break
case 3:v.e=!0
return P.w(null,0,y)
case 1:return P.w(w,1,y)}})
return P.w(null,$async$dH,y)},
lI:function(a){return this.dH(50,10,a)},
eq:function(a,b){return new P.bs(function(){var z=a,y=b
var x=0,w=1,v,u,t,s,r,q,p
return function $async$eq(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=y.e
x=2
return P.dL((u.length!==0?C.a.gA(u):null).gci())
case 2:u=(u.length!==0?C.a.gA(u):null).gbn()
t=u.length
s=H.aP(H.b3(Q.dd),[H.b3(Q.bz)])
r=H.aP(H.b3(Q.af),[H.b3(R.a_)])
q=0
case 3:if(!(q<u.length)){x=5
break}p=u[q]
x=r.aR(p)?6:8
break
case 6:x=9
return P.dL(Q.jH(z,y,p))
case 9:x=7
break
case 8:x=s.aR(p)?10:12
break
case 10:x=13
return P.dL(Q.jI(z,y,p))
case 13:x=11
break
case 12:throw H.d(new P.A(H.b(p)+" is not one of the supported ones"))
case 11:case 7:case 4:u.length===t||(0,H.a9)(u),++q
x=3
break
case 5:return P.bp()
case 1:return P.bq(v)}}})},
cf:function(a2,a3,a4,a5,a6){var $async$cf=P.ap(function(a7,a8){switch(a7){case 2:u=x
z=u.pop()
break
case 1:v=a8
z=w}while(true)switch(z){case 0:s={}
r=a2.a
q=r.a.bD(0,new G.kH(t))
p=t.a
p.b3("=====")
p.b3(new G.kI(a3,q))
p.b3(new G.kJ(a3))
if(!a3.Z(q,r)){p.b3("- firstAction not applicable")
z=1
break}o=q.cb(r)
p.b3(new G.kO(a2,o))
p.b3(new G.kP(a2))
n=P.aS(null,B.cA)
m=P.P(null,null,null,A.bf)
l=J.n(r)
k=l.gq(r)
for(j=new P.bt(a3.dr(q,a2,r).a(),null,null,null);j.n();){i=j.c
h=i==null?j.b:i.gw()
if(l.gq(r)!==k)throw H.d(new P.A("Action "+a3.j(0)+" modified world state when producing "+H.b(h)+"."))
n.al(h)}s.a=0
r=t.b
case 3:if(!!n.gE(n)){z=4
break}++s.a
z=1000*(Date.now()-$.$get$ed().a)>5000?5:6
break
case 5:z=7
return P.cP(a6.$0(),$async$cf,y)
case 7:$.ed=new P.bY(Date.now(),!1)
case 6:g=n.cY()
p.X("----")
p.X(new G.kQ(g))
p.X(new G.kR(g))
l=J.fP(g)
if(typeof l!=="number"){l.ao()
z=1
break}if(l>a4||s.a>a5){p.X(new G.kS(s,a4,g))
p.X(new G.kT(g))
z=4
break}z=g.gbU().e.length===0?8:9
break
case 8:p.X("- leaf node: world.situations is empty (end of book)")
l=g.a
q=l.a.br(0,new G.kU(t),new G.kV())
if(q==null){p.X("- this actor ("+H.b(r)+") has been removed")
z=3
break}f=new B.h6(q.cb(l),g.e,g.y)
p.X(new G.kK(f))
z=10
x=[1]
return P.cP(P.ja(f),$async$cf,y)
case 10:z=3
break
case 9:l=g.a
j=l.e
e=(j.length!==0?C.a.gA(j):null).dW(l)
q=l.a.bD(0,new G.kL(t))
j=J.n(e)
d=j.v(e,q)
p.X("- actor: "+H.b(j.gm(e))+" (isMain=="+d+")")
p.X("- mainActor: "+H.b(J.B(q)))
f=new B.h6(q.cb(l),g.e,g.y)
p.X(new G.kM(o,f))
p.X(new G.kN(g))
z=11
x=[1]
return P.cP(P.ja(f),$async$cf,y)
case 11:p.X("- generating all actions for "+H.b(j.gm(e)))
j=J.J(n.c,n.b)
i=n.a
if(typeof j!=="number"){j.bz()
z=1
break}for(c=new P.bt(t.eq(e,l).a(),null,null,null);c.n();){b=c.c
a=b==null?c.b:b.gw()
if(!a.Z(e,l))continue
for(b=new P.bt(a.dr(e,g,l).a(),null,null,null);b.n();){a0=b.c
a1=a0==null?b.b:a0.gw();++t.d
if(a1.gdz()<0.05)continue
if(m.G(0,a1.gbU()))continue
n.al(a1)}}c=J.J(n.c,n.b)
b=n.a
if(typeof c!=="number"){c.bz()
z=1
break}p.X("- added "+(((c&b.length-1)>>>0)-((j&i.length-1)>>>0))+" new PlanConsequences")
m.l(0,l)
z=3
break
case 4:case 1:return P.cP(null,0,y)
case 2:return P.cP(v,1,y)}})
var z=0,y=P.rA($async$cf),x,w=2,v,u=[],t=this,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e,d,c,b,a,a0,a1
return P.uy(y)}},kW:{"^":"a:1;a",
$0:function(){return"  - consequence: "+H.b(this.a)}},kX:{"^":"a:1;a",
$0:function(){return"    - uplift = "+H.b(this.a)}},kY:{"^":"a:3;",
$2:function(a,b){return J.S(a,b)}},kZ:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),this.a.b)}},kH:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),this.a.b)}},kI:{"^":"a:1;a,b",
$0:function(){var z=this.a
return"_getConsequenceStats for firstAction '"+H.b(z.gm(z))+"' of "+H.b(J.B(this.b))}},kJ:{"^":"a:1;a",
$0:function(){return"- firstAction == "+this.a.j(0)}},kO:{"^":"a:1;a,b",
$0:function(){var z=this.a
return"- current: initialScore="+H.b(this.b)+", cumProb="+H.b(z.e)+" (prob="+H.b(z.d)+", ord="+z.y+")"}},kP:{"^":"a:1;a",
$0:function(){var z=this.a
return"- initial action: "+C.b.bV(" ",z.y)+"- "+J.v(z.b)}},kQ:{"^":"a:1;a",
$0:function(){return"evaluating a PlanConsequence of '"+H.b(J.B(J.k4(this.a)))+"'"}},kR:{"^":"a:1;a",
$0:function(){var z=this.a.gbU().e
return"- situation: "+H.b(J.kb(z.length!==0?C.a.gA(z):null))}},kS:{"^":"a:1;a,b,c",
$0:function(){return"- order ("+H.b(J.fP(this.c))+") higher than maximum ("+this.b+"), or consequences ("+this.a.a+") higher than maximum"}},kT:{"^":"a:1;a",
$0:function(){var z=this.a.gbU().c
return"- how we got here: "+new H.am(z,new G.kG(),[H.p(z,0),null]).au(0," <- ")}},kG:{"^":"a:0;",
$1:function(a){return a.gaY()}},kU:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),this.a.b)}},kV:{"^":"a:1;",
$0:function(){return}},kK:{"^":"a:1;a",
$0:function(){return"- "+this.a.j(0)}},kL:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),this.a.b)}},kM:{"^":"a:1;a,b",
$0:function(){return"- mainActor's score == "+this.b.j(0)+" (initial="+H.b(this.a)+")"}},kN:{"^":"a:1;a",
$0:function(){var z=this.a.gbU().c
return"- how we got here: "+new H.am(z,new G.kF(),[H.p(z,0),null]).au(0," <- ")}},kF:{"^":"a:0;",
$1:function(a){return a.gaY()}},eH:{"^":"c;a,ci:b<",
gE:function(a){return this.b.length===0},
p:{
oE:function(a){var z,y,x,w,v,u,t,s,r,q
z={}
if(a.gE(a)){$.$get$ib().ip("Created with no recommendations.")
return new G.eH([],[])}y=a.gV(a)
x=P.ac(y,!0,H.E(y,"L",0))
C.a.bo(x,"removeWhere")
C.a.eD(x,new G.uX(a),!0)
if(x.length===1)return new G.eH([1000],x)
C.a.d8(x,new G.uY(a))
w=a.gaO(a).a2(0,1/0,P.vQ())
v=a.gaO(a).a2(0,-1/0,P.vP())
y=J.M(v)
u=J.M(w)
t=u.S(w,J.e3(y.S(v,w),0.1))
z.a=t
if(u.v(w,v)){t=J.J(t,1)
z.a=t
u=t}else u=t
s=y.S(v,u)
r=P.hV(x.length,new G.v_(z,a,x,s),!1,P.av)
q=new H.am(r,new G.v0(C.a.a2(r,0,G.jR())),[null,null]).b6(0,!1)
z=C.a.a2(q,0,G.jR())
if(typeof z!=="number")return H.m(z)
u=q.length
y=u-1
if(y<0)return H.e(q,y)
z=J.S(q[y],1000-z)
if(y>=q.length)return H.e(q,y)
q[y]=z
return new G.eH(q,x)},
xQ:[function(a,b){return J.S(a,b)},"$2","jR",4,0,8]}},uX:{"^":"a:0;a",
$1:function(a){return J.f(this.a.h(0,a),-1/0)}},uY:{"^":"a:3;a",
$2:function(a,b){var z=this.a
return J.jZ(J.cZ(z.h(0,a),z.h(0,b)))}},v_:{"^":"a:4;a,b,c,d",
$1:function(a){var z,y
z=this.c
if(a>=z.length)return H.e(z,a)
z=J.J(this.b.h(0,z[a]),this.a.a)
y=this.d
if(typeof z!=="number")return z.d2()
if(typeof y!=="number")return H.m(y)
return z/y}},v0:{"^":"a:0;a",
$1:function(a){var z=this.a
if(typeof a!=="number")return a.d2()
if(typeof z!=="number")return H.m(z)
return C.l.aI(a/z*1000)}}}],["","",,K,{"^":"",cF:{"^":"c;a,m:b>,aY:c<,d,lD:e<,f,c8:r<",
gl_:function(){return this.a},
gq:function(a){return C.b.gq(this.b)},
v:function(a,b){if(b==null)return!1
return b instanceof K.cF&&b.b===this.b},
p:{
p2:function(a,b,c,d,e,f,g){var z,y
z=new K.cF(null,a,b,c,d,e,g)
y=new S.b0(null,null,[Q.bz])
y.aP()
y.ar(0,f)
z.a=y.C()
return z}}}}],["","",,Q,{"^":"",bz:{"^":"c;hO:a<,aY:b<,c"}}],["","",,S,{"^":"",bc:{"^":"c;",
gbn:function(){return C.m},
gci:function(){return C.m},
dW:function(a){return this.bl(this.gR(),a)},
i6:function(a,b){},
i7:function(a,b){},
e2:function(a){return!0}}}],["","",,S,{"^":"",
ih:function(a){var z=$.$get$bG().ae(3)
if(z<0||z>=3)return H.e(a,z)
return a[z]},
oT:function(a,b){var z,y,x,w,v
z=$.$get$bG().i5()*b
for(y=new H.c1(a,a.gi(a),0,null,[H.E(a,"aR",0)]),x=0,w=0;y.n();){v=y.d
if(typeof v!=="number")return H.m(v)
x+=v
if(x>=z)return w;++w}throw H.d(P.O("The weights do not add up to total="+b))},
oU:function(a,b){var z,y,x,w,v,u,t
z=$.$get$bG().ae(b)
for(y=a.length,x=0,w=0,v=0;u=a.length,v<u;u===y||(0,H.a9)(a),++v){t=a[v]
if(typeof t!=="number")return H.m(t)
x+=t
if(x>=z)return w;++w}throw H.d(P.O("The weights do not add up to total="+b))},
ds:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m
z=J.Q(a)
y=z.b_(a,"{")
if(y!==-1){x=J.J(z.gi(a),1)
if(typeof x!=="number")return H.m(x)
x=y<x}else x=!1
if(x){w=H.r([],[P.t])
w.push(y)
u=y+1
t=null
s=1
while(!0){x=z.gi(a)
if(typeof x!=="number")return H.m(x)
if(!(u<x)){v=null
break}r=z.h(a,u)
x=J.n(r)
if(x.v(r,"{"))++s
else if(x.v(r,"|")&&s===1)w.push(u)
else if(x.v(r,"}")){--s
if(s===0){w.push(u)
v=u
t=v
break}}q=u+1
t=u
u=q}p=w.length-1
if(p>1){o=$.$get$bG().ae(p)
z=z.ag(a,0,y)
x=w.length
if(o<0||o>=x)return H.e(w,o)
n=w[o]
m=o+1
if(m>=x)return H.e(w,m)
m=z+H.b(S.ds(C.b.ag(a,n+1,w[m])))
if(typeof v!=="number")return v.H()
n=a.length
m+=C.b.ag(a,v+1,n)
z=m.charCodeAt(0)==0?m:m
if(t===n-1)return z
else return S.ds(z)}else if(t===J.J(z.gi(a),1))return a
else{if(typeof t!=="number")return t.H()
x=t+1
return z.ag(a,0,x)+H.b(S.ds(C.b.bF(a,x)))}}else return a},
c6:function(a,b,c,d){switch($.$get$bG().ae(2)){case 0:a.$0()
break
case 1:b.$0()
break
case 2:c.$0()
break
case 4:d.$0()
break}},
ii:function(a){if(a<0||a>1)throw H.d(P.a2(a,0,1,"Probability needs to be within <0,1>.",null))
if(a===0)return!1
if(a===1)return!0
return $.$get$bG().i5()<a}}],["","",,Y,{"^":"",aJ:{"^":"c;az:a<,aK:b<,aF:c<,i9:d<,e,ds:f@,ib:r<,i4:x<,fJ:y<,kZ:z<,iN:Q<,d0:ch<,cx,lr:cy<,R:db<",
h:function(a,b){switch(b){case"string":return this.a
case"subject":return this.b
case"object":return this.c
case"owner":return this.d
case"but":return this.f
case"positive":return this.r
case"negative":return this.x
case"endSentence":return this.z
case"startSentence":return this.Q
case"wholeSentence":return this.ch
case"time":return this.db
default:throw H.d(P.O("Invalid key "+H.b(b)+"."))}}},bd:{"^":"c;a,R:b<,c",
geT:function(){return C.a.aL(this.a,new Y.qc())},
aV:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var z,y
if(b==null||J.f(b,""))return
z=(J.aq(b).dB(b,".")||C.b.dB(b,"!")||C.b.dB(b,"?"))&&C.b.cu(b,P.I("[A-Z]",!0,!1))?!0:p
y=this.b
this.a.push(new Y.aJ(b,m,h,j,i,d,k,g,!1,e,l,z,c,!1,y))},
l:function(a,b){return this.aV(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,!1,null,!1)},
bb:function(a,b,c){return this.aV(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,null,!1,null,c)},
eL:function(a,b,c){return this.aV(a,b,null,!1,!1,!1,!1,null,null,null,!1,!1,c,!1,null,!1)},
km:function(a,b,c,d){return this.aV(a,b,null,!1,c,!1,!1,null,null,null,!1,!1,d,!1,null,!1)},
U:function(a,b,c,d,e,f,g,h,i,j){return this.aV(a,b,null,c,d,!1,e,f,g,null,h,!1,i,j,null,!1)},
kr:function(a,b,c,d,e){return this.aV(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,d,!1,null,e)},
eK:function(a,b,c){return this.aV(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,null,!1,null,!1)},
kp:function(a,b,c,d,e){return this.aV(a,b,null,!1,!1,!1,c,null,null,null,!1,d,e,!1,null,!1)},
ko:function(a,b,c,d){return this.aV(a,b,null,!1,!1,!1,!1,null,null,c,!1,!1,d,!1,null,!1)},
kl:function(a,b,c){return this.aV(a,b,null,c,!1,!1,!1,null,null,null,!1,!1,null,!1,null,!1)},
kq:function(a,b,c,d,e){return this.aV(a,b,null,!1,!1,!1,!1,c,null,d,!1,!1,e,!1,null,!1)},
kn:function(a,b,c,d){return this.aV(a,b,null,!1,!1,!1,!1,c,null,null,!1,!1,d,!1,null,!1)},
cj:function(a,b,c,d,e){var z,y,x
if(d!=null){z=J.Q(a)
z=z.b_(a,"<owner's> "+b)!==-1||z.b_(a,"<ownerPronoun's> "+b)!==-1||z.b_(a,"<object-owner's> "+b)!==-1||z.b_(a,"<object-ownerPronoun's> "+b)!==-1}else z=!1
if(z)return a
if(!c.gdG()){z=this.c
y=z.h(0,c.gu(c))
if(y==null)y=-1
if(typeof y!=="number")return y.a_()
if(typeof e!=="number")return H.m(e)
if(y<e)x=J.bT(a,b,"the "+b)
else{y=J.aq(a)
x=J.d3(c.gm(c),P.I("[aeiouy]",!1,!1))?y.fh(a,b,"an "+b):y.fh(a,b,"a "+b)
z.k(0,c.gu(c),e)}}else x=null
return x==null?a:x},
eR:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
z=this.a
if(a<0||a>=z.length)return H.e(z,a)
if(z[a].gaK()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaK()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
if(z[a].gaF()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaF()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.F(z[a].gaK())
if(b<0||b>=z.length)return H.e(z,b)
if(J.f(y,J.F(z[b].gaF()))){if(a>=z.length)return H.e(z,a)
y=J.F(z[a].gaF())
if(b>=z.length)return H.e(z,b)
z=J.f(y,J.F(z[b].gaK()))}else z=!1
return z},
dV:function(a){var z=this
return new P.bs(function(){var y=a
var x=0,w=2,v,u,t
return function $async$dV(b,c){if(b===1){v=c
x=w}while(true)switch(x){case 0:if(!z.aJ(y)){x=1
break}u=z.a
if(y<0||y>=u.length)H.e(u,y)
t=u[y]
x=t.gaK()!=null?3:4
break
case 3:x=5
return t.gaK()
case 5:case 4:x=t.gaF()!=null?6:7
break
case 6:x=8
return t.gaF()
case 8:case 7:x=t.gi9()!=null?9:10
break
case 9:x=11
return t.d
case 11:case 10:case 1:return P.bp()
case 2:return P.bq(v)}}})},
aN:[function(a){var z=J.M(a)
if(z.a_(a,0)||z.bA(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaF()}},"$1","gaF",2,0,2],
lF:function(a,b){var z
if(!this.aJ(a)||!this.aJ(b))return!1
if(this.eR(a,b)){z=this.a
if(a>=z.length)return H.e(z,a)
z[a].gfJ()}return!1},
i8:function(a){var z
for(z=!1;this.geT();z=!0){a.$1(this.ic(!0))
this.lO()}return z},
ic:function(a){var z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e
z=this.a
y=C.a.a2(z,[],new Y.qd())
C.a.eD(z,new Y.qe(y),!1)
x=a&&this.geT()?C.a.b_(z,C.a.hS(z,new Y.qf()))+1:z.length
if(x<1)return""
for(w=-1,v=!0,u=!1,t=!1,s=0,r="";s<x;++s){q=s===0
if(!q){p=s-1
o=this.eR(p,s)
if(s>=z.length)return H.e(z,s)
if(!z[s].gds())n=this.lF(s,p)&&this.iJ(s,p)
else n=!0
if(n){if(p<0||p>=z.length)return H.e(z,p)
t=!z[p].gds()}else t=!1
if(s>=z.length)return H.e(z,s)
z[s].sds(t)
n=s-w
if(n<3)if(!u){if(s>=z.length)return H.e(z,s)
if(!z[s].giN()){if(p<0||p>=z.length)return H.e(z,p)
if(!z[p].gkZ()){if(s>=z.length)return H.e(z,s)
if(!z[s].gd0())if(this.dl(s,p)||o)if(!(t&&n>1)){if(t){if(p>=z.length)return H.e(z,p)
n=z[p].gds()}else n=!1
n=n||this.m_(s)>4}else n=!0
else n=!0
else n=!0}else n=!0}else n=!0
v=n}else v=!0
else v=!0
if(v){if(p<0||p>=z.length)return H.e(z,p)
if(z[p].gd0()){r+=" "
p=r}else{r+=". "
p=r}if(t){if(s>=z.length)return H.e(z,s)
n=!z[s].gd0()}else n=!1
r=n?r+"But ":p
u=!1}else if(t){r+=S.ih([" but "," but ",", but "])
u=!this.ix(s,s+1)&&!0}else{r+=S.ih([" and "," and ",", and "])
u=!0}}m=this.e3(s)
p=!v
if(p){n=s-1
if(this.dl(s,n))if(J.d3(this.e3(n),"<subject> "))if(J.d3(m,"<subject> "))m=H.jV(m,"<subject> ","",0)}l=J.u(m,"<action>",this.e3(s))
if(this.k6(s,s-1))n=!(this.aN(s).gF()===C.n&&this.af(s).gF()===C.n)
else n=!1
if(n)l=J.u(J.u(J.u(J.u(l,"<object-owner's> <object>",this.aN(s).gF().b),"<object-ownerPronoun's> <object>",this.aN(s).gF().b),"<object>",this.aN(s).gF().b),"<object's>",this.aN(s).gF().c)
if(this.dl(s,s-1))l=J.u(J.u(J.u(J.u(l,"<owner's> <subject>",this.af(s).gF().a),"<ownerPronoun's> <subject>",this.af(s).gF().a),"<subject>",this.af(s).gF().a),"<subject's>",this.af(s).gF().c)
n=s-1
if(this.aN(n)!=null)if(this.af(s)!=null)if(this.af(n)!=null){k=this.aN(n)
k=k==null?k:J.F(k)
j=this.af(s)
if(J.f(k,j==null?j:J.F(j))){k=this.af(n)
k=k==null?k:k.gF()
j=this.af(s)
k=!J.f(k,j==null?j:j.gF())}else k=!1}else k=!1
else k=!1
else k=!1
if(k)l=J.u(J.u(J.u(J.u(l,"<owner's> <subject>",this.af(s).gF().a),"<ownerPronoun's> <subject>",this.af(s).gF().a),"<subject>",this.af(s).gF().a),"<subject's>",this.af(s).gF().c)
if(this.af(n)!=null)if(this.aN(s)!=null){k=this.af(n)
k=k==null?k:J.F(k)
j=this.aN(s)
if(J.f(k,j==null?j:J.F(j))){n=this.af(n)
n=n==null?n:n.gF()
k=this.af(s)
n=!J.f(n,k==null?k:k.gF())}else n=!1}else n=!1
else n=!1
if(n)l=J.u(J.u(J.u(J.u(l,"<object-owner's> <object>",this.aN(s).gF().a),"<object-ownerPronoun's> <object>",this.aN(s).gF().a),"<object>",this.aN(s).gF().b),"<object's>",this.aN(s).gF().c)
if(s>=z.length)return H.e(z,s)
n=z[s]
i=n.gaK()
h=n.gaF()
g=n.gi9()
f=n.e
if(i!=null){e=i.gN()?J.u(J.u(l,"<subject>","you"),"<subject's>","your"):l
k=i.gF()===C.M||i.gF()===C.aV
j=J.aq(e)
e=J.bT(k?J.u(J.u(J.u(J.u(J.u(j.cq(e,"<s>",""),"<es>",""),"<ies>","y"),"<does>","do"),"<is>","are"),"<has>","have"):J.u(J.u(J.u(J.u(J.u(j.cq(e,"<s>","s"),"<es>","es"),"<ies>","ies"),"<does>","does"),"<is>","is"),"<has>","has"),"<subject>","<subjectNoun>")
j=i.gF()
e=H.ch(e,"<subject>",j.a)
k=n.db
e=J.bT(this.cj(e,"<subjectNoun>",i,g,k),"<subjectNoun>",i.gm(i))
j=i.gF()
e=H.ch(e,"<subjectPronoun>",j.a)
e=J.bT(this.cj(J.bQ(l,P.I("<subject>.+<subject's>",!0,!1))===!0?J.u(e,"<subject's>",i.gF().c):e,"<subject's>",i,g,k),"<subject's>",H.b(i.gm(i))+"'s")
k=i.gF()
e=J.u(H.ch(e,"<subject's>",k.c),"<subjectPronoun's>",i.gF().c)}else e=l
if(h!=null){e=h.gN()?J.u(J.u(e,"<object>","you"),"<object's>","your"):J.u(this.cj(e,"<object>",h,f,n.db),"<object>",h.gm(h))
e=J.u(e,"<objectPronoun>",h.gF().b)
if(J.bQ(l,P.I("<object>.+<object's>",!0,!1))===!0)e=J.u(e,"<object's>",h.gF().c)
e=J.bT(this.cj(e,"<object's>",h,f,n.db),"<object's>",H.b(h.gm(h))+"'s")
k=h.gF()
e=J.u(H.ch(e,"<object's>",k.c),"<objectPronoun's>",h.gF().c)}n=n.db
e=S.ds(this.hl(f,this.hl(g,e,l,"<owner>","<owner's>","<ownerPronoun>","<ownerPronoun's>",n),l,"<object-owner>","<object-owner's>","<object-ownerPronoun>","<object-ownerPronoun's>",n))
n=J.Q(e)
if(n.G(e,"{")===!0||n.G(e,"}")===!0)$.$get$jO().fE('Storyline result includes { and/or } even after being parsed by Randomly. Is there a dangling bracket here? Input = """'+H.b(l)+'""" Output = """'+H.b(e)+'"""')
r+=H.b((!p||q)&&!t?Y.qb(e):e)
if(v)w=s
if(s>=z.length)return H.e(z,s)
if(z[s].gd0())u=!0}q=x-1
if(q>>>0!==q||q>=z.length)return H.e(z,q)
z=!z[q].gd0()?r+".":r
return H.w7(z.charCodeAt(0)==0?z:z,$.$get$iz(),new Y.qg(),null)},
cX:function(){return this.ic(!1)},
lO:function(){var z,y
if(!this.geT()){C.a.si(this.a,0)
return}z=this.a
y=C.a.b_(z,C.a.hS(z,new Y.qh()))+1
P.cD(0,y,z.length,null,null,null)
z.splice(0,y-0)},
ix:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
if(this.eR(a,b)){z=this.a
if(a>=z.length)return H.e(z,a)
z[a].gfJ()}if(!this.dl(a,b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gib()){if(b>=z.length)return H.e(z,b)
y=z[b].gib()}else y=!1
if(y)return!0
if(a>=z.length)return H.e(z,a)
if(z[a].gi4()){if(b>=z.length)return H.e(z,b)
z=z[b].gi4()}else z=!1
if(z)return!0
else return!1},
iJ:function(a,b){var z,y,x,w,v,u
if(!this.aJ(a)||!this.aJ(b))return!1
for(z=new P.bt(this.dV(a).a(),null,null,null);z.n();){y=z.c
x=y==null?z.b:y.gw()
for(y=new P.bt(this.dV(b).a(),null,null,null),w=J.l(x);y.n();){v=y.c
u=v==null?y.b:v.gw()
if(J.f(w.gu(x),J.F(u)))return!0}}return!1},
e3:[function(a){var z=J.M(a)
if(z.a_(a,0)||z.bA(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaz()}},"$1","gaz",2,0,5],
af:[function(a){var z=J.M(a)
if(z.a_(a,0)||z.bA(a,this.a.length))return
else{z=this.a
if(a>>>0!==a||a>=z.length)return H.e(z,a)
return z[a].gaK()}},"$1","gaK",2,0,2],
m_:function(a){var z,y,x
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gR()!=null){y=a-1
if(this.aJ(y)){if(y<0||y>=z.length)return H.e(z,y)
y=z[y].gR()==null}else y=!0}else y=!0
if(y)return 1000
else{if(a>=z.length)return H.e(z,a)
y=z[a].gR()
x=a-1
if(x<0||x>=z.length)return H.e(z,x)
x=z[x].gR()
if(typeof y!=="number")return y.S()
if(typeof x!=="number")return H.m(x)
return y-x}},
j:function(a){return this.cX()},
aJ:function(a){if(a>=this.a.length||a<0)return!1
else return!0},
hl:function(a,b,c,d,e,f,g,h){var z
if(a!=null){z=a.gN()?J.u(J.u(b,d,"you"),e,"your"):J.u(this.cj(b,d,a,null,h),d,a.gm(a))
z=J.u(z,f,a.gF().a)
z=J.u(H.ch(J.bT(this.cj(J.bQ(c,P.I(d+".+"+e,!0,!1))===!0?J.u(z,e,a.gF().c):z,e,a,null,h),e,H.b(a.gm(a))+"'s"),e,a.gF().c),g,a.gF().c)}else z=J.u(J.u(J.u(J.u(b,d,""),e,""),f,""),g,"")
return z},
k6:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gaF()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaF()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.F(z[a].gaF())
if(b<0||b>=z.length)return H.e(z,b)
return J.f(y,J.F(z[b].gaF()))},
dl:function(a,b){var z,y
if(!this.aJ(a)||!this.aJ(b))return!1
z=this.a
if(a>=z.length)return H.e(z,a)
if(z[a].gaK()!=null){if(b<0||b>=z.length)return H.e(z,b)
y=z[b].gaK()==null}else y=!0
if(y)return!1
if(a>=z.length)return H.e(z,a)
y=J.F(z[a].gaK())
if(b<0||b>=z.length)return H.e(z,b)
return J.f(y,J.F(z[b].gaK()))},
p:{
qb:function(a){var z,y,x
z=J.Q(a)
y=z.G(a,"\n\n")!==!0?z.m3(a):a
z=J.Q(y)
if(z.gE(y)===!0)return y
x=J.kv(z.h(y,0))
if(J.f(z.gi(y),1))return x
else return x+z.bF(y,1)}}},qc:{"^":"a:0;",
$1:function(a){return J.f(a.gaz(),"\n\n")}},qd:{"^":"a:45;",
$2:function(a,b){var z,y
z=J.Q(a)
y=z.ga3(a)?z.gA(a):null
if(y!=null)y.glr()
z.l(a,b)
return a}},qe:{"^":"a:46;a",
$1:function(a){return J.bQ(this.a,a)}},qf:{"^":"a:0;",
$1:function(a){return J.f(a.gaz(),"\n\n")}},qg:{"^":"a:47;",
$1:function(a){return H.b(a.h(0,1))+H.b(a.h(0,2))+H.b(a.h(0,3))}},qh:{"^":"a:0;",
$1:function(a){return J.f(a.gaz(),"\n\n")}},c_:{"^":"oh;dG:a<,m:b>,c,b5:d<,N:e<,F:f<",
gu:function(a){return H.ao(this)},
geY:function(){return!0},
gbR:function(){return!0},
p:{
hp:function(a,b,c,d,e){var z=H.r([],[P.h])
return new Y.c_(!0,b,z,e==null?$.$get$bv():e,!1,d)}}},oh:{"^":"c+el;"},el:{"^":"c;",
gbs:function(){if(this.gbR()){this.geY()
var z=!0}else z=!1
return z},
bi:function(a,b,c,d,e,f,g,h,i){a.U(0,b,c,d,e,f,g,h,H.b4(this,"$isc_"),!1)},
aw:function(a,b){return this.bi(a,b,!1,!1,!1,null,null,!1,!1)},
b1:function(a,b,c,d){return this.bi(a,b,!1,!1,!1,c,null,d,!1)},
c7:function(a,b,c){return this.bi(a,b,!1,!1,!1,c,null,!1,!1)},
dK:function(a,b,c){return this.bi(a,b,!1,!1,!1,null,null,c,!1)},
dL:function(a,b,c,d){return this.bi(a,b,c,!1,!1,d,null,!1,!1)},
bv:function(a,b,c){return this.bi(a,b,!1,!1,c,null,null,!1,!1)},
fi:function(a,b,c,d){return this.bi(a,b,!1,c,d,null,null,!1,!1)},
fi:function(a,b,c,d){return this.bi(a,b,!1,c,d,null,null,!1,!1)},
ig:function(a,b,c,d){return this.bi(a,b,!1,!1,c,d,null,!1,!1)},
lS:function(a,b,c,d){return this.bi(a,b,c,!1,!1,null,null,d,!1)}},cB:{"^":"c;a,b,c,d",
j:function(a){return this.a}}}],["","",,L,{"^":"",v7:{"^":"a:0;",
$1:function(a){a.gcJ().b=2
return 2}},v6:{"^":"a:0;",
$1:function(a){a.gcJ().b=0
return 0}},v9:{"^":"a:0;",
$1:function(a){a.gcJ().b=1
return 1}},iG:{"^":"c;"},rq:{"^":"iG;u:a>",
aG:function(a){var z=new L.iH(null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.iG))return!1
z=this.a
y=b.a
return z==null?y==null:z===y},
gq:function(a){return Y.aW(Y.z(0,J.x(this.a)))},
j:function(a){return"Team {id="+J.v(this.a)+",\n}"},
p:{
f1:function(a){var z=new L.iH(null,null)
a.$1(z)
return z.C()}}},iH:{"^":"c;a,b",
gu:function(a){return this.gcJ().b},
gcJ:function(){var z=this.a
if(z!=null){this.b=z.a
this.a=null}return this},
C:function(){var z,y
z=this.a
if(z==null){y=this.gcJ().b
z=new L.rq(y)
if(y==null)H.j(P.G("id"))}this.a=z
return z}}}],["","",,X,{"^":"",
jx:function(a,b){return new P.bs(function(){var z=a,y=b
var x=0,w=1,v,u,t,s,r,q
return function $async$jx(c,d){if(c===1){v=d
x=w}while(true)switch(x){case 0:u=z.a
t=new J.bj(u,u.length,0,null,[H.p(u,0)])
u=y.a
s=new J.bj(u,u.length,0,null,[H.p(u,0)])
case 2:r=t.n()
q=s.n()
x=r?5:6
break
case 5:x=7
return t.d
case 7:case 6:x=q?8:9
break
case 8:x=10
return s.d
case 10:case 9:case 3:if(r||q){x=2
break}case 4:return P.bp()
case 1:return P.bq(v)}}})}}],["","",,A,{"^":"",bf:{"^":"c;ki:a<,b,c,d,e,R:f<",
gkN:function(){var z=this.e
return z.length!==0?C.a.gA(z):null},
gq:function(a){var z,y,x,w
z=X.ar(this.a)
y=X.ar(this.c)
x=X.ar(this.e)
w=this.f
return X.cc(X.aL(X.aL(X.aL(X.aL(0,z&0x1FFFFFFF),y&0x1FFFFFFF),x&0x1FFFFFFF),J.x(w)))},
v:function(a,b){var z
if(b==null)return!1
z=J.n(b)
return!!z.$isbf&&this.gq(this)===z.gq(b)},
hP:function(a){var z,y,x
z=this.eo(a)
if(z==null)throw H.d(new P.A("Tried to elapseSituationTime of situation id="+H.b(a)+" that doesn't exist in situations ("+H.b(this.e)+")."))
y=this.e
if(z!==(z|0)||z>=y.length)return H.e(y,z)
x=y[z].bq()
if(z!==(z|0)||z>=y.length)return H.e(y,z)
y[z]=x},
bq:function(){var z=this.f
if(typeof z!=="number")return z.H()
this.f=z+1},
iv:function(a,b,c,d,e){var z=this.c
if(a!=null)z=z.fK(0,new A.r8(a))
if(b!=null)z=z.by(0,new A.r9(b))
if(c!=null)z=z.by(0,new A.ra(c))
if(e!=null)z=z.by(0,new A.rb(e))
return d!=null?z.by(0,new A.rc(d)):z},
fo:function(a,b,c,d,e){var z,y,x,w
z=this.iv(a,b,c,d,e)
y=z.gK(z)
if(y.n()){x=y.gw()
y=this.f
w=x.gR()
if(typeof y!=="number")return y.S()
if(typeof w!=="number")return H.m(w)
return y-w}return},
lZ:function(a,b,c){return this.fo(null,a,b,c,null)},
dO:function(a,b,c){return this.fo(a,null,b,null,c)},
lY:function(a,b,c){return this.fo(a,b,null,null,c)},
aj:function(a){return this.a.bD(0,new A.rd(a))},
fB:function(a){return this.d.bD(0,new A.re(a))},
iw:function(a){var z,y
z=this.eo(a)
if(z==null)return
y=this.e
if(z!==(z|0)||z>=y.length)return H.e(y,z)
return y[z]},
d3:function(a){var z,y
for(z=this.e,y=z.length-1;y>=0;--y){if(y>=z.length)return H.e(z,y)
if(J.f(J.B(z[y]),a)){if(y>=z.length)return H.e(z,y)
return z[y]}}throw H.d(P.O("No situation with name="+a+" found."))},
hY:function(a){var z=this.a.br(0,new A.rf(a),new A.rg())
if(z==null)return!1
return z.gbR()},
co:function(a){var z=this.e
while(!0){if(!(z.length!==0&&!J.f(J.B(C.a.gA(z)),a)))break
C.a.cp(z)}if(z.length===0)throw H.d(P.O("Tried to pop situations until "+a+" but none was found in stack."))},
j:function(a){var z,y
z=this.a
y=z.hh()
y.L(0,z)
return"World<"+P.bC(y,"{","}")+">"},
ax:function(a,b){var z,y,x
z=this.aj(a)
y=z.aG(b)
x=this.a
x.D(0,z)
x.l(0,y)},
eo:function(a){var z,y,x
y=this.e
x=0
while(!0){if(!(x<y.length)){z=null
break}if(J.f(J.F(y[x]),a)){z=x
break}++x}return z},
ja:function(a){var z
this.a.L(0,a.a)
z=a.c
this.c.L(0,new H.am(z,new A.r7(),[H.p(z,0),null]))
this.b.L(0,a.b)
this.d.L(0,a.d)
C.a.L(this.e,a.e)
this.f=a.f},
p:{
j0:function(a){var z,y
z=P.P(null,null,null,R.a_)
y=P.aS(null,O.cm)
y=new A.bf(z,P.P(null,null,null,U.de),y,P.P(null,null,null,null),[],null)
y.ja(a)
return y}}},r7:{"^":"a:0;",
$1:function(a){var z,y,x,w,v,u,t,s,r,q,p,o
z=a.gR()
y=a.ghB()
x=a.geJ()
w=a.gaY()
v=a.gdI()
u=P.t
t=P.aH(a.ge5(),u)
s=P.aH(a.glu(),u)
r=a.y
q=a.z
p=a.Q
o=R.kB(a.ch,P.R)
return new O.cm(w,y,x,z,v,P.P(null,null,null,u),t,s,r,q,p,o)}},r8:{"^":"a:0;a",
$1:function(a){return J.bQ(a.geJ(),this.a)}},r9:{"^":"a:0;a",
$1:function(a){return J.f(a.gdI(),J.F(this.a))}},ra:{"^":"a:0;a",
$1:function(a){var z=this.a
return a.ge5().G(0,z.gu(z))}},rb:{"^":"a:0;a",
$1:function(a){return a.gir()===this.a}},rc:{"^":"a:0;a",
$1:function(a){return a.giq()===this.a}},rd:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),this.a)}},re:{"^":"a:0;a",
$1:function(a){return J.f(J.B(a),this.a)}},rf:{"^":"a:0;a",
$1:function(a){return J.f(J.F(a),this.a)}},rg:{"^":"a:1;",
$0:function(){return}}}],["","",,R,{"^":"",
yQ:[function(){return D.cV()},"$0","uA",0,0,10]}],["","",,D,{"^":"",
cV:function(){var z=0,y=new P.as(),x=1,w
var $async$cV=P.ap(function(a,b){if(a===1){w=b
z=x}while(true)switch(z){case 0:z=2
return P.w(C.P.ghF(window),$async$cV,y)
case 2:z=3
return P.w(P.c0(C.a7,null,null),$async$cV,y)
case 3:return P.w(null,0,y)
case 1:return P.w(w,1,y)}})
return P.w(null,$async$cV,y)}}],["","",,N,{"^":"",lo:{"^":"af;a6:c<,Y:d<,b,a",
gav:function(){return"confuse <object>"},
gaH:function(){return"will <subject> confuse <object>?"},
ac:[function(a,b,c){var z
a.aw(c,"<subject> touch<es> <subject's> temple")
z=this.b
a.toString
c.U(0,"<subject> tr<ies> to {channel|implant} {terror|confusion} into <object's> mind",!1,!1,!1,z,null,!1,a,!1)
c.U(0,"<subject> fail<s>",!0,!1,!0,null,null,!1,a,!1)
return H.b(a.gm(a))+" fails to confuse "+H.b(J.B(z))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z
a.aw(c,"<subject> touch<es> <subject's> temple")
z=this.b
a.toString
c.U(0,"<subject> {channel<s>|implant<s>} {terror|confusion} into <object's> mind",!1,!1,!1,z,null,!0,a,!1)
z.bv(c,"<subject's> eyes go wide with terror",!0)
return H.b(a.gm(a))+" confuses "+H.b(z.gm(z))},"$3","gaa",6,0,0],
a4:function(a,b){return 0.7},
Z:function(a,b){return a.gN()&&!this.b.f_(b)},
p:{
wp:[function(a){return new N.lo(!0,"Channeling the terror of the Dead Prince into lesser minds is something you've been practicing. It makes the target rabid and disoriented. They might attack their own.",a,null)},"$1","vc",2,0,1]}}}],["","",,Y,{"^":"",nK:{"^":"af;a6:c<,Y:d<,b,a",
gav:function(){return"kick <object>"},
gaH:function(){return"will <subject> undercut <objectPronoun's> feet?"},
ac:[function(a,b,c){var z=this.b
a.c7(c,"<subject> kick<s> <object>",z)
if(z.gI()===C.c){if(a.gN())z.ig(c,"<subject> lose<s> <object>",!0,$.$get$fr())
b.ax(z.gu(z),new Y.nL())}if(b.aj(z.gu(z)).gI()===C.h)C.a.l(b.e,U.oi(z,a))
return H.b(a.gm(a))+" kicks "+H.b(z.gm(z))+" off balance"},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
z=b.d3("FightSituation").gc8()
y=this.b
if(y.gI()===C.c||y.gI()===C.h){S.c6(new Y.nM(this,a,c,z),new Y.nN(this,a,c,z),null,null)
b.ax(y.gu(y),new Y.nO())}else a.c7(c,"<subject> kick<s> <object> on the ground",y)
return H.b(J.B(a))+" kicks "+H.b(y.gm(y))+" to ground"},"$3","gaa",6,0,0],
a4:function(a,b){var z=a.gI()===C.c?0:0.2
if(a.gN())return 0.7-z
return 0.5-z},
Z:function(a,b){return a.gI()===C.c},
p:{
xh:[function(a){return new Y.nK(!0,"Kicking opponents doesn't deal much damage but it can put them off balance or even to the ground. Such opponents are much easier targets for you and your allies.",a,null)},"$1","vG",2,0,1]}},nL:{"^":"a:0;",
$1:function(a){a.sI(C.h)
return a}},nM:{"^":"a:1;a,b,c,d",
$0:function(){var z,y
z=this.c
y=this.a.b
this.b.c7(z,"<subject> kick<s> <object>",y)
if(S.ii(0.5))y.aw(z,"<subject> flail<s> <subject's> arms")
y.bv(z,"<subject> fall<s>{| to the "+H.b(this.d)+"}",!0)}},nN:{"^":"a:1;a,b,c,d",
$0:function(){var z,y
z=this.c
y=this.a.b
this.b.b1(z,"<subject> kick<s> <object> off <object's> feet",y,!0)
if(y.gN())y.bv(z,"<subject> land<s> on the "+H.b(this.d),!0)}},nO:{"^":"a:0;",
$1:function(a){a.sI(C.j)
return a}}}],["","",,F,{"^":"",oC:{"^":"b6;Y:b<,a6:c<,a",
gm:function(a){return"Stand off."},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){if(a.gN())a.aw(c,"<subject> stand<s> off")
return H.b(a.gm(a))+" passes the opportunity"},"$3","gaa",6,0,0],
bC:function(a,b){return"WARNING this shouldn't be user-visible"},
a4:function(a,b){return 1},
Z:function(a,b){return!0}}}],["","",,B,{"^":"",oZ:{"^":"b6;Y:b<,a6:c<,a",
gm:function(a){return"Regain balance."},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){if(a.gN())a.b1(c,"<subject> regain<s> <object>",$.$get$fr(),!0)
b.ax(a.gu(a),new B.p_())
return H.b(a.gm(a))+" regains balance"},"$3","gaa",6,0,0],
bC:function(a,b){return"Will "+a.gF().a+" regain balance?"},
a4:function(a,b){return 1},
Z:function(a,b){return a.gI()===C.h}},p_:{"^":"a:0;",
$1:function(a){a.sI(C.c)
return C.c}}}],["","",,O,{"^":"",pg:{"^":"b6;Y:b<,a6:c<,a",
gm:function(a){return"Scramble."},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){a.aw(c,"<subject> tr<ies> to {scramble|crawl} out of {reach|harm's way}")
return H.b(a.gm(a))+" scrambles on ground"},"$3","gaa",6,0,0],
bC:function(a,b){return"Will "+a.gF().a+" crawl out of harm's way?"},
a4:function(a,b){return 1},
Z:function(a,b){var z
if(a.gI()!==C.j)return!1
z=b.dO("Kick",a,!0)
if(z!=null&&z<=1)return!0
return!1}}}],["","",,Q,{"^":"",pW:{"^":"b6;Y:b<,a6:c<,a",
gm:function(a){return"Stand up."},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){a.aw(c,"<subject> stand<s> up")
b.ax(a.gu(a),new Q.pX())
return H.b(a.gm(a))+" stands up"},"$3","gaa",6,0,0],
bC:function(a,b){return"Will "+a.gF().a+" stand up?"},
a4:function(a,b){return 1},
Z:function(a,b){var z
if(a.gI()!==C.j)return!1
z=b.dO("Kick",a,!0)
if(z!=null&&z<=1)return!1
return!0}},pX:{"^":"a:0;",
$1:function(a){a.sI(C.c)
return C.c}}}],["","",,G,{"^":"",pY:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"swing at <object>"},
gaH:function(){return"will <subject> swing with extra force?"},
ac:[function(a,b,c){var z,y
z=this.b
a.c7(c,"<subject> swing<s> {<subject's> "+a.ga1().f+" |}at <object>",z)
y=b.e
C.a.l(y,M.dy(a,z,!1))
C.a.l(y,L.dx(a,z,!1))
return H.b(a.ch)+" starts a slash at "+H.b(J.B(z))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
S.c6(new G.q0(this,a,c),new G.q1(this,a,c),null,null)
z=this.b
y=b.e
C.a.l(y,M.dy(a,z,!0))
C.a.l(y,L.dx(a,z,!0))
return H.b(J.B(a))+" starts a slash at "+H.b(J.B(z))+" with extra force"},"$3","gaa",6,0,0],
a4:function(a,b){return a.gN()?0.9:0.3},
Z:function(a,b){return a.gI()===C.c&&this.b.gI()!==C.j&&a.bk(C.i)},
p:{
y4:[function(a){return new G.pY("The basic swordfighting move is also often the most effective.",!0,a,null)},"$1","w3",2,0,1]}},q0:{"^":"a:1;a,b,c",
$0:function(){return this.b.b1(this.c,"<subject> swing<s> powerfuly at <object>",this.a.b,!0)}},q1:{"^":"a:1;a,b,c",
$0:function(){var z=this.b
return z.b1(this.c,"<subject> swing<s> {<subject's> "+z.ga1().f+" |}at <object> with great force",this.a.b,!0)}}}],["","",,R,{"^":"",q_:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"swing at <object> (while out of balance)"},
gaH:function(){return"will <subject> hit <objectPronoun>?"},
ac:[function(a,b,c){var z=this.b
a.ig(c,"<subject> completely miss<es> <object> with <subject's> "+a.ga1().f,!0,z)
return H.b(a.ch)+" fails to start an out-of-balance slash at "+H.b(J.B(z))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
z=this.b
a.c7(c,"<subject> swing<s> {<subject's> "+a.ga1().f+" |}at <object>",z)
y=b.e
C.a.l(y,M.dy(a,z,!1))
C.a.l(y,L.dx(a,z,!1))
return H.b(a.ch)+" starts an out-of-balance slash at "+H.b(J.B(z))},"$3","gaa",6,0,0],
a4:function(a,b){return 0.7},
Z:function(a,b){return a.gI()===C.h&&this.b.gI()!==C.j&&a.bk(C.i)},
p:{
y3:[function(a){return new R.q_("It's always better to fight with your feet firmly on the ground. But sometimes, it's necessary to act quickly.",!0,a,null)},"$1","w4",2,0,1]}}}],["","",,D,{"^":"",pZ:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"strike down at <object>"},
gaH:function(){return"will <subject> strike with extra force?"},
ac:[function(a,b,c){var z,y
z=this.b
a.c7(c,"<subject> strike<s> down {with <subject's> "+a.ga1().f+" |}at <object>",z)
y=b.e
C.a.l(y,D.iC(a,z))
C.a.l(y,V.i8(a,z,!1))
return H.b(a.ch)+" strikes down at "+H.b(J.B(z))+" on the ground"},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
z=this.b
a.b1(c,"<subject> strike<s> down {with <subject's> "+a.ga1().f+" |}at <object> with all <subject's> {might|power}",z,!0)
y=b.e
C.a.l(y,D.iC(a,z))
C.a.l(y,V.i8(a,z,!0))
return H.b(a.ch)+" strikes down at "+H.b(J.B(z))+" on the ground"},"$3","gaa",6,0,0],
a4:function(a,b){return 0.95},
Z:function(a,b){return this.b.gI()===C.j&&a.gI()!==C.j&&a.bk(C.i)},
p:{
y2:[function(a){return new D.pZ("Opponents on the ground are often the most vulnerable.",!0,a,null)},"$1","w5",2,0,1]}}}],["","",,M,{"^":"",r1:{"^":"b6;Y:b<,a6:c<,a",
gm:function(a){return"Regain clarity."},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){a.aw(c,"<subject> shake<s> <subject's> head violently")
if(a.gN())c.l(0,"the {horrible|terrible} spell seems to recede")
c.U(0,"<subject's> eyes regain focus and clarity",!1,!0,!1,null,null,!0,a,!1)
return H.b(a.gm(a))+" regains clarity"},"$3","gaa",6,0,0],
bC:function(a,b){return"WARNING this shouldn't be user-visible"},
a4:function(a,b){return 1},
Z:function(a,b){var z
if(a.f_(b)){z=b.dO("Confuse",a,!0)
if(typeof z!=="number")return z.ao()
z=z>4}else z=!1
return z}}}],["","",,G,{"^":"",ls:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"swing back at <object>"},
gaH:function(){return},
ac:[function(a,b,c){a.aw(c,"<subject> tr<ies> to swing back")
a.toString
c.U(0,"<subject> {go<es> wide|miss<es>}",!0,!1,!0,null,null,!1,a,!1)
if(a.gI()===C.c){b.ax(a.r,new G.lt())
c.U(0,"<subject> lose<s> balance because of that",!1,!0,!0,null,null,!1,a,!1)}else if(a.cy===C.h){b.ax(a.r,new G.lu())
c.U(0,"<subject> lose<s> balance because of that",!1,!1,!0,null,null,!1,a,!1)
c.U(0,"<subject> fall<s> to the ground",!1,!0,!0,null,null,!1,a,!1)}return H.b(a.ch)+" fails to swing back at "+H.b(J.B(this.b))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
z=this.b
a.b1(c,"<subject> swing<s> back at <object>",z,!0)
y=b.e
C.a.l(y,M.dy(a,z,!1))
C.a.l(y,L.dx(a,z,!1))
return H.b(a.gm(a))+" swings back at "+H.b(J.B(z))},"$3","gaa",6,0,0],
bC:function(a,b){if(a.gI()===C.c)return"Will "+a.gF().a+" keep "+a.gF().c+" balance?"
return"Will "+a.gF().a+" keep on "+a.gF().c+" feet?"},
a4:function(a,b){return this.b.gI()===C.c?0.7:0.9},
Z:function(a,b){return a.bk(C.i)&&a.cy!==C.j},
p:{
wq:[function(a){return new G.ls("You can deal serious damage when countering because your opponent is often caught off guard. On the other hand, counters require fast reaction and could throw you out of balance.",!0,a,null)},"$1","vf",2,0,1]}},lt:{"^":"a:0;",
$1:function(a){a.sI(C.h)
return a}},lu:{"^":"a:0;",
$1:function(a){a.sI(C.j)
return a}}}],["","",,S,{"^":"",
ha:function(a,b){var z=new S.ei(null,null,null,null,null)
new S.uR(a,b).$1(z)
return z.C()},
h9:{"^":"bc;",
gbn:function(){return[G.vf()]},
gci:function(){return[$.$get$eG()]},
gm:function(a){return"CounterAttackSituation"},
bq:function(){var z=new S.ei(null,null,null,null,null)
z.a=this
new S.lq().$1(z)
return z.C()},
bl:function(a,b){if(a===0)return b.aj(this.a)
return},
bB:function(a,b){return new H.a3(a,new S.lr(this),[H.p(a,0)])}},
uR:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaQ().c=z
a.gaQ().e=0
z=this.a
z=z.gu(z)
a.gaQ().b=z
z=J.F(this.b)
a.gaQ().d=z
return a}},
lq:{"^":"a:0;",
$1:function(a){var z=a.gaQ().e
if(typeof z!=="number")return z.H()
a.gaQ().e=z+1
return a}},
lr:{"^":"a:0;a",
$1:function(a){var z,y
z=J.l(a)
y=this.a
return J.f(z.gu(a),y.a)||J.f(z.gu(a),y.c)}},
ri:{"^":"h9;a,u:b>,c,R:d<",
aG:function(a){var z=new S.ei(null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof S.h9))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
j:function(a){return"CounterAttackSituation {counterAttacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntarget="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
ei:{"^":"c;a,b,c,d,e",
gu:function(a){return this.gaQ().c},
gR:function(){return this.gaQ().e},
gaQ:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
C:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaQ().b
x=this.gaQ().c
w=this.gaQ().d
v=this.gaQ().e
z=new S.ri(y,x,w,v)
if(y==null)H.j(P.G("counterAttacker"))
if(x==null)H.j(P.G("id"))
if(w==null)H.j(P.G("target"))
if(v==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,X,{"^":"",
fF:function(a,b,c){switch($.$get$jo().ae(3)){case 0:b.fi(a,"<subject> collapse<s>, dead",!0,!0)
break
case 1:b.bv(a,"<subject> fall<s> backward",!0)
b.toString
a.U(0,"<subject> twist<s>",!1,!1,!0,null,null,!1,b,!1)
a.U(0,"<subject> hit<s> the "+H.b(c)+" face down",!1,!0,!0,null,null,!1,b,!1)
break
case 2:b.bv(a,"<subject> drop<s> to <subject's> knees",!0)
b.toString
a.U(0,"<subject> keel<s> over",!1,!1,!0,null,null,!1,b,!1)
break}a.bb(0,"\n\n",!0)}}],["","",,U,{"^":"",
me:function(a,b,c){var z=new U.en(null,null,null,null,null,null,null)
new U.vb(a,b,c).$1(z)
return z.C()},
hu:{"^":"bc;",
gbn:function(){return[N.vc(),Y.vG(),G.w3(),D.w5(),R.w4()]},
gci:function(){return H.r([$.$get$il(),$.$get$iw(),$.$get$iq(),$.$get$iZ()],[Q.b6])},
gm:function(a){return"FightSituation"},
bq:function(){var z=new U.en(null,null,null,null,null,null,null)
z.a=this
new U.mf().$1(z)
return z.C()},
bl:function(a,b){var z,y,x,w,v,u,t,s,r,q,p,o,n
z=X.jx(this.e,this.a)
y=H.bm(z,new U.mg(b),H.E(z,"L",0),null)
x=H.E(y,"L",0)
w=P.ac(new H.a3(y,new U.mh(),[x]),!1,x)
x=H.p(w,0)
v=P.ac(new H.a3(w,new U.mi(),[x]),!1,x)
u=v.length===1?C.a.gak(v):null
if(a===0)if(u!=null)return u
for(y=w.length,t=0,s=null,r=0;r<w.length;w.length===y||(0,H.a9)(w),++r){q=w[r]
p=b.c.br(0,new U.mj(q),new U.mk())
o=p==null?p:p.gR()
if(o==null)o=-1
x=b.f
if(typeof x!=="number")return x.S()
if(typeof o!=="number")return H.m(o)
n=x-o
if(q.gN())n=C.d.aI(n*1.5)
if(n>t){s=q
t=n}}return s},
bB:function(a,b){return new H.a3(a,new U.ml(this),[H.p(a,0)])},
i7:function(a,b){var z,y
if(S.ii(0.25))b.bb(0,"\n\n",!0)
z=this.f
y=this.b.a
if(y.M(0,z))y.h(0,z).$2(a,b)},
e2:function(a){var z,y
z=new U.mm(a)
y=this.e
if(z.$1(y)===!0)if(z.$1(this.a)===!0){z=y.a
z=(z&&C.a).aL(z,new U.mo(a))}else z=!1
else z=!1
return z}},
vb:{"^":"a:0;a,b,c",
$1:function(a){var z,y
z=$.$get$bg().ae(1073741823)
a.gap().e=z
a.gap().r=0
z=a.gap()
y=z.f
if(y==null){y=new S.b0(null,null,[P.t])
y.aP()
y.ar(0,C.m)
z.f=y
z=y}else z=y
y=this.a
z.ar(0,new H.cy(y,new U.ud(),[H.p(y,0),null]))
y=a.gap()
z=y.b
if(z==null){z=new S.b0(null,null,[P.t])
z.aP()
z.ar(0,C.m)
y.b=z}z.ar(0,J.fT(this.b,new U.ue()))
a.gap().d=this.c
return a}},
ud:{"^":"a:0;",
$1:function(a){return J.F(a)}},
ue:{"^":"a:0;",
$1:function(a){return J.F(a)}},
mf:{"^":"a:0;",
$1:function(a){var z=a.gap().r
if(typeof z!=="number")return z.H()
a.gap().r=z+1
return a}},
mg:{"^":"a:0;a",
$1:function(a){return this.a.aj(a)}},
mh:{"^":"a:0;",
$1:function(a){return a.gbs()}},
mi:{"^":"a:0;",
$1:function(a){return a.gN()}},
mj:{"^":"a:0;a",
$1:function(a){return J.f(a.gdI(),J.F(this.a))}},
mk:{"^":"a:1;",
$0:function(){return}},
ml:{"^":"a:6;a",
$1:function(a){var z,y,x
if(a.gbs()){z=this.a
y=a.gu(a)
x=z.e.a
if(!(x&&C.a).G(x,y)){y=a.gu(a)
z=z.a.a
y=(z&&C.a).G(z,y)
z=y}else z=!0}else z=!1
return z}},
mm:{"^":"a:48;a",
$1:function(a){var z=a.a
return(z&&C.a).aL(z,new U.mn(this.a))}},
mn:{"^":"a:0;a",
$1:function(a){return this.a.aj(a).gbs()}},
mo:{"^":"a:49;a",
$1:function(a){var z=this.a.aj(a)
return z.gN()&&z.gbs()}},
rj:{"^":"hu;a,b,c8:c<,u:d>,e,R:f<",
aG:function(a){var z=new U.en(null,null,null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.hu))return!1
if(J.f(this.a,b.a))if(J.f(this.b,b.b)){z=this.c
y=b.c
if(z==null?y==null:z===y){z=this.d
y=b.d
if(z==null?y==null:z===y)if(J.f(this.e,b.e)){z=this.f
y=b.f
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)),J.x(this.f)))},
j:function(a){return"FightSituation {enemyTeamIds="+J.v(this.a)+",\nevents="+J.v(this.b)+",\ngroundMaterial="+J.v(this.c)+",\nid="+J.v(this.d)+",\nplayerTeamIds="+J.v(this.e)+",\ntime="+J.v(this.f)+",\n}"}},
en:{"^":"c;a,b,c,d,e,f,r",
gc8:function(){return this.gap().d},
gu:function(a){return this.gap().e},
gR:function(){return this.gap().r},
gap:function(){var z,y
z=this.a
if(z!=null){z=z.a
if(!(z==null)){y=new S.b0(null,null,[H.p(z,0)])
y.aP()
y.ar(0,z)
z=y}this.b=z
z=this.a.b
if(!(z==null)){y=new A.eB(null,null,[H.p(z,0),H.p(z,1)])
y.cF()
y.ar(0,z)
z=y}this.c=z
z=this.a
this.d=z.c
this.e=z.d
z=z.e
if(!(z==null)){y=new S.b0(null,null,[H.p(z,0)])
y.aP()
y.ar(0,z)
z=y}this.f=z
this.r=this.a.f
this.a=null}return this},
C:function(){var z,y,x,w,v,u,t
z=this.a
if(z==null){y=this.gap()
x=y.b
if(x==null){x=new S.b0(null,null,[P.t])
x.aP()
x.ar(0,C.m)
y.b=x
y=x}else y=x
y=y==null?y:y.C()
x=this.gap()
w=x.c
if(w==null){w=new A.eB(null,null,[P.t,{func:1,v:true,args:[A.bf,Y.bd]}])
w.cF()
w.ar(0,C.aQ)
x.c=w
x=w}else x=w
x=x==null?x:x.C()
w=this.gap().d
v=this.gap().e
u=this.gap()
t=u.f
if(t==null){t=new S.b0(null,null,[P.t])
t.aP()
t.ar(0,C.m)
u.f=t
u=t}else u=t
u=u==null?u:u.C()
t=this.gap().r
z=new U.rj(y,x,w,v,u,t)
if(y==null)H.j(P.G("enemyTeamIds"))
if(x==null)H.j(P.G("events"))
if(w==null)H.j(P.G("groundMaterial"))
if(v==null)H.j(P.G("id"))
if(u==null)H.j(P.G("playerTeamIds"))
if(t==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,A,{"^":"",i7:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"stab <object>"},
gaH:function(){return"will <subject> hit <objectPronoun>?"},
ac:[function(a,b,c){var z=this.b
a.c7(c,"<subject> tr<ies> to stab <object>",z)
a.toString
c.U(0,"<subject> {go<es> wide|fail<s>|miss<es>}",!0,!1,!1,null,null,!1,a,!1)
return H.b(a.gm(a))+" fails to stab "+H.b(J.B(z))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
z=this.b
y=J.l(z)
b.ax(y.gu(z),new A.om())
if(b.aj(y.gu(z)).gbR()){a.b1(c,"<subject> thrust<s> {|<subject's> "+a.ga1().f+"} deep into <object's> {shoulder|hip|thigh}",z,!0)
z.bv(c,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.b1(c,"<subject> {stab<s>|run<s> <subject's> "+a.ga1().f+" through} <object>",z,!0)
X.fF(c,z,b.d3("FightSituation").gc8())}return H.b(J.B(a))+" stabs "+H.b(y.gm(z))},"$3","gaa",6,0,0],
a4:function(a,b){if(a.gN())return 0.6
return 0.5},
Z:function(a,b){return a.gI()===C.c&&this.b.gI()===C.h&&a.bk(C.i)},
p:{
xI:[function(a){return new A.i7("When an opponent is out of balance they are the most vulnerable.",!0,a,null)},"$1","vR",2,0,1]}},om:{"^":"a:0;",
$1:function(a){a.saE(a.gaE()-1)
return a}}}],["","",,U,{"^":"",
oi:function(a,b){var z=new U.eD(null,null,null,null,null)
new U.uV(a,b).$1(z)
return z.C()},
i6:{"^":"bc;",
gbn:function(){return H.r([A.vR()],[{func:1,ret:Q.af,args:[R.a_]}])},
gci:function(){return[$.$get$eG()]},
gm:function(a){return"OffBalanceOpportunitySituation"},
bq:function(){var z=new U.eD(null,null,null,null,null)
z.a=this
new U.oj().$1(z)
return z.C()},
bl:function(a,b){var z,y,x,w,v
if(typeof a!=="number")return a.ao()
if(a>0)return
z=b.aj(this.a)
y=b.a
x=H.p(y,0)
w=P.ac(new H.a3(y,new U.ok(this,b,z),[x]),!0,x)
if(w.length===0)return
v=C.a.gO(w)
if(new A.i7("When an opponent is out of balance they are the most vulnerable.",!0,z,null).Z(v,b))return v
return},
bB:function(a,b){return new H.a3(a,new U.ol(b,b.aj(this.a)),[H.p(a,0)])}},
uV:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaS().d=z
a.gaS().e=0
z=J.F(this.a)
a.gaS().b=z
z=this.b
z=z==null?z:z.gu(z)
a.gaS().c=z
return a}},
oj:{"^":"a:0;",
$1:function(a){var z=a.gaS().e
if(typeof z!=="number")return z.H()
a.gaS().e=z+1
return a}},
ok:{"^":"a:6;a,b,c",
$1:function(a){var z,y
if(a.gbs())if(a.eV(this.c,this.b)){z=a.r
y=this.a.b
y=z==null?y!=null:z!==y
z=y}else z=!1
else z=!1
return z}},
ol:{"^":"a:0;a,b",
$1:function(a){var z=this.b
return J.f(a,z)||a.eV(z,this.a)}},
rk:{"^":"i6;a,b,u:c>,R:d<",
aG:function(a){var z=new U.eD(null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof U.i6))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1}else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
j:function(a){return"OffBalanceOpportunitySituation {actorId="+H.b(J.v(this.a))+",\nculpritId="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntime="+J.v(this.d)+",\n}"}},
eD:{"^":"c;a,b,c,d,e",
gu:function(a){return this.gaS().d},
gR:function(){return this.gaS().e},
gaS:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
C:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaS().b
x=this.gaS().c
w=this.gaS().d
v=this.gaS().e
z=new U.rk(y,x,w,v)
if(y==null)H.j(P.G("actorId"))
if(w==null)H.j(P.G("id"))
if(v==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,O,{"^":"",ms:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"kill <object> (WARNING should not be user-visible)"},
gaH:function(){return"(WARNING should not be user-visible)"},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y,x,w,v
z=b.e
z=H.b4(z.length!==0?C.a.gA(z):null,"$iseO").b===!0
y=z?2:1
x=this.b
w=J.l(x)
b.ax(w.gu(x),new O.mv(y))
v=b.aj(w.gu(x)).gbR()
if(v){a.b1(c,"<subject> {slash<es>|cut<s>} <object's> {shoulder|abdomen|thigh}"+(z?" with all <subjectPronoun's> {power|might}":""),x,!0)
x.bv(c,"<subject> {scream|yell|grunt}<s> in pain",!0)}else{a.b1(c,"<subject> {slash<es>|cut<s>} {across|through} <object's> {neck|abdomen|lower body}"+(z?" with all <subjectPronoun's> {power|might}":""),x,!0)
X.fF(c,x,b.d3("FightSituation").gc8())}z=H.b(J.B(a))+" slashes"
return z+(!v?" (and kills)":"")+" "+H.b(w.gm(x))},"$3","gaa",6,0,0],
a4:function(a,b){return 1},
Z:function(a,b){return a.bk(C.i)},
p:{
wY:[function(a){return new O.ms(null,!0,a,null)},"$1","vi",2,0,1]}},mv:{"^":"a:0;a",
$1:function(a){a.saE(a.gaE()-this.a)
return a}}}],["","",,X,{"^":"",lE:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"step back and parry"},
gaH:function(){return"will <subject> parry it?"},
ac:[function(a,b,c){var z,y
z=b.e
y=H.b4(z.length!==0?C.a.gA(z):null,"$iscH").b
a.aw(c,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.ga1().f+"|fend it off}")
if(a.cy===C.h)c.U(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a,!1)
else if(y===!0)c.U(0,"the swing is too {fast|quick}",!0,!1,!1,null,null,!1,a,!1)
else S.c6(new X.lF(a,c),new X.lG(this,a,c),null,null)
C.a.cp(z)
return H.b(a.ch)+" fails to parry "+H.b(J.B(this.b))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y,x
if(a.gN())a.aw(c,"<subject> {step<s>|take<s> a step} back")
a.dK(c,"<subject> {parr<ies> it|deflect<s> it|meet<s> it with <subject's> "+a.ga1().f+"|fend<s> it off}",!0)
z=b.e
z=H.b4(z.length!==0?C.a.gA(z):null,"$iscH").b===!0
if(z){y=a.z
x=a.d
if(y)c.U(0,"<subject> feel<s> the power of the swing through <subject's> "+x.f,!1,!1,!1,null,null,!1,a,!1)
else c.U(0,"<subject> almost drop<s> <subject's> "+x.f+" in the process",!0,!1,!1,null,null,!1,a,!1)}if(a.cy!==C.c&&!z){b.ax(a.r,new X.lH())
if(a.z)c.U(0,"<subject> regain<s> balance",!1,!1,!1,null,null,!1,a,!1)}b.co("FightSituation")
return H.b(a.ch)+" steps back and parries "+H.b(J.B(this.b))},"$3","gaa",6,0,0],
a4:function(a,b){if(a.gN())return 1
return 0.5-(a.gI()===C.c?0:0.2)},
Z:function(a,b){return a.bk(C.i)},
p:{
ws:[function(a){return new X.lE("Stepping back is the safest way to get out of harm's way.",!1,a,null)},"$1","vg",2,0,1]}},lF:{"^":"a:1;a,b",
$0:function(){this.b.U(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a,!1)
return}},lG:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dL(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},lH:{"^":"a:0;",
$1:function(a){a.sI(C.c)
return a}}}],["","",,F,{"^":"",lP:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"dodge and counter"},
gaH:function(){return"will <subject> dodge?"},
ac:[function(a,b,c){a.aw(c,"<subject> tr<ies> to {dodge|sidestep}")
if(a.gI()===C.h)c.U(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a,!1)
else S.c6(new F.lQ(a,c),new F.lR(this,a,c),null,null)
C.a.cp(b.e)
return H.b(a.ch)+" fails to dodge "+H.b(J.B(this.b))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z=this.b
a.b1(c,"<subject> {dodge<s>|sidestep<s>} it",z,!0)
if(z.gI()===C.c){z.fi(c,"<subject> lose<s> balance because of that",!0,!0)
b.ax(z.r,new F.lS())}b.co("FightSituation")
if(a.gN())c.l(0,"this opens an opportunity for a counter attack")
C.a.l(b.e,S.ha(a,z))
return H.b(a.gm(a))+" dodges "+H.b(z.gm(z))},"$3","gaa",6,0,0],
a4:function(a,b){var z=a.gI()===C.c?0:0.2
if(a.gN())return 0.7-z
return 0.4-z},
Z:function(a,b){return a.gI()!==C.j},
p:{
wv:[function(a){return new F.lP("Dodging means moving your body out of harm's way. When done correctly, it will throw your opponent off balance and it will open an opportunity for a counter attack. When botched, it can get you killed.",!1,a,null)},"$1","vh",2,0,1]}},lQ:{"^":"a:1;a,b",
$0:function(){this.b.U(0,"<subject> {can't|fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a,!1)
return}},lR:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dL(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},lS:{"^":"a:0;",
$1:function(a){a.sI(C.h)
return C.h}}}],["","",,G,{"^":"",ox:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"parry and counter"},
gaH:function(){return"will <subject> parry?"},
ac:[function(a,b,c){a.aw(c,"<subject> tr<ies> to {parry|deflect it|meet it with <subject's> "+a.ga1().f+"|fend it off}")
if(a.cy===C.h)c.U(0,"<subject> <is> out of balance",!0,!1,!1,null,null,!1,a,!1)
else S.c6(new G.oy(a,c),new G.oz(this,a,c),null,null)
C.a.cp(b.e)
return H.b(a.ch)+" fails to parry "+H.b(J.B(this.b))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y,x,w
z=b.e
if(H.b4(z.length!==0?C.a.gA(z):null,"$iscH").b===!0){y=this.b
a.b1(c,"<subject> put<s> <subjectPronoun's> "+a.ga1().f+" in the way of <object's> "+a.ga1().f,y,!0)
x=a.cy
w=a.r
if(x===C.c){c.eK(0,"the force of the impact makes <object> lose balance",a)
b.ax(w,new G.oA())}else{c.eK(0,"the force of the impact sends <object> falling to the ground",a)
b.ax(w,new G.oB())}}else{y=this.b
if(y.gI()===C.h){c.kp(0,"<subject> <is> out of balance",!0,!0,y)
c.ko(0,"so <ownerPronoun's> <subject> is {weak|feeble}",y,$.$get$jW())
a.dK(c,"<subject> {parr<ies> it easily|easily meet<s> it with <subject's> "+a.ga1().f+"|fend<s> it off easily}",!0)}else a.dK(c,"<subject> {parr<ies> it|meet<s> it with <subject's> "+a.ga1().f+"|fend<s> it off}",!0)}b.co("FightSituation")
if(a.gN())c.l(0,"this opens an opportunity for a counter attack")
C.a.l(z,S.ha(a,y))
return H.b(a.gm(a))+" parries "+H.b(J.B(y))},"$3","gaa",6,0,0],
a4:function(a,b){var z,y
z=a.gI()===C.c?0:0.2
y=this.b.gI()===C.h?0.3:0
if(a.gN())return 0.6-z+y
return 0.3-z+y},
Z:function(a,b){return a.bk(C.i)},
p:{
xO:[function(a){return new G.ox("Parrying means deflecting your opponent's move with your weapon. When successful, it will give you an opportunity for a counter attack. It won't throw your opponent off balance like dodging does, but it's also slightly easier to do.",!1,a,null)},"$1","vT",2,0,1]}},oy:{"^":"a:1;a,b",
$0:function(){this.b.U(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,this.a,!1)
return}},oz:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dL(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},oA:{"^":"a:0;",
$1:function(a){a.sI(C.h)
return a}},oB:{"^":"a:0;",
$1:function(a){a.sI(C.j)
return a}}}],["","",,L,{"^":"",
dx:function(a,b,c){var z=new L.eN(null,null,null,null,null,null)
new L.uQ(a,b,c).$1(z)
return z.C()},
cH:{"^":"bc;",
gbn:function(){return[F.vh(),G.vT(),X.vg()]},
gm:function(a){return"SlashDefenseSituation"},
bq:function(){var z=new L.eN(null,null,null,null,null,null)
z.a=this
new L.pJ().$1(z)
return z.C()},
bl:function(a,b){if(a===0)return b.aj(this.d)
return},
bB:function(a,b){return new H.a3(a,new L.pK(this),[H.p(a,0)])}},
uQ:{"^":"a:0;a,b,c",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaC().d=z
a.gaC().f=0
z=J.F(this.a)
a.gaC().b=z
z=J.F(this.b)
a.gaC().e=z
a.gaC().c=this.c
return a}},
pJ:{"^":"a:0;",
$1:function(a){var z=a.gaC().f
if(typeof z!=="number")return z.H()
a.gaC().f=z+1
return a}},
pK:{"^":"a:0;a",
$1:function(a){var z,y
z=J.l(a)
y=this.a
return J.f(z.gu(a),y.a)||J.f(z.gu(a),y.d)}},
rn:{"^":"cH;a,b,u:c>,d,R:e<",
aG:function(a){var z=new L.eN(null,null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof L.cH))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
j:function(a){return"SlashDefenseSituation {attacker="+H.b(J.v(this.a))+",\nextraForce="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntarget="+H.b(J.v(this.d))+",\ntime="+J.v(this.e)+",\n}"}},
eN:{"^":"c;a,b,c,d,e,f",
gu:function(a){return this.gaC().d},
gR:function(){return this.gaC().f},
gaC:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.f=z.e
this.a=null}return this},
C:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gaC().b
x=this.gaC().c
w=this.gaC().d
v=this.gaC().e
u=this.gaC().f
z=new L.rn(y,x,w,v,u)
if(y==null)H.j(P.G("attacker"))
if(x==null)H.j(P.G("extraForce"))
if(w==null)H.j(P.G("id"))
if(v==null)H.j(P.G("target"))
if(u==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,M,{"^":"",
dy:function(a,b,c){var z=new M.eP(null,null,null,null,null,null)
new M.uS(a,b,c).$1(z)
return z.C()},
eO:{"^":"bc;",
gbn:function(){return[O.vi()]},
gm:function(a){return"SlashSituation"},
bq:function(){var z=new M.eP(null,null,null,null,null,null)
z.a=this
new M.pL().$1(z)
return z.C()},
bl:function(a,b){if(a===0)return b.aj(this.a)
return},
bB:function(a,b){return new H.a3(a,new M.pM(this),[H.p(a,0)])}},
uS:{"^":"a:0;a,b,c",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaD().d=z
a.gaD().f=0
z=J.F(this.a)
a.gaD().b=z
z=J.F(this.b)
a.gaD().e=z
a.gaD().c=this.c
return a}},
pL:{"^":"a:0;",
$1:function(a){var z=a.gaD().f
if(typeof z!=="number")return z.H()
a.gaD().f=z+1
return a}},
pM:{"^":"a:0;a",
$1:function(a){var z,y
z=J.l(a)
y=this.a
return J.f(z.gu(a),y.a)||J.f(z.gu(a),y.d)}},
ro:{"^":"eO;a,b,u:c>,d,R:e<",
aG:function(a){var z=new M.eP(null,null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof M.eO))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
j:function(a){return"SlashSituation {attacker="+H.b(J.v(this.a))+",\nextraForce="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntarget="+H.b(J.v(this.d))+",\ntime="+J.v(this.e)+",\n}"}},
eP:{"^":"c;a,b,c,d,e,f",
gu:function(a){return this.gaD().d},
gR:function(){return this.gaD().f},
gaD:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.f=z.e
this.a=null}return this},
C:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gaD().b
x=this.gaD().c
w=this.gaD().d
v=this.gaD().e
u=this.gaD().f
z=new M.ro(y,x,w,v,u)
if(y==null)H.j(P.G("attacker"))
if(x==null)H.j(P.G("extraForce"))
if(w==null)H.j(P.G("id"))
if(v==null)H.j(P.G("target"))
if(u==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,Q,{"^":"",mt:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"kill <object> (WARNING should not be user-visible)"},
gaH:function(){return"(WARNING should not be user-visible)"},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y
z=this.b
y=J.l(z)
b.ax(y.gu(z),new Q.mu())
c.kn(0,"<subject> {cuts|slashes|slits} <object's> {throat|neck|side}",z,a.ga1())
z.bv(c,"<subject> die<s>",!0)
c.bb(0,"\n\n",!0)
return H.b(a.gm(a))+" slains "+H.b(y.gm(z))+" on the ground"},"$3","gaa",6,0,0],
a4:function(a,b){return 1},
Z:function(a,b){return this.b.gI()===C.j&&a.bk(C.i)},
p:{
wX:[function(a){return new Q.mt(null,!1,a,null)},"$1","vj",2,0,1]}},mu:{"^":"a:0;",
$1:function(a){a.saE(0)
return a}}}],["","",,K,{"^":"",op:{"^":"af;a6:c<,Y:d<,b,a",
gav:function(){return"parry it"},
gaH:function(){return"will <subject> parry it?"},
ac:[function(a,b,c){a.aw(c,"<subject> tr<ies> to {parry|deflect it|stop it{| with <subject's> "+a.ga1().f+"}}")
S.c6(new K.oq(a,c),new K.or(this,a,c),null,null)
return H.b(a.ch)+" fails to parry "+H.b(J.B(this.b))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y,x
z=b.e
if(H.b4(z.length!==0?C.a.gA(z):null,"$iseE").b===!0){a.aw(c,"<subject> put<s> <subject's> "+a.ga1().f+" in the way")
c.kl(0,"the strike is too powerful",!0)
b.ax(a.r,new K.os())
z=this.b
y=J.l(z)
x=!b.aj(y.gu(z)).gbR()
c.kq(0,"<owner's> <subject> still {cuts|slashes} "+(x?"across <object's> {neck|abdomen}":"<object's> {arm|shoulder}"),a,z,z.ga1())
if(x)X.fF(c,a,b.d3("FightSituation").gc8())
else a.bv(c,"<subject> {scream|yell|grunt}<s> in pain",!0)
b.co("FightSituation")
return H.b(a.ch)+" parries "+H.b(y.gm(z))+" but the swing has extra force"}a.dK(c,"<subject> {parr<ies> it|stop<s> it with <subject's> "+a.ga1().f+"}",!0)
b.co("FightSituation")
return H.b(a.ch)+" parries "+H.b(J.B(this.b))},"$3","gaa",6,0,0],
a4:function(a,b){if(a.gN())return 0.6
return 0.3},
Z:function(a,b){return a.bk(C.i)},
p:{
xJ:[function(a){return new K.op(!1,"You can deal serious damage when countering because your opponent is often caught off guard. On the other hand, counters require fast reaction and could throw you out of balance.",a,null)},"$1","vS",2,0,1]}},oq:{"^":"a:1;a,b",
$0:function(){var z=this.a
z.toString
this.b.U(0,"<subject> {fail<s>|<does>n't succeed}",!0,!1,!1,null,null,!1,z,!1)
return}},or:{"^":"a:1;a,b,c",
$0:function(){return this.a.b.dL(this.c,"<subject> <is> too quick for <object>",!0,this.b)}},os:{"^":"a:0;",
$1:function(a){a.saE(a.gaE()-1)
return a}}}],["","",,Y,{"^":"",p0:{"^":"af;Y:c<,a6:d<,b,a",
gav:function(){return"roll out of way"},
gaH:function(){return"will <subject> evade?"},
ac:[function(a,b,c){a.aw(c,"<subject> tr<ies> to roll out of the way")
a.toString
c.U(0,"<subject> can't",!0,!1,!1,null,null,!1,a,!1)
return H.b(a.gm(a))+" fails to roll out of the way"},"$3","ga9",6,0,0],
ad:[function(a,b,c){a.lS(c,"<subject> <is> able to roll out of the way",!0,!0)
if(a.gN()){b.ax(a.gu(a),new Y.p1())
c.U(0,"<subject> jump<s> up on <subject's> feet",!1,!1,!1,null,null,!0,a,!1)}b.co("FightSituation")
return H.b(a.gm(a))+" rolls out of the way of "+H.b(J.B(this.b))+"'s strike"},"$3","gaa",6,0,0],
a4:function(a,b){if(a.gN())return 1
return 0.5},
Z:function(a,b){return!0},
p:{
xU:[function(a){return new Y.p0(null,!1,a,null)},"$1","vV",2,0,1]}},p1:{"^":"a:0;",
$1:function(a){a.sI(C.c)
return a}}}],["","",,V,{"^":"",
i8:function(a,b,c){var z=new V.eF(null,null,null,null,null,null)
new V.uT(a,b,c).$1(z)
return z.C()},
eE:{"^":"bc;",
gbn:function(){return[K.vS(),Y.vV()]},
gm:function(a){return"OnGroundDefenseSituation"},
bq:function(){var z=new V.eF(null,null,null,null,null,null)
z.a=this
new V.on().$1(z)
return z.C()},
bl:function(a,b){if(a===0)return b.aj(this.d)
return},
bB:function(a,b){return new H.a3(a,new V.oo(this),[H.p(a,0)])}},
uT:{"^":"a:0;a,b,c",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaB().d=z
a.gaB().f=0
z=this.a
z=z.gu(z)
a.gaB().b=z
z=J.F(this.b)
a.gaB().e=z
a.gaB().c=this.c
return a}},
on:{"^":"a:0;",
$1:function(a){var z=a.gaB().f
if(typeof z!=="number")return z.H()
a.gaB().f=z+1
return a}},
oo:{"^":"a:0;a",
$1:function(a){var z,y
z=J.l(a)
y=this.a
return J.f(z.gu(a),y.a)||J.f(z.gu(a),y.d)}},
rl:{"^":"eE;a,b,u:c>,d,R:e<",
aG:function(a){var z=new V.eF(null,null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof V.eE))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
if(z==null?y==null:z===y)if(J.f(this.d,b.d)){z=this.e
y=b.e
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)),J.x(this.e)))},
j:function(a){return"OnGroundDefenseSituation {attacker="+J.v(this.a)+",\nextraForce="+J.v(this.b)+",\nid="+J.v(this.c)+",\ntargetOnGround="+H.b(J.v(this.d))+",\ntime="+J.v(this.e)+",\n}"}},
eF:{"^":"c;a,b,c,d,e,f",
gu:function(a){return this.gaB().d},
gR:function(){return this.gaB().f},
gaB:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.f=z.e
this.a=null}return this},
C:function(){var z,y,x,w,v,u
z=this.a
if(z==null){y=this.gaB().b
x=this.gaB().c
w=this.gaB().d
v=this.gaB().e
u=this.gaB().f
z=new V.rl(y,x,w,v,u)
if(y==null)H.j(P.G("attacker"))
if(x==null)H.j(P.G("extraForce"))
if(w==null)H.j(P.G("id"))
if(v==null)H.j(P.G("targetOnGround"))
if(u==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,D,{"^":"",
iC:function(a,b){var z=new D.eV(null,null,null,null,null)
new D.uU(a,b).$1(z)
return z.C()},
iB:{"^":"bc;",
gbn:function(){return[Q.vj()]},
gm:function(a){return"StrikeDownSituation"},
bq:function(){var z=new D.eV(null,null,null,null,null)
z.a=this
new D.qC().$1(z)
return z.C()},
bl:function(a,b){if(a===0)return b.aj(this.a)
return},
bB:function(a,b){return new H.a3(a,new D.qD(this),[H.p(a,0)])}},
uU:{"^":"a:0;a,b",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaU().c=z
a.gaU().e=0
z=this.a
z=z.gu(z)
a.gaU().b=z
z=J.F(this.b)
a.gaU().d=z
return a}},
qC:{"^":"a:0;",
$1:function(a){var z=a.gaU().e
if(typeof z!=="number")return z.H()
a.gaU().e=z+1
return a}},
qD:{"^":"a:0;a",
$1:function(a){var z,y
z=J.l(a)
y=this.a
return J.f(z.gu(a),y.a)||J.f(z.gu(a),y.c)}},
rp:{"^":"iB;a,u:b>,c,R:d<",
aG:function(a){var z=new D.eV(null,null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof D.iB))return!1
z=this.a
y=b.a
if(z==null?y==null:z===y){z=this.b
y=b.b
if(z==null?y==null:z===y)if(J.f(this.c,b.c)){z=this.d
y=b.d
y=z==null?y==null:z===y
z=y}else z=!1
else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)),J.x(this.d)))},
j:function(a){return"StrikeDownSituation {attacker="+J.v(this.a)+",\nid="+J.v(this.b)+",\ntargetOnGround="+H.b(J.v(this.c))+",\ntime="+J.v(this.d)+",\n}"}},
eV:{"^":"c;a,b,c,d,e",
gu:function(a){return this.gaU().c},
gR:function(){return this.gaU().e},
gaU:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.e=z.d
this.a=null}return this},
C:function(){var z,y,x,w,v
z=this.a
if(z==null){y=this.gaU().b
x=this.gaU().c
w=this.gaU().d
v=this.gaU().e
z=new D.rp(y,x,w,v)
if(y==null)H.j(P.G("attacker"))
if(x==null)H.j(P.G("id"))
if(w==null)H.j(P.G("targetOnGround"))
if(v==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,Y,{"^":"",qG:{"^":"dd;a6:c<,b,a",
gY:function(){return},
ac:[function(a,b,c){throw H.d(new P.aO(null))},"$3","ga9",6,0,0],
ad:[function(a,b,c){var z,y,x,w,v,u,t,s,r,q,p,o
z=b.e
y=z.length!==0?C.a.gA(z):null
x=y.aG(new Y.qH(this))
C.a.cp(z)
C.a.l(z,x)
w=this.b
v=b.fB(w.ghO())
for(u=R.jK(a,b),u=P.ac(u,!0,H.E(u,"L",0)),t=u.length,s=b.a,r=0;r<u.length;u.length===t||(0,H.a9)(u),++r){q=b.aj(J.F(u[r]))
p=q.aG(new Y.qI(v))
s.D(0,q)
s.l(0,p)}c.bb(0,"\n\n",!0)
c.l(0,v.gaY())
c.bb(0,"\n\n",!0)
if(v.glD()!=null){o=v.e.$1(b)
s.L(0,o)
C.a.l(z,U.me(new H.a3(s,new Y.qJ(a,v),[H.p(s,0)]),o,v.r))}return H.b(J.B(a))+" went through exit to "+w.a},"$3","gaa",6,0,0],
bC:function(a,b){return"WARNING should not be user-visible"},
a4:function(a,b){return 1},
Z:function(a,b){return!0},
p:{
ye:[function(a){return new Y.qG(!1,a,null)},"$1","w9",2,0,9]}},qH:{"^":"a:0;a",
$1:function(a){a.sbd(this.a.b.ghO())
return a}},qI:{"^":"a:0;a",
$1:function(a){a.sbd(J.B(this.a))
return a}},qJ:{"^":"a:0;a,b",
$1:function(a){var z,y
z=a.gb5()
y=this.a.gb5()
z=z.a
y=y.a
return(z==null?y==null:z===y)&&J.f(a.gbd(),J.B(this.b))}}}],["","",,F,{"^":"",
p3:function(a){var z=new F.eL(null,null,null,null)
new F.v8(a).$1(z)
return z.C()},
im:{"^":"bc;",
gbn:function(){return[Y.w9()]},
gci:function(){return H.r([],[Q.b6])},
gm:function(a){return"RoomRoamingSituation"},
bq:function(){var z=new F.eL(null,null,null,null)
z.a=this
new F.p4().$1(z)
return z.C()},
bl:function(a,b){return b.a.br(0,new F.p5(),new F.p6())},
bB:function(a,b){var z=this.bl(null,b)
if(z==null)return[]
return[z]},
i6:function(a,b){a.a.jz(new F.p7(),!0)},
e2:function(a){if(J.f(this.a,$.$get$fw().b))return!1
return!0}},
v8:{"^":"a:0;a",
$1:function(a){var z=$.$get$bg().ae(1073741823)
a.gaT().c=z
a.gaT().d=0
z=this.a.b
a.gaT().b=z
return a}},
p4:{"^":"a:0;",
$1:function(a){var z=a.gaT().d
if(typeof z!=="number")return z.H()
a.gaT().d=z+1
return a}},
p5:{"^":"a:0;",
$1:function(a){return a.gN()&&a.gbs()}},
p6:{"^":"a:1;",
$0:function(){return}},
p7:{"^":"a:0;",
$1:function(a){return!a.gbR()}},
rm:{"^":"im;bd:a<,u:b>,R:c<",
aG:function(a){var z=new F.eL(null,null,null,null)
z.a=this
a.$1(z)
return z.C()},
v:function(a,b){var z,y
if(b==null)return!1
if(!(b instanceof F.im))return!1
if(J.f(this.a,b.a)){z=this.b
y=b.b
if(z==null?y==null:z===y){z=this.c
y=b.c
y=z==null?y==null:z===y
z=y}else z=!1}else z=!1
return z},
gq:function(a){return Y.aW(Y.z(Y.z(Y.z(0,J.x(this.a)),J.x(this.b)),J.x(this.c)))},
j:function(a){return"RoomRoamingSituation {currentRoomName="+H.b(J.v(this.a))+",\nid="+J.v(this.b)+",\ntime="+J.v(this.c)+",\n}"}},
eL:{"^":"c;a,b,c,d",
gbd:function(){return this.gaT().b},
sbd:function(a){this.gaT().b=a
return a},
gu:function(a){return this.gaT().c},
gR:function(){return this.gaT().d},
gaT:function(){var z=this.a
if(z!=null){this.b=z.a
this.c=z.b
this.d=z.c
this.a=null}return this},
C:function(){var z,y,x,w
z=this.a
if(z==null){y=this.gaT().b
x=this.gaT().c
w=this.gaT().d
z=new F.rm(y,x,w)
if(y==null)H.j(P.G("currentRoomName"))
if(x==null)H.j(P.G("id"))
if(w==null)H.j(P.G("time"))}this.a=z
return z}}}],["","",,O,{"^":"",
yO:[function(a){var z,y
z=$.$get$e2()
y=z.a
if(y.length>0){y+=" "
z.a=y}z.a=y+a},"$1","vX",2,0,3],
wd:[function(a){$.fA=a},"$1","vY",2,0,3],
jD:[function(a,b,c,d,e,f,g){var z=L.h2(a,!1,!1,d,e,f,g)
$.$get$cg().l(0,z)
return z},function(a){return O.jD(a,!1,!1,null,null,null,null)},function(a,b,c){return O.jD(a,!1,!1,null,b,c,null)},"$7$deferToChoiceList$deferToEndOfPage$goto$helpMessage$script$submenu","$1","$3$helpMessage$script","vW",2,13,11,0,0,0,1,1,0]}],["","",,N,{"^":"",eA:{"^":"c;m:a>,b,c,jp:d>,ah:e>,f",
ghU:function(){var z,y,x
z=this.b
y=z==null||J.f(J.B(z),"")
x=this.a
return y?x:z.ghU()+"."+x},
gf2:function(){if($.fB){var z=this.b
if(z!=null)return z.gf2()}return $.jq},
lx:function(a,b,c,d,e){var z,y,x,w,v,u,t,s,r,q,p,o
x=a.b
if(x>=this.gf2().b){if(!!J.n(b).$isbA)b=b.$0()
w=b
if(typeof w!=="string"){v=b
b=J.v(b)}else v=null
if(d==null&&x>=$.jT.b)try{x="autogenerated stack trace for "+a.j(0)+" "+H.b(b)
throw H.d(x)}catch(u){x=H.H(u)
z=x
y=H.U(u)
d=y
if(c==null)c=z}e=$.i
x=b
w=this.ghU()
t=c
s=d
r=Date.now()
q=$.ez
$.ez=q+1
p=new N.o3(a,x,v,w,new P.bY(r,!1),q,t,s,e)
if($.fB)for(o=this;o!=null;){o.hj(p)
o=o.b}else $.$get$hX().hj(p)}},
cm:function(a,b,c,d){return this.lx(a,b,c,d,null)},
l4:function(a,b,c){return this.cm(C.ao,a,b,c)},
X:function(a){return this.l4(a,null,null)},
l3:function(a,b,c){return this.cm(C.an,a,b,c)},
b3:function(a){return this.l3(a,null,null)},
l2:function(a,b,c){return this.cm(C.ap,a,b,c)},
dC:function(a){return this.l2(a,null,null)},
lg:function(a,b,c){return this.cm(C.G,a,b,c)},
lf:function(a){return this.lg(a,null,null)},
m8:function(a,b,c){return this.cm(C.as,a,b,c)},
ip:function(a){return this.m8(a,null,null)},
iH:function(a,b,c){return this.cm(C.ar,a,b,c)},
fE:function(a){return this.iH(a,null,null)},
hj:function(a){},
p:{
bD:function(a){return $.$get$hW().fc(0,a,new N.v5(a))}}},v5:{"^":"a:1;a",
$0:function(){var z,y,x,w
z=this.a
if(C.b.cu(z,"."))H.j(P.O("name shouldn't start with a '.'"))
y=C.b.i0(z,".")
if(y===-1)x=z!==""?N.bD(""):null
else{x=N.bD(C.b.ag(z,0,y))
z=C.b.bF(z,y+1)}w=new H.a1(0,null,null,null,null,null,0,[P.h,N.eA])
w=new N.eA(z,x,null,w,new P.r3(w,[null,null]),null)
if(x!=null)J.k3(x).k(0,z,w)
return w}},o3:{"^":"c;f2:a<,b,aF:c<,d,R:e<,f,bP:r>,b9:x<,y",
j:function(a){return"["+this.a.a+"] "+this.d+": "+H.b(this.b)}}}],["","",,X,{"^":"",
ar:function(a){return X.cc(J.k2(a,0,new X.vp()))},
aL:function(a,b){var z=J.S(a,b)
if(typeof z!=="number")return H.m(z)
a=536870911&z
a=536870911&a+((524287&a)<<10)
return a^a>>>6},
cc:function(a){if(typeof a!=="number")return H.m(a)
a=536870911&a+((67108863&a)<<3)
a^=a>>>11
return 536870911&a+((16383&a)<<15)},
vp:{"^":"a:3;",
$2:function(a,b){return X.aL(a,J.x(b))}}}]]
setupProgram(dart,init.types.length)
var deferredTypes=[{func:1,ret:P.h,args:[R.a_,A.bf,Y.bd]},{func:1,ret:Q.af,args:[R.a_]},{func:1,ret:Y.c_,args:[P.t]},{func:1,v:true,args:[P.h]},{func:1,v:true,args:[P.c]},{func:1,ret:P.h,args:[P.t]},{func:1,ret:P.R,args:[R.a_,A.bf]},{func:1,ret:P.t,args:[R.a_]},{func:1,ret:P.R,args:[P.R,P.R]},{func:1,ret:Q.dd,args:[Q.bz]},{func:1,ret:[P.a0,P.an]},{func:1,ret:L.ai,args:[P.h],named:{deferToChoiceList:P.T,deferToEndOfPage:P.T,goto:P.h,helpMessage:P.h,script:{func:1,ret:[P.a0,P.an]},submenu:P.h}}]
init.types.push.apply(init.types,deferredTypes)
C.a7=new P.ak(5000)
C.a9=new U.df(0)
C.aa=new U.df(1)
C.ab=new U.df(2)
C.i=new U.df(3)
C.F=new O.hP(0)
C.am=new O.hP(1)
C.an=new N.b9("FINER",400)
C.ao=new N.b9("FINEST",300)
C.ap=new N.b9("FINE",500)
C.aq=new N.b9("OFF",2000)
C.aR=new H.cp([0,"ItemType.spear",1,"ItemType.branch",2,"ItemType.tent",3,"ItemType.sword"],[null,null])
C.aT=new H.cp([0,"KnownToMode.all",1,"KnownToMode.protagonistOnly",2,"KnownToMode.custom"],[null,null])
C.J=new H.cp([0,"Pose.standing",1,"Pose.offBalance",2,"Pose.onGround"],[null,null])
C.c=new R.eI(0)
C.h=new R.eI(1)
C.j=new R.eI(2)
C.L=new Y.cB("he","him","his","himself")
C.n=new Y.cB("it","it","its","itself")
C.aU=new Y.cB("she","her","her","herself")
C.aV=new Y.cB("they","them","their","themselves")
C.M=new Y.cB("you","you","your","yourself")
C.p=H.ah("dynamic")
C.be=new P.ca(null,2)
$.fB=!1
$.jT=C.aq
$.jq=C.G
$.ez=0;(function(a){for(var z=0;z<a.length;){var y=a[z++]
var x=a[z++]
var w=a[z++]
var v=a[z++]
I.$lazy(y,x,w,null,v)}})(["ed","$get$ed",function(){return P.lB()},$,"ib","$get$ib",function(){return N.bD("PlannerRecommendation")},$,"fw","$get$fw",function(){return K.p2("__END_OF_ROAM__","","",null,null,[],"ground")},$,"bg","$get$bg",function(){return P.dr(null)},$,"bG","$get$bG",function(){return P.dr(null)},$,"jO","$get$jO",function(){return N.bD("Storyline")},$,"iz","$get$iz",function(){return P.I("(\\w)([\\.\\?\\!])([\"'])\\.(?=$|\\s)",!0,!1)},$,"fv","$get$fv",function(){return L.f1(new L.v7())},$,"bv","$get$bv",function(){return L.f1(new L.v6())},$,"e0","$get$e0",function(){return L.f1(new L.v9())},$,"fr","$get$fr",function(){return Y.hp(!1,"balance",!0,C.n,$.$get$bv())},$,"eG","$get$eG",function(){return new F.oC("Sometimes, patience pays off. Especially when the other option is potentially dangerous.",!1,null)},$,"il","$get$il",function(){return new B.oZ("Most moves are easier and more effective when you are firmly in balance.",!1,null)},$,"iq","$get$iq",function(){return new O.pg(null,!1,null)},$,"iw","$get$iw",function(){return new Q.pW(null,!1,null)},$,"iZ","$get$iZ",function(){return new M.r1("",!1,null)},$,"jo","$get$jo",function(){return P.dr(null)},$,"jW","$get$jW",function(){return Y.hp(!1,"swing",!0,C.n,$.$get$bv())},$,"hX","$get$hX",function(){return N.bD("")},$,"hW","$get$hW",function(){return P.at(P.h,N.eA)},$])}
$dart_deferred_initializers$["h9KO3yjH1ngsUn4Fl1G2NPgNaQA="]=$dart_deferred_initializers$.current
