Title:      Test Gamebook #1  
Subtitle:   The Adventures of a Guy with a Gun  
Author:     Filip Hracek  
            John Doe  
Web:        http://filiph.net/  
Email:      abc@example.com  
Keywords:   crimi, thriller  
Copyright:  Creative Commons  

<classes>
class A {
  int i;
}

// for Persistence testing
class ClassWithMapMethods implements Saveable {
  int i;
  String s;
  Map m = const {
    "a": 1,
    "b": 2
  };
  
  String className = "ClassWithMapMethods";
  toMap() => {"i": i, "s": s, "m": m};
  
  ClassWithMapMethods();
  
  ClassWithMapMethods.fromMap(map) {
    updateFromMap(map);
  }
  
  updateFromMap(map) {
    i = map["i"];
    s = map["s"];
  }
}

</classes>

---
aaa

Starting and setting variables.

<script>
  nullified = null;
  integer = 0;
  numeric = 3.14;
  string = "Řeřicha UTF-8 String";
  nonSaveable = new A();
  list1 = ["a", "b", "ř"];
  list2 = [integer, numeric, list1, nonSaveable];
  map1 = {"a":integer,"b":numeric,"c":nullified};
  map2 = {"x":map1,"y":list2,"z":nonSaveable};
  saveable = new ClassWithMapMethods();
  saveable.i = 42;
  saveable.s = "Řeřicha";
</script>

- Jump [bbb]

---
bbb

Scripter should still have all variables, but only Saveable types were
sent to Runner.